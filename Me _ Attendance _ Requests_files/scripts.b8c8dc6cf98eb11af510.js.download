var jsl,OrgChart=function(t,e){var r=this;if(this.element=t,this.config=OrgChart.mergeDeep(OrgChart._defaultConfig(e),e),this._layoutConfigs={base:{orientation:this.config.orientation,levelSeparation:this.config.levelSeparation,mixedHierarchyNodesSeparation:this.config.mixedHierarchyNodesSeparation,assistantSeparation:this.config.assistantSeparation,subtreeSeparation:this.config.subtreeSeparation,siblingSeparation:this.config.siblingSeparation,layout:this.config.layout,columns:this.config.columns,collapse:this.config.collapse,partnerNodeSeparation:this.config.partnerNodeSeparation}},this.config.tags)for(var i in this.config.tags){var n=this.config.tags[i];null!=n.subTreeConfig&&(this._layoutConfigs[i]={orientation:null!=n.subTreeConfig.orientation?n.subTreeConfig.orientation:this.config.orientation,levelSeparation:null!=n.subTreeConfig.levelSeparation?n.subTreeConfig.levelSeparation:this.config.levelSeparation,mixedHierarchyNodesSeparation:null!=n.subTreeConfig.mixedHierarchyNodesSeparation?n.subTreeConfig.mixedHierarchyNodesSeparation:this.config.mixedHierarchyNodesSeparation,assistantSeparation:null!=n.subTreeConfig.assistantSeparation?n.subTreeConfig.assistantSeparation:this.config.assistantSeparation,subtreeSeparation:null!=n.subTreeConfig.subtreeSeparation?n.subTreeConfig.subtreeSeparation:this.config.subtreeSeparation,siblingSeparation:null!=n.subTreeConfig.siblingSeparation?n.subTreeConfig.siblingSeparation:this.config.siblingSeparation,layout:null!=n.subTreeConfig.layout?n.subTreeConfig.layout:this.config.layout,columns:null!=n.subTreeConfig.columns?n.subTreeConfig.columns:this.config.columns,collapse:null!=n.subTreeConfig.collapse?n.subTreeConfig.collapse:this.config.collapse,partnerNodeSeparation:null!=n.subTreeConfig.partnerNodeSeparation?n.subTreeConfig.partnerNodeSeparation:this.config.partnerNodeSeparation})}if(this._event_id=OrgChart._guid(),!this.config.searchFields.length&&this.config.nodeBinding)for(var a in this.config.nodeBinding)-1==a.indexOf("img")&&"function"!=typeof this.config.nodeBinding[a]&&this.config.searchFields.push(this.config.nodeBinding[a]);OrgChart._validateConfig(this.config)&&(this._vScroll={},this.config.ui||(this.ui=OrgChart.ui),this.editUI=this.config.editUI?this.config.editUI:new OrgChart.editUI,this.editUI.init(this),this.manager=new OrgChart.manager(this.config,this._layoutConfigs),this.searchUI=this.config.searchUI?this.config.searchUI:new OrgChart.searchUI,this.nodeMenuUI=this.config.nodeMenuUI?this.config.nodeMenuUI:new OrgChart.menuUI,this.nodeMenuUI.init(this,this.config.nodeMenu),this.nodeCircleMenuUI=this.config.nodeCircleMenuUI?this.config.nodeCircleMenuUI:new OrgChart.circleMenuUI,this.nodeCircleMenuUI.init(this,this.config.nodeCircleMenu),this.nodeContextMenuUI=this.config.nodeContextMenuUI?this.config.nodeContextMenuUI:new OrgChart.menuUI,this.nodeContextMenuUI.init(this,this.config.nodeContextMenu),this.toolbarUI=this.config.toolbarUI?this.config.toolbarUI:new OrgChart.toolbarUI,this.notifierUI=this.config.notifierUI?this.config.notifierUI:new OrgChart.notifierUI,this.notifierUI.init(this),this.menuUI=this.config.menuUI?this.config.menuUI:new OrgChart.menuUI,this.menuUI.init(this,this.config.menu),this.config.xScrollUI||(this.xScrollUI=new OrgChart.xScrollUI(this.element,this.config,function(){return{boundary:r.response.boundary,scale:r.getScale(),viewBox:r.getViewBox(),padding:r.config.padding}},function(t){r.setViewBox(t)},function(){r._draw(!0,OrgChart.action.xScroll)})),this.config.yScrollUI||(this.yScrollUI=new OrgChart.yScrollUI(this.element,this.config,function(){return{boundary:r.response.boundary,scale:r.getScale(),viewBox:r.getViewBox(),padding:r.config.padding}},function(t){r.setViewBox(t)},function(){r._draw(!0,OrgChart.action.xScroll)})),this.element.classList.add("boc-"+this.config.mode),this._gragStartedId=null,this._timeout=null,this._touch=null,this._initialized=!1,this._moveInterval=null,this._movePosition=null,this.response=null,this.nodes=null,this._setInitialSizeIfNotSet(),this.config.nodes.length>0&&this._draw(!1,OrgChart.action.init))};function getType(t){return(function(){return t&&t!==this}).call(t)?typeof t:{}.toString.call(t).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()}function forEach(t,e,r){for(var i=0;i<t.length;i++)e.call(r,t[i],i,t)}OrgChart._defaultConfig=function(t){return{interactive:!0,mode:"light",lazyLoading:!0,enableDragDrop:!1,enableSearch:!0,enableTouch:!1,enableKeyNavigation:!1,miniMap:!1,nodeMenu:null,nodeCircleMenu:null,nodeContextMenu:null,menu:null,toolbar:!1,sticky:!0,nodeMouseClick:OrgChart.action.details,nodeMouseDbClick:OrgChart.none,mouseScrool:OrgChart.action.zoom,showXScroll:OrgChart.none,showYScroll:OrgChart.none,template:"ana",tags:{},min:!1,nodeBinding:{},linkBinding:{},searchFields:[],searchDisplayField:null,searchFieldsWeight:null,nodes:[],clinks:[],slinks:[],levelSeparation:60,siblingSeparation:20,subtreeSeparation:40,mixedHierarchyNodesSeparation:15,assistantSeparation:100,minPartnerSeparation:50,partnerChildrenSplitSeparation:20,partnerNodeSeparation:15,columns:10,padding:30,orientation:OrgChart.orientation.top,layout:OrgChart.normal,scaleInitial:1,scaleMin:.1,scaleMax:5,orderBy:null,editUI:null,searchUI:null,xScrollUI:null,yScrollUI:null,nodeMenuUI:null,nodeCircleMenuUI:null,nodeContextMenuUI:null,toolbarUI:null,notifierUI:null,menuUI:null,exportUrl:"https://balkan.app/export",collapse:{},expand:{},align:OrgChart.CENTER,UI:null,anim:{func:OrgChart.anim.outPow,duration:200},zoom:{speed:120,smooth:12},roots:null,state:null,editForm:{readOnly:!1,titleBinding:"name",photoBinding:"img",addMore:"Add more fileds",addMoreBtn:"Add",addMoreFieldName:"Field name",generateElementsFromFields:!0,buttons:{edit:{icon:OrgChart.icon.edit(24,24,"#fff"),text:"Edit",hideIfEditMode:!0,hideIfDetailsMode:!1},share:{icon:OrgChart.icon.share(24,24,"#fff"),text:"Share"},pdf:{icon:OrgChart.icon.pdf(24,24,"#fff"),text:"Save as PDF"},remove:{icon:OrgChart.icon.remove(24,24,"#fff"),text:"Remove",hideIfDetailsMode:!0}},elements:[]}}},OrgChart.prototype.load=function(t){return this.config.nodes=t,this._draw(!1,OrgChart.action.init),this},OrgChart.prototype.loadXML=function(t){var e=OrgChart._xml2json(t);this.load(e)},OrgChart.prototype.getXML=function(){return OrgChart._json2xml(this.config.nodes)},OrgChart.prototype.on=function(t,e){return OrgChart.events.on(t,e,this._event_id),this},OrgChart.prototype.draw=function(t,e,r){null==t&&(t=OrgChart.action.update),this._draw(!1,t,e,r)},OrgChart.prototype._draw=function(t,e,r,i){var n=this;this._hideBeforeAnimationCompleted=!1;var a=e==OrgChart.action.init?null:this.getViewBox();this.manager.read(t,this.width(),this.height(),a,e,r,function(t){e!=OrgChart.action.exporting&&(n.nodes=t.nodes,n.visibleNodeIds=t.visibleNodeIds,n.roots=t.roots),n.editUI.fields=t.allFields;var a={defs:""};OrgChart.events.publish("renderdefs",[n,a]);var o=n.ui.defs(a.defs),l=n.getScale(t.viewBox);o+=n.ui.pointer(n.config,e,l);var s=n.getViewBox(),c=t.viewBox;OrgChart.events.publish("prerender",[n,a={content:o,res:t}]),o=a.content;for(var h=0;h<t.visibleNodeIds.length;h++){var d=t.nodes[t.visibleNodeIds[h]],p=n._get(d.id);OrgChart.RENDER_LINKS_BEFORE_NODES&&(o+=n.ui.link(d,n,l,t.bordersByRootIdAndLevel,t.nodes,e)),o+=n.ui.node(d,p,t.animations,n.config,void 0,void 0,void 0,e,l,n)}for(h=0;h<t.visibleNodeIds.length;h++)d=t.nodes[t.visibleNodeIds[h]],OrgChart.RENDER_LINKS_BEFORE_NODES||(o+=n.ui.link(d,n,l,t.bordersByRootIdAndLevel,t.nodes,e)),o+=n.ui.expandCollapseBtn(n,d,n._layoutConfigs,e,l);if(OrgChart.events.publish("render",[n,a={content:o,res:t}]),o=a.content,t=a.res,o+=n.ui.lonely(n.config),e!==OrgChart.action.exporting){if(e!==OrgChart.action.centerNode&&e!==OrgChart.action.insert&&e!==OrgChart.action.expand&&e!==OrgChart.action.collapse&&e!==OrgChart.action.update||(c=s),e===OrgChart.action.init&&null!=s&&(c=s),n.response=t,y=n.ui.svg(n.width(),n.height(),c,n.config,o),n._initialized){var u=n.getSvg(),g=u.parentNode;g.removeChild(u),g.insertAdjacentHTML("afterbegin",y),n._attachEventHandlers(),n.xScrollUI.addListener(n.getSvg()),n.yScrollUI.addListener(n.getSvg()),n.xScrollUI.setPosition(),n.yScrollUI.setPosition()}else n.element.innerHTML=n.ui.css()+y+n.ui.menuButton(n.config),n._attachInitEventHandlers(),n._attachEventHandlers(),n.xScrollUI.create(n.width(),n.config.padding),n.xScrollUI.setPosition(),n.xScrollUI.addListener(n.getSvg()),n.yScrollUI.create(n.height(),n.config.padding),n.yScrollUI.setPosition(),n.yScrollUI.addListener(n.getSvg()),n.config.enableSearch&&n.searchUI.init(n),n.toolbarUI.init(n,n.config.toolbar);var f=!1;n.notifierUI.show(t.notif);var m=n.response.animations;if(m[0].length>0){for(n._hideBeforeAnimation(m[0].length),h=0;h<m[0].length;h++)m[0][h]=n.getNodeElement(m[0][h]);OrgChart.anim(m[0],m[1],m[2],n.config.anim.duration,n.config.anim.func,function(){f||(i&&i(),OrgChart.events.publish("redraw",[n]),n._showAfterAnimation(),f=!0)})}e===OrgChart.action.centerNode?OrgChart.anim(n.getSvg(),{viewbox:s},{viewbox:n.response.viewBox},n.config.anim.duration,n.config.anim.func,function(){n.ripple(r.options.rippleId),f||(i&&i(),OrgChart.events.publish("redraw",[n]),n._showAfterAnimation(),f=!0)},function(){n.xScrollUI.setPosition(),n.yScrollUI.setPosition()}):!s||!n.response||s[0]==n.response.viewBox[0]&&s[1]==n.response.viewBox[1]&&s[2]==n.response.viewBox[2]&&s[3]==n.response.viewBox[3]||e!==OrgChart.action.insert&&e!==OrgChart.action.expand&&e!==OrgChart.action.collapse&&e!==OrgChart.action.update&&e!==OrgChart.action.init?0==m[0].length&&(f||(i&&i(),OrgChart.events.publish("redraw",[n]),f=!0)):OrgChart.anim(n.getSvg(),{viewbox:s},{viewbox:n.response.viewBox},500,OrgChart.anim.inOutPow,function(){n.xScrollUI.setPosition(),n.yScrollUI.setPosition(),f||(i&&i(),OrgChart.events.publish("redraw",[n]),f=!0)}),n._initialized||(n._initialized=!0,OrgChart.events.publish("init",[n]))}else{var v=t.boundary,b=v.maxX-v.minX,C=v.maxY-v.minY,y=n.ui.svg(b,C,[v.minX,v.minY,b,C],n.config,o,l);i(y)}},function(t){OrgChart.events.publish("ready",[n,t])})},OrgChart.prototype._setInitialSizeIfNotSet=function(){this.element.style.overflow="hidden",this.element.style.position="relative",0==this.element.offsetHeight&&(this.element.style.height="100%",0==this.element.offsetHeight&&(this.element.style.height="700px")),0==this.element.offsetWidth&&(this.element.style.width="100%",0==this.element.offsetWidth&&(this.element.style.width="700px"))},OrgChart.prototype.getViewBox=function(){var t=this.getSvg();return OrgChart._getViewBox(t)},OrgChart.prototype.setViewBox=function(t){this.getSvg().setAttribute("viewBox",t.toString())},OrgChart.prototype.width=function(){return this.element.offsetWidth},OrgChart.prototype.height=function(){return this.element.offsetHeight},OrgChart.prototype.getScale=function(t){return t||(t=this.getViewBox()),OrgChart.getScale(t,this.width(),this.height(),this.config.scaleInitial,this.config.scaleMax,this.config.scaleMin)},OrgChart.prototype.ripple=function(t,e,r){var i=this.getNode(t);if(null!=i){var n=this.getNodeElement(t);if(null!=n){var a=this.getScale(),o=i.w/2,l=i.h/2;if(void 0!==e&&void 0!==r){var s=n.getBoundingClientRect();o=e/a-s.left/a,l=r/a-s.top/a}var c=i.w,h=i.h,d=c-o>o?c-o:o,p=h-l>l?h-l:l,u=(d=d)>(p=p)?d:p,g=document.createElementNS("http://www.w3.org/2000/svg","g"),f=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),m=document.createElementNS("http://www.w3.org/2000/svg","rect"),v=document.createElementNS("http://www.w3.org/2000/svg","circle"),b=OrgChart.randomId();f.setAttribute("id",b);var C={ripple:OrgChart.t(i.templateName,i.min,this.getScale()).ripple,node:i};OrgChart.events.publish("ripple",[this,C]),m.setAttribute("x",C.ripple.rect?C.ripple.rect.x:0),m.setAttribute("y",C.ripple.rect?C.ripple.rect.y:0),m.setAttribute("width",C.ripple.rect?C.ripple.rect.width:i.w),m.setAttribute("height",C.ripple.rect?C.ripple.rect.height:i.h),m.setAttribute("rx",C.ripple.radius),m.setAttribute("ry",C.ripple.radius),v.setAttribute("clip-path","url(#"+b+")"),v.setAttribute("cx",o),v.setAttribute("cy",l),v.setAttribute("r",0),v.setAttribute("fill",C.ripple.color),v.setAttribute("class","boc-ripple"),f.appendChild(m),g.appendChild(f),g.appendChild(v),n.appendChild(g),OrgChart.anim(v,{r:0,opacity:1},{r:u,opacity:0},500,OrgChart.anim.outPow,function(){n.removeChild(g)})}}},OrgChart.prototype.center=function(t,e,r){var i,n,a=t,o=!0,l=!0;e&&null!=e.parentState&&(i=e.parentState),e&&null!=e.childrenState&&(n=e.childrenState),e&&null!=e.rippleId&&(a=e.rippleId),e&&null!=e.vertical&&(o=e.vertical),e&&null!=e.horizontal&&(l=e.horizontal),this._draw(!1,OrgChart.action.centerNode,{id:t,options:{parentState:i,childrenState:n,rippleId:a,vertical:o,horizontal:l}},r)},OrgChart.prototype.fit=function(t){this.config.scaleInitial=OrgChart.match.boundary,this._draw(!0,OrgChart.action.init,{method:"fit"},t)},OrgChart.prototype.toggleFullScreen=function(){var t=document.querySelector("["+OrgChart.attr.tlbr+"r='fullScreen']");document.fullscreenElement==this.element||document.webkitFullscreenElement==this.element||document.mozFullScreenElement==this.element||document.msFullscreenElement==this.element?(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),t&&(t.innerHTML=OrgChart.toolbarUI.openFullScreenIcon)):(this.element.requestFullscreen?this.element.requestFullscreen():this.element.mozRequestFullScreen?this.element.mozRequestFullScreen():this.element.webkitRequestFullscreen?this.element.webkitRequestFullscreen():this.element.msRequestFullscreen&&this.element.msRequestFullscreen(),t&&(t.innerHTML=OrgChart.toolbarUI.closeFullScreenIcon))},OrgChart.prototype.getNode=function(t){return this.nodes[t]},OrgChart.prototype.setLayout=function(t,e){e||(e="base"),this._layoutConfigs[e].layout=t,this._draw(!1,OrgChart.action.update)},OrgChart.prototype.setOrientation=function(t,e){e||(e="base"),this._layoutConfigs[e].orientation=t,this._draw(!1,OrgChart.action.update)},OrgChart.prototype.search=function(t,e,r){return OrgChart.isNEU(e)&&(e=this.config.searchFields),OrgChart.isNEU(r)&&(r=e),OrgChart._search.search(this.config.nodes,t,e,r,this.config.searchDisplayField,this.config.searchFieldsWeight)},OrgChart.prototype._hideBeforeAnimation=function(t){if(1!=this._hideBeforeAnimationCompleted&&!(t&&t<OrgChart.ANIM_THRESHOLD)){var e=this.element.getElementsByTagName("text");if(e.length>OrgChart.TEXT_THRESHOLD)for(var r=0;r<e.length;r++)e[r].style.display="none";var i=this.element.getElementsByTagName("image");if(i.length>OrgChart.IMAGES_THRESHOLD)for(r=0;r<i.length;r++)i[r].style.display="none";var n=this.element.querySelectorAll("["+OrgChart.attr.link_id+"]");if(n.length>OrgChart.LINKS_THRESHOLD)for(r=0;r<n.length;r++)n[r].style.display="none";var a=this.element.querySelectorAll("["+OrgChart.attr.control_expcoll_id+"]");if(a.length>OrgChart.BUTTONS_THRESHOLD)for(r=0;r<a.length;r++)a[r].style.display="none";var o=this.element.querySelectorAll("["+OrgChart.attr.control_up_id+"]");if(o.length>OrgChart.BUTTONS_THRESHOLD)for(r=0;r<o.length;r++)o[r].style.display="none";this._hideBeforeAnimationCompleted=!0}},OrgChart.prototype._showAfterAnimation=function(){for(var t=this.element.getElementsByTagName("text"),e=0;e<t.length;e++)t[e].style.display="";var r=this.element.getElementsByTagName("image");for(e=0;e<r.length;e++)r[e].style.display="";var i=this.element.querySelectorAll("["+OrgChart.attr.link_id+"]");for(e=0;e<i.length;e++)i[e].style.display="";var n=this.element.querySelectorAll("["+OrgChart.attr.control_expcoll_id+"]");for(e=0;e<n.length;e++)n[e].style.display="";var a=this.element.querySelectorAll("["+OrgChart.attr.control_up_id+"]");for(e=0;e<a.length;e++)a[e].style.display="";this._hideBeforeAnimationCompleted=!1},OrgChart.prototype.isChild=function(t,e){for(var r=this.getNode(e);r;){if(r.id==t)return!0;r=r.parent?r.parent:r.stParent}return!1},OrgChart.prototype.getCollapsedIds=function(t){for(var e=[],r=0;r<t.childrenIds.length;r++){var i=this.getNode(t.childrenIds[r]);1==i.collapsed&&e.push(i.id)}return e},OrgChart.prototype.stateToUrl=function(){if(this.manager.state){var t={};return t.exp=this.manager.state.exp.join("*"),t.min=this.manager.state.min.join("*"),t.adjustify=this.manager.state.adjustify.x+"*"+this.manager.state.adjustify.y,t.scale=this.manager.state.scale,t.y=this.manager.state.x,t.x=this.manager.state.y,new URLSearchParams(t).toString()}return""},OrgChart.prototype.generateId=function(){for(;;){var t="_"+("0000"+(Math.random()*Math.pow(36,4)|0).toString(36)).slice(-4);if(!this.nodes.hasOwnProperty(t))return t}},OrgChart.prototype._nodeHasHiddenParent=function(t){return!t.parent&&!OrgChart.isNEU(t.pid)&&this.getNode(t.pid)},OrgChart.prototype.destroy=function(){this._removeEvent(window,"resize"),OrgChart.events.removeForEventId(this._event_id),this.element.innerHTML=null},OrgChart.localStorage={},OrgChart.localStorage.getItem=function(t){return localStorage.getItem(t)},OrgChart.localStorage.setItem=function(t,e){try{localStorage.setItem(t,e)}catch(t){t.code==t.QUOTA_EXCEEDED_ERR?(console.warn("Local storage quota exceeded"),localStorage.clear()):(console.error("Local storage error code:"+t.code),console.error(t))}},OrgChart.prototype._canUpdateLink=function(t,e){if(null==e||null==e)return!1;if(null==t||null==t)return!1;if(t==e)return!1;var r=this.getNode(e),i=this.getNode(t);return!(r&&i&&(r.isAssistant||r.isPartner||r.hasPartners&&i.isAssistant||r.hasAssistants&&i.isPartner)||this.isChild(t,e))},OrgChart.prototype.updateNode=function(t,e,r){var i=this,n=this.get(t.id);if(!0===r&&!1===OrgChart.events.publish("update",[this,n,t]))return!1;this.update(t);var a=this.getNode(t.id),o=a.pid;null==o&&(o=a.stpid),this._draw(!1,OrgChart.action.update,{id:o},function(){i.ripple(t.id),e&&e(),OrgChart.events.publish("updated",[i,n,t])})},OrgChart.prototype.update=function(t){for(var e=0;e<this.config.nodes.length;e++)if(this.config.nodes[e].id==t.id){this.config.nodes[e]=t;break}return this},OrgChart.prototype.removeNode=function(t,e,r){var i=this;if(!this.canRemove(t))return!1;var n=this._getNewPidsAndStpidsForIds(t);return(!0!==r||!1!==OrgChart.events.publish("remove",[this,t,n]))&&(this.remove(t),this._draw(!1,OrgChart.action.update,null,function(){i.config.sticky&&OrgChart._moveToBoundaryArea(i.getSvg(),i.getViewBox(),i.response.boundary),e&&e(),OrgChart.events.publish("removed",[i,t,n])}),!0)},OrgChart.prototype.remove=function(t){var e=this.get(t);if(e)for(var r=this.config.nodes.length-1;r>=0;r--)this.config.nodes[r].pid!=t&&this.config.nodes[r].stpid!=t||(this.config.nodes[r].pid=e.pid,this.config.nodes[r].stpid=e.stpid),this.config.nodes[r].id==t&&this.config.nodes.splice(r,1);return this},OrgChart.prototype._getNewPidsAndStpidsForIds=function(t){var e=this.get(t),r={},i={};if(e)for(var n=this.config.nodes.length-1;n>=0;n--)this.config.nodes[n].pid==t?r[this.config.nodes[n].id]=e.pid:this.config.nodes[n].stpid==t&&(i[this.config.nodes[n].id]=e.stpid);return{newPidsForIds:r,newStpidsForIds:i}},OrgChart.prototype.addNode=function(t,e,r){var i=this;if(!0===r&&!1===OrgChart.events.publish("add",[this,t]))return!1;this.add(t),i._draw(!1,OrgChart.action.insert,{id:t.pid,insertedNodeId:t.id},function(){i.ripple(t.id),e&&e(),OrgChart.events.publish("added",[i,t.id])}),OrgChart.events.publish("adding",[i,t.id])},OrgChart.prototype.add=function(t){return null==t.id&&console.error("Call addNode without id"),this.config.nodes.push(t),this},OrgChart.prototype._get=function(t){for(var e=0;e<this.config.nodes.length;e++)if(this.config.nodes[e].id==t)return this.config.nodes[e];return null},OrgChart.prototype.get=function(t){for(var e=0;e<this.config.nodes.length;e++)if(this.config.nodes[e].id==t)return JSON.parse(JSON.stringify(this.config.nodes[e]));return null},OrgChart.prototype.canRemove=function(t){var e=this.getNode(t);return!!e&&!e.hasPartners&&!e.hasAssistants},void 0===OrgChart&&(OrgChart={}),OrgChart._ajax=function(t,e,r,i,n){null==i&&(i="arraybuffer");var a=new XMLHttpRequest;a.onload=function(t){4==a.readyState&&200===this.status&&n(null==t.target?this.response:t.target.response)},a.onerror=function(t){n({error:t})},a.open(e,t),a.responseType=i,a.setRequestHeader("Content-Type","application/json"),null==r?a.send():a.send(r)},void 0===OrgChart&&(OrgChart={}),OrgChart.anim=function(t,e,r,i,n,a,o){var l,s=10,c=1,h=i/s+1;return document.getElementsByTagName("g"),Array.isArray(t)||(t=[t]),Array.isArray(e)||(e=[e]),Array.isArray(r)||(r=[r]),l=setInterval(function(){for(var d=0;d<t.length;d++)for(var p in r[d]){var u=OrgChart._arrayContains(["top","left","right","bottom","width","height"],p.toLowerCase())?"px":"";switch(p.toLowerCase()){case"d":var g=n((c*s-s)/i)*(r[d][p][0]-e[d][p][0])+e[d][p][0],f=n((c*s-s)/i)*(r[d][p][1]-e[d][p][1])+e[d][p][1];t[d].setAttribute("d",t[d].getAttribute("d")+" L"+g+" "+f);break;case"r":var m=n((c*s-s)/i)*(r[d][p]-e[d][p])+e[d][p];t[d].setAttribute("r",m);break;case"x1":m=n((c*s-s)/i)*(r[d][p]-e[d][p])+e[d][p],t[d].setAttribute("x1",m);break;case"x2":m=n((c*s-s)/i)*(r[d][p]-e[d][p])+e[d][p],t[d].setAttribute("x2",m);break;case"y1":m=n((c*s-s)/i)*(r[d][p]-e[d][p])+e[d][p],t[d].setAttribute("y1",m);break;case"y2":m=n((c*s-s)/i)*(r[d][p]-e[d][p])+e[d][p],t[d].setAttribute("y2",m);break;case"rotate3d":if(r[d][p]){var v=e[d][p],b=r[d][p],C=[0,0,0,0];for(var y in v)C[y]=n((c*s-s)/i)*(b[y]-v[y])+v[y];t[d].style.transform="rotate3d("+C.toString()+"deg)"}break;case"transform":if(r[d][p]){for(var y in b=r[d][p],C=[0,0,0,0,0,0],v=e[d][p])C[y]=n((c*s-s)/i)*(b[y]-v[y])+v[y];t[d].hasAttribute("transform")?t[d].setAttribute("transform","matrix("+C.toString()+")"):t[d].style.transform="matrix("+C.toString()+")"}break;case"viewbox":if(r[d][p]){for(var y in b=r[d][p],C=[0,0,0,0],v=e[d][p])C[y]=n((c*s-s)/i)*(b[y]-v[y])+v[y];t[d].setAttribute("viewBox",C.toString())}break;case"margin":if(r[d][p]){for(var y in b=r[d][p],C=[0,0,0,0],v=e[d][p])C[y]=n((c*s-s)/i)*(b[y]-v[y])+v[y];var x="";for(y=0;y<C.length;y++)x+=parseInt(C[y])+"px ";t[d]&&t[d].style&&(t[d].style[p]=x)}break;case"scrolly":m=n((c*s-s)/i)*(r[d][p]-e[d][p])+e[d][p],t[d].scrollTo(0,m);break;default:m=n((c*s-s)/i)*(r[d][p]-e[d][p])+e[d][p],t[d]&&t[d].style&&(t[d].style[p]=m+u)}}o&&o(),(c+=1)>h+1&&(clearInterval(l),a&&a(t))},s)},OrgChart.anim.inPow=function(t){return t<0?0:t>1?1:Math.pow(t,2)},OrgChart.anim.outPow=function(t){return t<0?0:t>1?1:-1*(Math.pow(t-1,2)+-1)},OrgChart.anim.inOutPow=function(t){return t<0?0:t>1?1:(t*=2)<1?OrgChart.anim.inPow(t,2)/2:-.5*(Math.pow(t-2,2)+-2)},OrgChart.anim.inSin=function(t){return t<0?0:t>1?1:1-Math.cos(t*(Math.PI/2))},OrgChart.anim.outSin=function(t){return t<0?0:t>1?1:Math.sin(t*(Math.PI/2))},OrgChart.anim.inOutSin=function(t){return t<0?0:t>1?1:-.5*(Math.cos(Math.PI*t)-1)},OrgChart.anim.inExp=function(t){return t<0?0:t>1?1:Math.pow(2,10*(t-1))},OrgChart.anim.outExp=function(t){return t<0?0:t>1?1:1-Math.pow(2,-10*t)},OrgChart.anim.inOutExp=function(t){return t<0?0:t>1?1:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,10*(-2*t+1)))},OrgChart.anim.inCirc=function(t){return t<0?0:t>1?1:-(Math.sqrt(1-t*t)-1)},OrgChart.anim.outCirc=function(t){return t<0?0:t>1?1:Math.sqrt(1-(t-1)*(t-1))},OrgChart.anim.inOutCirc=function(t){return t<0?0:t>1?1:t<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(2*t-2)*(2*t-2))+1)},OrgChart.anim.rebound=function(t){return t<0?0:t>1?1:t<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-1.5/2.75)*(t-1.5/2.75)+.75):t<2.5/2.75?1-(7.5625*(t-2.25/2.75)*(t-2.25/2.75)+.9375):1-(7.5625*(t-2.625/2.75)*(t-2.625/2.75)+.984375)},OrgChart.anim.inBack=function(t){return t<0?0:t>1?1:t*t*(2.70158*t-1.70158)},OrgChart.anim.outBack=function(t){return t<0?0:t>1?1:(t-1)*(t-1)*(2.70158*(t-1)+1.70158)+1},OrgChart.anim.inOutBack=function(t){return t<0?0:t>1?1:t<.5?4*t*t*(7.1898*t-2.5949)*.5:.5*((2*t-2)*(2*t-2)*(3.5949*(2*t-2)+2.5949)+2)},OrgChart.anim.impulse=function(t){var e=2*t;return e*Math.exp(1-e)},OrgChart.anim.expPulse=function(t){return Math.exp(-2*Math.pow(t,2))},void 0===OrgChart&&(OrgChart={}),OrgChart.prototype._attachInitEventHandlers=function(t){this._addEvent(window,"resize",this._resizeHandler)},OrgChart.prototype._attachEventHandlers=function(t){if(this.config.interactive){t=this.getSvg(),this.config.enableTouch||OrgChart.isMobile()?(this._addEvent(t,"touchstart",this._globalMouseDownHandler),this._addEvent(t,"touchend",this._globalClickHandler)):(this._addEvent(t,"mousedown",this._globalMouseDownHandler),this._addEvent(t,"click",this._globalClickHandler),this._addEvent(t,"contextmenu",this._globalContextHandler),this._addEvent(t,"dblclick",this._globalDbClickHandler),this.config.mouseScrool!=OrgChart.action.zoom&&this.config.mouseScrool!=OrgChart.action.ctrlZoom||(this._addEvent(t,"DOMMouseScroll",this._mouseScrollHandler),this._addEvent(t,"mousewheel",this._mouseScrollHandler)));var e=this.getMenuButton();e&&this._addEvent(e,"click",this._menuClickHandler)}},OrgChart.prototype._addEvent=function(t,e,r,i){var n,a;function o(t){var e=r.apply(this,arguments);return!1===e&&(t.stopPropagation(),t.preventDefault()),e}i||(i=""),t.getListenerList||(t.getListenerList={}),t.getListenerList[e+i]||(n=this,a=r,r=function(){if(a)return a.apply(n,[this,arguments[0]])},t.addEventListener?t.addEventListener(e,o,"mousewheel"==e&&{passive:!1}):t.attachEvent("on"+e,function(){var e=r.call(t,window.event);return!1===e&&(window.event.returnValue=!1,window.event.cancelBubble=!0),e}),t.getListenerList[e+i]=o)},OrgChart.prototype._removeEvent=function(t,e){t.getListenerList[e]&&(t.removeEventListener(e,t.getListenerList[e],!1),delete t.getListenerList[e])},void 0===OrgChart&&(OrgChart={}),OrgChart.VERSION="8.01.03",OrgChart.orientation={},OrgChart.orientation.top=0,OrgChart.orientation.bottom=1,OrgChart.orientation.right=2,OrgChart.orientation.left=3,OrgChart.orientation.top_left=4,OrgChart.orientation.bottom_left=5,OrgChart.orientation.right_top=6,OrgChart.orientation.left_top=7,OrgChart.CENTER=8,OrgChart.ORIENTATION=9,OrgChart.TEXT_THRESHOLD=400,OrgChart.IMAGES_THRESHOLD=100,OrgChart.LINKS_THRESHOLD=200,OrgChart.BUTTONS_THRESHOLD=70,OrgChart.ANIM_THRESHOLD=50,OrgChart.attr={},OrgChart.attr.l="data-l",OrgChart.attr.id="data-id",OrgChart.attr.sl="data-sl",OrgChart.attr.lbl="data-lbl",OrgChart.attr.val="data-val",OrgChart.attr.tlbr="data-tlbr",OrgChart.attr.item="data-item",OrgChart.attr.layout="data-layout",OrgChart.attr.node_id="data-n-id",OrgChart.attr.link_id="data-l-id",OrgChart.attr.field_name="data-f-name",OrgChart.attr.c_link_to="data-c-l-to",OrgChart.attr.c_link_from="data-c-l-from",OrgChart.attr.s_link_to="data-s-l-to",OrgChart.attr.s_link_from="data-s-l-from",OrgChart.attr.control_add="data-ctrl-add",OrgChart.attr.control_expcoll_id="data-ctrl-ec-id",OrgChart.attr.control_up_id="data-ctrl-up-id",OrgChart.attr.control_export_menu="data-ctrl-menu",OrgChart.attr.control_node_menu_id="data-ctrl-n-menu-id",OrgChart.attr.control_node_circle_menu_id="data-ctrl-n-c-menu-id",OrgChart.attr.control_node_circle_menu_name="data-ctrl-n-c-menu-name",OrgChart.attr.control_node_circle_menu_wrraper_id="data-ctrl-n-c-menu-wrapper-id",OrgChart.attr.width="data-width",OrgChart.attr.text_overflow="data-text-overflow",OrgChart.ID="id",OrgChart.PID="pid",OrgChart.STPID="stpid",OrgChart.TAGS="tags",OrgChart.NODES="nodes",OrgChart.ELASTIC="elastic",OrgChart.MAX_DEPTH=200,OrgChart.SCALE_FACTOR=1.44,OrgChart.LAZY_LOADING_FACTOR=500,OrgChart.action={},OrgChart.action.expand=0,OrgChart.action.collapse=1,OrgChart.action.maximize=101,OrgChart.action.minimize=102,OrgChart.action.expandCollapse=501,OrgChart.action.edit=1,OrgChart.action.zoom=2,OrgChart.action.ctrlZoom=22,OrgChart.action.scroll=41,OrgChart.action.xScroll=3,OrgChart.action.yScroll=4,OrgChart.action.none=5,OrgChart.action.init=6,OrgChart.action.update=7,OrgChart.action.pan=8,OrgChart.action.centerNode=9,OrgChart.action.resize=10,OrgChart.action.insert=11,OrgChart.action.insertfirst=12,OrgChart.action.details=13,OrgChart.action.exporting=14,OrgChart.none=400001,OrgChart.scroll={},OrgChart.scroll.visible=1,OrgChart.scroll.smooth=5,OrgChart.scroll.speed=30,OrgChart.scroll.safari={smooth:12,speed:250},OrgChart.match={},OrgChart.match.height=100001,OrgChart.match.width=100002,OrgChart.match.boundary=100003,OrgChart.COLLAPSE_PARENT_NEIGHBORS=1,OrgChart.COLLAPSE_SUB_CHILDRENS=2,OrgChart.COLLAPSE_PARENT_SUB_CHILDREN_EXCEPT_CLICKED=3,OrgChart.normal=0,OrgChart.mixed=1,OrgChart.tree=2,OrgChart.treeLeftOffset=3,OrgChart.treeRightOffset=4,OrgChart.nodeOpenTag="<g "+OrgChart.attr.node_id+'="{id}" style="opacity: {opacity}" transform="matrix(1,0,0,1,{x},{y})" class="{class}" '+OrgChart.attr.sl+'="{sl}" '+OrgChart.attr.l+"={level} {lcn}>",OrgChart.linkOpenTag="<g "+OrgChart.attr.link_id+'="[{id}][{child-id}]" class="{class}">',OrgChart.expcollOpenTag="<g "+OrgChart.attr.control_expcoll_id+'="{id}" transform="matrix(1,0,0,1,{x},{y})"  style="cursor:pointer;">',OrgChart.upOpenTag="<g "+OrgChart.attr.control_up_id+'="{id}" transform="matrix(1,0,0,1,{x},{y})" style="cursor:pointer;">',OrgChart.linkFieldsOpenTag='<g transform="matrix(1,0,0,1,{x},{y}) rotate({rotate})">',OrgChart.grCloseTag="</g>",OrgChart.IT_IS_LONELY_HERE='<g transform="translate(-100, 0)" style="cursor:pointer;"  '+OrgChart.attr.control_add+'="control-add"><text fill="#039be5">{link}</text></g>',OrgChart.RES={},OrgChart.RES.IT_IS_LONELY_HERE_LINK="It's lonely here, add your first node",OrgChart.FIRE_DRAG_NOT_CLICK_IF_MOVE=3,OrgChart.STRING_TAGS=!1,OrgChart.MAX_NODES_MESS="The trial has expired or 200 nodes limit was reached! <br /><a style='color: #039BE5;' target='_blank' href='https://balkan.app/OrgChartJS/Docs/Evaluation'>See more</a>",OrgChart.OFFLINE_MESS="The evaluation version requires internet connection! <br /><a style='color: #039BE5;' target='_blank' href='https://balkan.app/OrgChartJS/Docs/Evaluation'>See more</a>",OrgChart.SEARCH_PLACEHOLDER="Search",OrgChart.IMPORT_MESSAGE="Choose the columns (fields) in your data file that contain the required information.",OrgChart.FIXED_POSITION_ON_CLICK=!1,OrgChart.ADD_NEW_FIELD="Add new field",OrgChart.ASSISTANT="Assistant",OrgChart.RENDER_LINKS_BEFORE_NODES=!1,OrgChart.A5w=420,OrgChart.A5h=595,OrgChart.A4w=595,OrgChart.A4h=842,OrgChart.A3w=842,OrgChart.A3h=1191,OrgChart.A2w=1191,OrgChart.A2h=1684,OrgChart.A1w=1684,OrgChart.A1h=2384,OrgChart.Letterw=612,OrgChart.Letterh=791,OrgChart.Legalw=612,OrgChart.Legalh=1009,OrgChart.LINK_ROUNDED_CORNERS=5,OrgChart.MOVE_STEP=5,OrgChart.MOVE_INTERVAL=25,OrgChart.MIXED_LAYOUT_ALL_NODES=!0,OrgChart.MIXED_LAYOUT_FOR_NODES_WITH_COLLAPSED_CHILDREN=!1,OrgChart.CLINK_CURVE=1,OrgChart.SEARCH_RESULT_LIMIT=10,"undefined"!=typeof module&&(module.exports=OrgChart),OrgChart._intersects=function(t,e,r){var i=t.x-r.siblingSeparation/4,n=t.y,a=t.x+t.w+r.siblingSeparation/4,o=t.y;switch(r.orientation){case OrgChart.orientation.right:case OrgChart.orientation.right_top:case OrgChart.orientation.left:case OrgChart.orientation.left_top:i=t.x,n=t.y-r.siblingSeparation/4,a=t.x,o=t.y+t.h+r.siblingSeparation/4}var l,s,c,h=e.p,d=e.q,p=e.r,u=e.s;return 0!=(l=(a-i)*(u-d)-(p-h)*(o-n))&&(s=((n-o)*(p-i)+(a-i)*(u-n))/l,0<(c=((u-d)*(p-i)+(h-p)*(u-n))/l)&&c<1&&0<s&&s<1)},OrgChart._addPoint=function(t,e,r,i,n){switch(r.orientation){case OrgChart.orientation.top:case OrgChart.orientation.top_left:return OrgChart._addPointTop(t,e,r,i,n);case OrgChart.orientation.bottom:case OrgChart.orientation.bottom_left:return OrgChart._addPointBottom(t,e,r,i,n);case OrgChart.orientation.left:case OrgChart.orientation.left_top:return OrgChart._addPointLeft(t,e,r,i,n);case OrgChart.orientation.right:case OrgChart.orientation.right_top:return OrgChart._addPointRight(t,e,r,i,n)}},OrgChart._addPointTop=function(t,e,r,i,n){var a,o,l;return"left"==n?a=t.leftNeighbor?t.x+(t.leftNeighbor.x+t.leftNeighbor.w-t.x)/2:t.x-r.siblingSeparation/2:"right"==n&&(a=t.rightNeighbor?t.x+t.w+(t.rightNeighbor.x-(t.x+t.w))/2:t.x+t.w+r.siblingSeparation/2),e.push([a,e[e.length-1][1]]),e.push([a,t.y-r.levelSeparation/3]),o=e[e.length-1][1],l=a,i.p=a,i.q=o,i.r=l,i},OrgChart._addPointBottom=function(t,e,r,i,n){var a,o,l;return"left"==n?a=t.leftNeighbor?t.x+(t.leftNeighbor.x+t.leftNeighbor.w-t.x)/2:t.x-r.siblingSeparation/2:"right"==n&&(a=t.rightNeighbor?t.x+t.w+(t.rightNeighbor.x-(t.x+t.w))/2:t.x+t.w+r.siblingSeparation/2),e.push([a,e[e.length-1][1]]),e.push([a,t.y+t.h+r.levelSeparation/3]),o=e[e.length-1][1],l=a,i.p=a,i.q=o,i.r=l,i},OrgChart._addPointLeft=function(t,e,r,i,n){var a;return"bottom"==n?a=t.rightNeighbor?t.y+t.h+(t.rightNeighbor.y-(t.y+t.h))/2:t.y+t.h+r.siblingSeparation/2:"top"==n&&(a=t.leftNeighbor?t.y+(t.leftNeighbor.y+t.leftNeighbor.h-t.y)/2:t.y-r.siblingSeparation/2),e.push([e[e.length-1][0],a]),e.push([t.x-r.levelSeparation/3,a]),s=a,i.p=e[e.length-1][0],i.q=a,i.s=s,i},OrgChart._addPointRight=function(t,e,r,i,n){var a;return"bottom"==n?a=t.rightNeighbor?t.y+t.h+(t.rightNeighbor.y-(t.y+t.h))/2:t.y+t.h+r.siblingSeparation/2:"top"==n&&(a=t.leftNeighbor?t.y+(t.leftNeighbor.y+t.leftNeighbor.h-t.y)/2:t.y-r.siblingSeparation/2),e.push([e[e.length-1][0],a]),e.push([t.x+t.w+r.levelSeparation/3,a]),s=a,i.p=e[e.length-1][0],i.q=a,i.s=s,i},OrgChart.editUI=function(){},OrgChart.editUI.prototype.init=function(t){this.obj=t,this.fields=null,this._event_id=OrgChart._guid()},OrgChart.editUI.prototype.on=function(t,e){return OrgChart.events.on(t,e,this._event_id),this},OrgChart.editUI.prototype.show=function(t,e,r){if(this.hide(),!1===OrgChart.events.publish("show",[this,t]))return!1;var i=this,n=this.content(t,e,r);this.obj.element.appendChild(n.element),OrgChart.input.init(this.obj.element),r?!e&&n.focusId&&OrgChart.editUI.ficusElement(n.focusId):this.interval=OrgChart.anim(n.element,{right:-20,opacity:0},{right:0,opacity:1},300,OrgChart.anim.outSin,function(){!e&&n.focusId&&OrgChart.editUI.ficusElement(n.focusId)}),this.obj.element.querySelector("[data-edit-from-close]").addEventListener("click",function(t){i.hide()}),this.obj.element.querySelector("[data-edit-from-cancel]").addEventListener("click",function(t){i.hide()}),this.obj.element.querySelector("[data-edit-from-save]").addEventListener("click",function(e){var r=OrgChart.input.validateAndGetData(n.element);if(!1!==r){var a=i.obj.get(t),o=OrgChart.mergeDeep(a,r);i.obj.updateNode(o,null,!0),i.hide()}});for(var a=this.obj.element.querySelectorAll("[boc-input-btn]"),o=0;o<a.length;o++)a[o].addEventListener("click",function(e){OrgChart.events.publish("element-btn-click",[i,{input:this.parentNode.querySelector("input"),nodeId:t}])});this.obj.element.querySelector("[data-add-more-fields-btn]").addEventListener("click",function(t){t.stopPropagation(),t.preventDefault();var e=this,r=OrgChart.elements.textbox({},{type:"textbox",label:i.obj.config.editForm.addMoreFieldName,btn:i.obj.config.editForm.addMoreBtn},"280px");e.parentNode.insertAdjacentHTML("beforebegin",r.html),e.style.display="none",OrgChart.input.init(e.parentNode.previousSibling);var n=document.getElementById(r.id);n.focus(),n.nextElementSibling.addEventListener("click",function(t){t.stopPropagation(),t.preventDefault();var r=i.obj.element.querySelector('[data-binding="'+n.value+'"]');if(OrgChart.isNEU(n.value)||r)n.focus();else{var a=OrgChart.elements.textbox({},{type:"textbox",label:n.value,binding:n.value},"280px");n.parentNode.parentNode.parentNode.removeChild(n.parentNode.parentNode),e.parentNode.insertAdjacentHTML("beforebegin",a.html),e.style.display="",OrgChart.input.init(e.parentNode.previousSibling),document.getElementById(a.id).focus()}})}),this.obj.element.querySelector("[data-boc-edit-from-btns]").addEventListener("click",function(e){for(var r=e.target;r&&r.hasAttribute&&!r.hasAttribute("data-edit-from-btn");)r=r.parentNode;if(r&&r.hasAttribute){var a=r.getAttribute("data-edit-from-btn");if(!1===OrgChart.events.publish("button-click",[i,{button:i.obj.config.editForm.buttons[a],name:a,nodeId:t,event:e}]))return!1;switch(a){case"edit":i.obj.editUI.show(t,!1,!0);break;case"pdf":i.obj.exportPDFProfile({id:t,filename:n.title}),i.hide();break;case"png":i.obj.exportPNGProfile({id:t,filename:n.title}),i.hide();break;case"share":i.obj.shareProfile(t);break;case"remove":i.obj.removeNode(t,null,!0),i.hide()}}})},OrgChart.editUI.ficusElement=function(t){if(!OrgChart.isNEU(t)){var e=document.getElementById(t);e&&(e.focus(),e.value&&e.value.length&&(e.selectionStart=e.selectionEnd=e.value.length))}},OrgChart.editUI.prototype.content=function(t,e,r,i,n){var a,o=this.obj.config.editForm.readOnly,l=JSON.parse(JSON.stringify(this.obj.config.editForm.elements)),s=this.obj.config.editForm.addMore,c=this.obj.config.editForm.buttons,h=this.obj.config.editForm.titleBinding,d=this.obj.config.editForm.photoBinding,p=this.obj.getNode(t),u=this.obj._get(t),g=OrgChart.t(p.templateName,p.min,this.obj.getScale()),f=u[h],m=u[d];if(this.obj.config.editForm.generateElementsFromFields)for(var v=0;v<this.fields.length;v++){var b=this.fields[v];if("tags"!=b){for(var C=!1,y=0;y<l.length;y++){if(Array.isArray(l[y])){for(var x=0;x<l[y].length;x++)if(b==l[y][x].binding){C=!0;break}}else if(b==l[y].binding){C=!0;break}if(C)break}C||l.push({type:"textbox",label:b,binding:b})}}OrgChart.isNEU(f)&&(f=""),m=OrgChart.isNEU(m)?OrgChart.icon.user(150,150,"#8C8C8C",0,0):`<img style="width: 100%;height:100%;border-radius: 50%;" src="${m}"></img>`;var O=!e,w=e?"display:none;":"",_=e||!s?"display:none;":"",k=g.editFormHeaderColor?`style="background-color:${g.editFormHeaderColor};"`:"",S=document.createElement("form");if(S.setAttribute("data-boc-edit-form",""),S.classList.add("boc-edit-form"),S.classList.add(this.obj.config.mode),S.classList.add(p.templateName),S.classList.add(OrgChart.ui._defsIds[p.templateName]),Array.isArray(p.tags)&&p.tags.length)for(v=0;v<p.tags.length;v++)S.classList.add(p.tags[v]);S.style.display="flex",S.style.opacity=r?1:0,S.style.right=r?0:"-20px",i&&(S.style.width=i);var A=[];return S.innerHTML=`<div>\n                        <div class="boc-edit-form-header" ${k}>\n                            ${n?"":'<svg data-edit-from-close class="boc-edit-form-close"><path style="fill:#ffffff;" d="M21.205,5.007c-0.429-0.444-1.143-0.444-1.587,0c-0.429,0.429-0.429,1.143,0,1.571l8.047,8.047H1.111 C0.492,14.626,0,15.118,0,15.737c0,0.619,0.492,1.127,1.111,1.127h26.554l-8.047,8.032c-0.429,0.444-0.429,1.159,0,1.587 c0.444,0.444,1.159,0.444,1.587,0l9.952-9.952c0.444-0.429,0.444-1.143,0-1.571L21.205,5.007z"></path></svg>'}\n                            <h1 class="boc-edit-form-title">${f}</h1>\n                            <div class="boc-edit-form-avatar">${m}</div>                        \n                        </div>\n                        <div data-boc-edit-from-btns class="boc-edit-form-instruments">\n                        ${function(){if(n)return"";var t="";for(var r in c){var i=c[r];OrgChart.isNEU(i)||O&&i.hideIfEditMode||e&&i.hideIfDetailsMode||o&&"Edit"==i.text||(t+=`<div data-edit-from-btn='${r}' class="boc-img-button" ${k} title="${i.text}">${i.icon}</div>`)}return t}()}    \n                        </div>\n                    </div>\n                    <div class="boc-edit-form-fields">\n                        <div class="boc-edit-form-fields-inner">\n                            <div class="boc-form-fieldset">\n                                ${function(){for(var t="",r=0;r<l.length;r++){var i=l[r];if(Array.isArray(i)){t+='<div class="boc-form-field-100 boc-form-fieldset">';for(var n=0;n<i.length;n++){var o=i[n],s=OrgChart.elements[o.type](u,o,"unset",e);!OrgChart.isNEU(s.id)&&OrgChart.isNEU(a)&&OrgChart.isNEU(s.value)&&(a=s.id),OrgChart.isNEU(s.value)||A.push(`${o.label}: ${s.value}`),t+=s.html}t+="</div>"}else s=OrgChart.elements[i.type](u,i,"280px",e),!OrgChart.isNEU(s.id)&&OrgChart.isNEU(a)&&OrgChart.isNEU(s.value)&&(a=s.id),OrgChart.isNEU(s.value)||A.push(`${i.label}: ${s.value}`),t+=s.html}return t}()}\n\n                                <div class="boc-form-field" style="min-width: 280px; text-align:center; ${_}">\n                                    <a data-add-more-fields-btn href="#" class="boc-link">${s}</a>\n                                </div>\n                            </div>        \n                        </div>\n                    </div>\n                    <div class="boc-form-fieldset" style="padding: 14px 10px; ${w}">\n                        <div class="boc-form-field" style="min-width: initial;">\n                            <button data-edit-from-cancel type="button" class="boc-button transparent">Cancel</button>\n                        </div>\n                        <div class="boc-form-field" style="min-width: initial;">\n                            <button type="submit" data-edit-from-save type="button" class="boc-button">Save and close</button>\n                        </div>\n                    </div>`,{element:S,focusId:a,title:f,shareText:A.join("\n")}},OrgChart.editUI.prototype.hide=function(){if(!1===OrgChart.events.publish("hide",[this]))return!1;OrgChart.isNEU(this.interval)&&(clearInterval(this.interval),this.interval=null);var t=this.obj.element.querySelector("[data-boc-edit-form]");t&&t.parentNode&&t.parentNode.removeChild(t)},OrgChart.prototype.getSvg=function(){var t=this.element.getElementsByTagName("svg");return t&&t.length?t[0]:null},OrgChart.prototype.getPointerElement=function(){return this.element.querySelector("g[data-pointer]")},OrgChart.prototype.getNodeElement=function(t){return this.element.querySelector("g["+OrgChart.attr.node_id+"='"+t+"']")},OrgChart.prototype.getMenuButton=function(){return this.element.querySelector("["+OrgChart.attr.control_export_menu+"]")},OrgChart.menuUI=function(){},OrgChart.menuUI.prototype.init=function(t,e){this.obj=t,this.wrapper=null,this.menu=e,this._event_id=OrgChart._guid()},OrgChart.menuUI.prototype.showStickIn=function(t,e,r,i){this._show(t,null,e,r,i)},OrgChart.menuUI.prototype.show=function(t,e,r,i,n){this._show(t,e,r,i,n)},OrgChart.menuUI.prototype._show=function(t,e,r,i,n){var a=this;this.hide();var o="";n||(n=this.menu);var l={firstNodeId:r,secondNodeId:i,menu:n};if(!1===OrgChart.events.publish("show",[this,l]))return!1;for(var s in n=l.menu){var c=n[s].icon,h=n[s].text;void 0===c&&(c=OrgChart.icon[s](24,24,"#7A7A7A")),"function"==typeof h&&(h=h()),"function"==typeof c&&(c=c()),o+="<div "+OrgChart.attr.item+'="'+s+'">'+c+"<span>&nbsp;&nbsp;"+h+"</span></div>"}if(""!=o){if(this.wrapper=document.createElement("div"),this.wrapper.className="boc-chart-menu",this.wrapper.style.left="-99999px",this.wrapper.style.top="-99999px",this.wrapper.innerHTML=o,this.obj.element.appendChild(this.wrapper),null==e){var d=OrgChart._menuPosition(t,this.wrapper,this.obj.getSvg());t=d.x,e=d.y}var p=t+45;this.wrapper.style.left=p+"px",this.wrapper.style.top=e+"px",this.wrapper.style.left=p-this.wrapper.offsetWidth+"px",OrgChart.anim(this.wrapper,{opacity:0,left:p-this.wrapper.offsetWidth},{opacity:1,left:t-this.wrapper.offsetWidth},300,OrgChart.anim.inOutPow);for(var u=this.wrapper.getElementsByTagName("div"),g=0;g<u.length;g++)(s=u[g]).addEventListener("click",function(t){var e,o=this.getAttribute(OrgChart.attr.item);if(void 0===n[o].onClick)if("add"===o){var l={id:a.obj.generateId(),pid:r};a.obj.addNode(l,null,!0)}else if("edit"===o){var s=a.obj.getNode(r);a.obj.editUI.show(s.id)}else"details"===o?(s=a.obj.getNode(r),a.obj.editUI.show(s.id,!0)):"remove"===o?a.obj.removeNode(r,null,!0):"svg"===o?a.obj.exportSVG({filename:"OrgChart.svg",expandChildren:!1,nodeId:r}):"pdf"===o?a.obj.exportPDF({filename:"OrgChart.pdf",expandChildren:!1,nodeId:r}):"png"===o?a.obj.exportPNG({filename:"OrgChart.png",expandChildren:!1,nodeId:r}):"csv"===o?a.obj.exportCSV():"xml"===o&&a.obj.exportXML();else e=n[o].onClick.call(a.obj,r,i);0!=e&&a.hide()})}},OrgChart.menuUI.prototype.hide=function(){null!=this.wrapper&&(this.obj.element.removeChild(this.wrapper),this.wrapper=null)},OrgChart.menuUI.prototype.on=function(t,e){return OrgChart.events.on(t,e,this._event_id),this},OrgChart.circleMenuUI=function(){},OrgChart.circleMenuUI.prototype.init=function(t,e){this.obj=t,this.menu=e,this._menu=null,this._buttonsInterval=[],this._linesInterval=[],this._event_id=OrgChart._guid()},OrgChart.circleMenuUI.prototype.show=function(t,e){this._show(t,e)},OrgChart.circleMenuUI.prototype._show=function(t,e){var r=this,i=this.obj.getNode(t),n=OrgChart.t(i.templateName,i.min,this.obj.getScale());if(!OrgChart.isNEU(n.nodeCircleMenuButton)){var a=this.obj.getSvg(),o=this.obj.element.querySelector("["+OrgChart.attr.control_node_circle_menu_id+'="'+t+'"]'),l=this.obj.getNodeElement(t),s=OrgChart._getTransform(o),c=OrgChart._getTransform(l),h=s[4]+c[4],d=s[5]+c[5],p=o.querySelectorAll("line"),u=this.obj.element.querySelector("["+OrgChart.attr.control_node_circle_menu_wrraper_id+"]");if(OrgChart.isNEU(u)||u.getAttribute(OrgChart.attr.control_node_circle_menu_wrraper_id)!=t){this.hide(),e||(e=this.menu);var g={nodeId:t,menu:e},f=OrgChart.events.publish("show",[this,g]);if(this._menu=e,!1===f)return!1;for(var m=0,v=Object.keys(g.menu).length,b=2*n.nodeCircleMenuButton.radius+4,C=2*Math.PI*b,y=C/v-(2*n.nodeCircleMenuButton.radius+2);y<0;)b+=8,y=(C=2*Math.PI*b)/v-(2*n.nodeCircleMenuButton.radius+2);for(var x in(u=document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute(OrgChart.attr.control_node_circle_menu_wrraper_id,t),u.setAttribute("transform","matrix(1,0,0,1,"+h+","+d+")"),a.appendChild(u),g.menu){var O=g.menu[x].icon,w=g.menu[x].color,_=g.menu[x].text;"function"==typeof O&&(O=O()),"function"==typeof w&&(w=w()),"function"==typeof _&&(_=_());var k=document.createElementNS("http://www.w3.org/2000/svg","g");k.setAttribute("transform","matrix(1,0,0,1,0,0)"),k.setAttribute(OrgChart.attr.control_node_circle_menu_name,x),k.style.cursor="pointer";var S=document.createElementNS("http://www.w3.org/2000/svg","title");OrgChart.isNEU(_)||(S.innerHTML=_);var A=document.createElementNS("http://www.w3.org/2000/svg","circle");A.setAttribute("cx",0),A.setAttribute("cy",0),A.setAttribute("r",n.nodeCircleMenuButton.radius),A.setAttribute("fill",w),A.setAttribute("stroke-width","1"),A.setAttribute("stroke",n.nodeCircleMenuButton.stroke),k.appendChild(A),k.appendChild(S),k.innerHTML+=O,u.appendChild(k);var N=k.getElementsByTagName("svg")[0];if(N.setAttribute("pointer-events","none"),N){var E=parseInt(N.getAttribute("width")),I=parseInt(N.getAttribute("height"));N.setAttribute("x",-E/2),N.setAttribute("y",-I/2)}var L=m*Math.PI/(v/2);m++;var T=Math.cos(L)*b,M=Math.sin(L)*b;this._buttonsInterval.push(OrgChart.anim(k,{transform:[1,0,0,1,0,0]},{transform:[1,0,0,1,T,M]},250,OrgChart.anim.outBack,function(t){var e=t[0].getAttribute(OrgChart.attr.control_node_circle_menu_name),i=t[0].parentNode.getAttribute(OrgChart.attr.control_node_circle_menu_wrraper_id);t[0].addEventListener("mouseenter",function(t){OrgChart.events.publish("mouseenter",[r,{from:i,menuItem:g.menu[e],menuItemName:e,event:t}])}),t[0].addEventListener("mouseout",function(t){OrgChart.events.publish("mouseout",[r,{from:i,menuItem:g.menu[e],menuItemName:e,event:t}])})}))}this._linesInterval.push(OrgChart.anim(p[0],{x1:-n.nodeCircleMenuButton.radius/2,y1:-6,x2:n.nodeCircleMenuButton.radius/2,y2:-6},{x1:-7,y1:-7,x2:7,y2:7},500,OrgChart.anim.inOutSin)),this._linesInterval.push(OrgChart.anim(p[1],{x1:-n.nodeCircleMenuButton.radius/2,y1:0,x2:n.nodeCircleMenuButton.radius/2,y2:0},{x1:0,y1:0,x2:0,y2:0},500,OrgChart.anim.inOutSin)),this._linesInterval.push(OrgChart.anim(p[2],{x1:-n.nodeCircleMenuButton.radius/2,y1:6,x2:n.nodeCircleMenuButton.radius/2,y2:6},{x1:-7,y1:7,x2:7,y2:-7},500,OrgChart.anim.inOutSin))}else this.hide()}},OrgChart.circleMenuUI.prototype.hide=function(){for(var t=this._buttonsInterval.length-1;t>=0;t--)clearInterval(this._buttonsInterval[t]),this._buttonsInterval.splice(t,1);for(this._buttonsInterval=[],t=this._linesInterval.length-1;t>=0;t--)clearInterval(this._linesInterval[t]),this._linesInterval.splice(t,1);this._linesInterval=[];var e=this.obj.element.querySelector("["+OrgChart.attr.control_node_circle_menu_wrraper_id+"]");if(null!=e){var r=e.getAttribute(OrgChart.attr.control_node_circle_menu_wrraper_id),i=this.obj.getNode(r),n=OrgChart.t(i.templateName,i.min,this.obj.getScale()),a=this.obj.element.querySelector("["+OrgChart.attr.control_node_circle_menu_id+'="'+r+'"]').querySelectorAll("line");a[0].setAttribute("x1",-n.nodeCircleMenuButton.radius/2),a[0].setAttribute("x2",n.nodeCircleMenuButton.radius/2),a[0].setAttribute("y1",-6),a[0].setAttribute("y2",-6),a[1].setAttribute("x1",-n.nodeCircleMenuButton.radius/2),a[1].setAttribute("x2",n.nodeCircleMenuButton.radius/2),a[1].setAttribute("y1",0),a[1].setAttribute("y2",0),a[2].setAttribute("x1",-n.nodeCircleMenuButton.radius/2),a[2].setAttribute("x2",n.nodeCircleMenuButton.radius/2),a[2].setAttribute("y1",6),a[2].setAttribute("y2",6),e.parentElement.removeChild(e),e=null}},OrgChart.circleMenuUI.prototype.on=function(t,e){return OrgChart.events.on(t,e,this._event_id),this},void 0===OrgChart&&(OrgChart={}),OrgChart.idb={version:1,dbName:"BALKAN",tableName:"orgchart-js",keyPath:"id"},OrgChart.idb.db=null,OrgChart.idb._open=function(t){if(OrgChart._browser().msie)t&&t(!1);else if((navigator.userAgent.toLowerCase().indexOf("safari")>0||navigator.userAgent.toLowerCase().indexOf("firefox")>0)&&window.location!==window.parent.location)t&&t(!1);else{if(!window.indexedDB)return console.error("Your browser doesn't support a stable version of IndexedDB."),void(t&&t(!1));if(null==OrgChart.idb.db){var e=indexedDB.open(OrgChart.idb.dbName,OrgChart.idb.version);e.onerror=function(e){console.error("Cannot open database!"),t&&t(!1)},e.onsuccess=function(e){OrgChart.idb.db=e.target.result,t&&t(!0)},e.onupgradeneeded=function(t){var e=t.target.result;e.objectStoreNames.contains(OrgChart.idb.tableName)&&e.deleteObjectStore(OrgChart.idb.tableName),e.createObjectStore(OrgChart.idb.tableName,{keyPath:OrgChart.idb.keyPath})}}else t&&t(!0)}},OrgChart.idb.read=function(t,e){OrgChart.idb._open(function(r){if(r){var i=OrgChart.idb.db.transaction([OrgChart.idb.tableName]).objectStore(OrgChart.idb.tableName).get(t);i.onerror=function(t){console.error("Unable to retrieve data from database!"),e&&e(!1)},i.onsuccess=function(t){i.result?e&&e(!0,i.result):e&&e(null)}}else e&&e(!1)})},OrgChart.idb.write=function(t,e){OrgChart.idb.read(t.id,function(r){if(null==r){var i=OrgChart.idb.db.transaction([OrgChart.idb.tableName],"readwrite").objectStore(OrgChart.idb.tableName).add(t);i.onerror=function(t){console.error("Unable to add data to database!"),e&&e(!1)},i.onsuccess=function(t){e&&e(!0)}}else e&&e(r)})},OrgChart.idb.put=function(t,e){OrgChart.idb._open(function(r){if(r){var i=OrgChart.idb.db.transaction([OrgChart.idb.tableName],"readwrite").objectStore(OrgChart.idb.tableName).put(t);i.onerror=function(t){console.error("Unable to put data to database!"),e&&e(!1)},i.onsuccess=function(t){e&&e(!0)}}else e&&e(!1)})},OrgChart.idb.delete=function(t,e){OrgChart.idb._open(function(r){if(r){var i=OrgChart.idb.db.transaction([OrgChart.idb.tableName],"readwrite").objectStore(OrgChart.idb.tableName).delete(t);i.onerror=function(t){console.error("Unable to retrieve data from database!"),e&&e(!1)},i.onsuccess=function(t){i.error?e&&e(!1):e&&e(!0)}}else e&&e(!1)})},OrgChart.toolbarUI=function(){},OrgChart.toolbarUI.expandAllIcon='<svg style="margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="4" markerHeight="4" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z" fill="#757575" /></marker><line x1="11" y1="11" x2="6" y2="6" stroke="#757575" stroke-width="2" marker-end="url(#arrow)" /><line x1="21" y1="11" x2="26" y2="6" stroke="#757575" stroke-width="2" marker-end="url(#arrow)" /><line x1="21" y1="21" x2="26" y2="26" stroke="#757575" stroke-width="2" marker-end="url(#arrow)" /><line x1="11" y1="21" x2="6" y2="26" stroke="#757575" stroke-width="2" marker-end="url(#arrow)" /><rect x="12" y="12" width="8" height="8" fill="#757575"></rect></svg>',OrgChart.toolbarUI.fitIcon='<svg  style="margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><path stroke-width="3" fill="none" stroke="#757575" d="M4,11 L4,4 L11,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,11 L28,4 L21,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,21 L28,28 L21,28"></path><path stroke-width="3" fill="none" stroke="#757575" d="M4,21 L4,28 L11,28"></path><circle cx="16" cy="16" r="5" fill="#757575"></circle></svg>',OrgChart.toolbarUI.openFullScreenIcon='<svg  style="margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><path stroke-width="3" fill="none" stroke="#757575" d="M4,11 L4,4 L11,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,11 L28,4 L21,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,21 L28,28 L21,28"></path><path stroke-width="3" fill="none" stroke="#757575" d="M4,21 L4,28 L11,28"></path><line x1="5" y1="5" x2="27" y2="27" stroke-width="3" stroke="#757575"></line><line x1="5" y1="27" x2="27" y2="5" stroke-width="3" stroke="#757575"></line></svg>',OrgChart.toolbarUI.closeFullScreenIcon='<svg  style="margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><path stroke-width="3" fill="none" stroke="#757575" d="M4,11 L4,4 L11,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,11 L28,4 L21,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,21 L28,28 L21,28"></path><path stroke-width="3" fill="none" stroke="#757575" d="M4,21 L4,28 L11,28"></path><rect x="11" y="11" width="10" height="10" stroke-width="3" fill="none" stroke="#757575" ></rect></svg>',OrgChart.toolbarUI.zoomInIcon='<svg style="box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border-left: 1px solid #cacaca; border-right: 1px solid #cacaca; border-top: 1px solid #cacaca; background-color: #f9f9f9;display: block; cursor: pointer;" width="32px" height="32px" ><g><rect fill="#f9f9f9" x="0" y="0" width="32" height="32" ></rect><line x1="8" y1="16" x2="24" y2="16" stroke-width="3" stroke="#757575"></line><line x1="16" y1="8" x2="16" y2="24" stroke-width="3" stroke="#757575"></line></g><line x1="4" y1="32" x2="28" y2="32" stroke-width="1" stroke="#cacaca"></line></svg>',OrgChart.toolbarUI.zoomOutIcon='<svg style="box-shadow: 0px 1px 4px rgba(0,0,0,0.3); margin-bottom:7px; border-left: 1px solid #cacaca; border-right: 1px solid #cacaca; border-bottom: 1px solid #cacaca; background-color: #f9f9f9;display: block; cursor: pointer;" width="32px" height="32px" ><g><rect fill="#f9f9f9" x="0" y="0" width="32" height="32" ></rect><line x1="8" y1="16" x2="24" y2="16" stroke-width="3" stroke="#757575"></line></g></svg>',OrgChart.toolbarUI.layoutIcon="<svg "+OrgChart.attr.tlbr+'="layout" style="box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><path stroke-width="3" fill="none" stroke="#757575" d="M8,24 L16,14 L24,24"></path><path stroke-width="3" fill="none" stroke="#757575" d="M8,16 L16,8 L24,16"></path></svg>',OrgChart.toolbarUI.prototype.init=function(t,e){if(e){this.obj=t,this.toolbar=e,this._visible=!1,this.div=document.createElement("div"),this.div.classList.add("boc-toolbar-container"),Object.assign(this.div.style,{position:"absolute",padding:"3px",right:this.obj.config.padding-10+"px",bottom:this.obj.config.padding-10+"px"}),e.expandAll&&(this.div.innerHTML+="<div "+OrgChart.attr.tlbr+'="expand">'+OrgChart.toolbarUI.expandAllIcon+"</div>"),e.fit&&(this.div.innerHTML+="<div "+OrgChart.attr.tlbr+'="fit">'+OrgChart.toolbarUI.fitIcon+"</div>"),e.zoom&&(this.div.innerHTML+="<div "+OrgChart.attr.tlbr+'="plus">'+OrgChart.toolbarUI.zoomInIcon+"</div>",this.div.innerHTML+="<div "+OrgChart.attr.tlbr+'="minus">'+OrgChart.toolbarUI.zoomOutIcon+"</div>"),e.layout&&(this.div.innerHTML+="<div "+OrgChart.attr.tlbr+'="layout">'+OrgChart.toolbarUI.layoutIcon+"</div>",this.layouts=document.createElement("div"),this.layouts.innerHTML="<svg "+OrgChart.attr.layout+'="normal" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="7" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="63" y="41" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="35" stroke-width="1"></line><line stroke="#000000" x1="32" x2="88" y1="35" y2="35" stroke-width="1"></line><line stroke="#000000" x1="32" x2="32" y1="35" y2="41" stroke-width="1"></line><line stroke="#000000" x1="88" x2="88" y1="35" y2="41" stroke-width="1"></line></svg><svg '+OrgChart.attr.layout+'="treeRightOffset" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="40" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="40" y="73" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="35" stroke-width="1"></line><line stroke="#000000" x1="60" x2="35" y1="35" y2="35" stroke-width="1"></line><line stroke="#000000" x1="35" x2="35" y1="35" y2="86" stroke-width="1"></line><line stroke="#000000" x1="35" x2="40" y1="86" y2="86" stroke-width="1"></line><line stroke="#000000" x1="35" x2="40" y1="54" y2="54" stroke-width="1"></line></svg><svg '+OrgChart.attr.layout+'="treeLeftOffset" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="30" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="30" y="73" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="35" stroke-width="1"></line><line stroke="#000000" x1="60" x2="85" y1="35" y2="35" stroke-width="1"></line><line stroke="#000000" x1="85" x2="85" y1="35" y2="86" stroke-width="1"></line><line stroke="#000000" x1="80" x2="85" y1="86" y2="86" stroke-width="1"></line><line stroke="#000000" x1="80" x2="85" y1="54" y2="54" stroke-width="1"></line></svg><svg '+OrgChart.attr.layout+'="mixed" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="35" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="35" y="73" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="41" stroke-width="1"></line><line stroke="#000000" x1="60" x2="60" y1="68" y2="73" stroke-width="1"></line></svg><svg '+OrgChart.attr.layout+'="tree" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="7" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="7" y="73" width="50" height="27"></rect><rect fill="#F57C00" x="63" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="63" y="73" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="86" stroke-width="1"></line><line stroke="#000000" x1="57" x2="63" y1="54" y2="54" stroke-width="1"></line><line stroke="#000000" x1="57" x2="63" y1="86" y2="86" stroke-width="1"></line></svg>',this.obj.element.appendChild(this.layouts),Object.assign(this.layouts.style,{position:"absolute",width:"100%",left:"0",bottom:"-145px","box-shadow":"0px 1px 4px rgba(0,0,0,0.3)","background-color":"#f9f9f9",height:"123px","padding-top":"20px","border-top":"1px solid #cacaca"})),e.fullScreen&&(this.div.innerHTML+="<div "+OrgChart.attr.tlbr+'="fullScreen">'+OrgChart.toolbarUI.openFullScreenIcon+"</div>"),this.obj.element.appendChild(this.div),this.layoutBtn=this.div.querySelector("["+OrgChart.attr.tlbr+'="layout"]');var r=this.div.querySelector("["+OrgChart.attr.tlbr+'="plus"]'),i=this.div.querySelector("["+OrgChart.attr.tlbr+'="minus"]'),n=this.div.querySelector("["+OrgChart.attr.tlbr+'="fit"]'),a=this.div.querySelector("["+OrgChart.attr.tlbr+'="fullScreen"]'),o=this.div.querySelector("["+OrgChart.attr.tlbr+'="expand"]'),l=this;r&&r.addEventListener("click",function(){l.obj.zoom(!0,null,!0)}),i&&i.addEventListener("click",function(){l.obj.zoom(!1,null,!0)}),n&&n.addEventListener("click",function(){l.obj.fit()}),a&&a.addEventListener("click",function(){l.obj.toggleFullScreen()}),o&&o.addEventListener("click",function(){l.obj.expand(null,"all")}),this.layoutBtn&&this.layoutBtn.addEventListener("click",function(){l._visible?l.hideLayout():l.showLayout()}),this.layouts&&this.layouts.addEventListener("click",function(t){for(var e=t.target;e;){if(e.hasAttribute&&e.hasAttribute(OrgChart.attr.layout)){e=e.getAttribute(OrgChart.attr.layout),l.obj.setLayout(OrgChart[e]);break}e=e.parentNode}})}},OrgChart.toolbarUI.prototype.showLayout=function(){this._visible=!0,this.layoutBtn.style.transform="rotate(180deg) translateX(0px) translateY(0px)",OrgChart.anim(this.div,{bottom:this.obj.config.padding-10},{bottom:this.obj.config.padding+135},this.obj.config.anim.duration,this.obj.config.anim.func),OrgChart.anim(this.layouts,{bottom:-145},{bottom:0},this.obj.config.anim.duration,this.obj.config.anim.func)},OrgChart.toolbarUI.prototype.hideLayout=function(){this._visible=!1,this.layoutBtn.style.transform="rotate(0deg) translateX(0px) translateY(0px)",OrgChart.anim(this.div,{bottom:this.obj.config.padding+135},{bottom:this.obj.config.padding-10},this.obj.config.anim.duration,this.obj.config.anim.func),OrgChart.anim(this.layouts,{bottom:0},{bottom:-145},this.obj.config.anim.duration,this.obj.config.anim.func)},OrgChart.notifierUI=function(){},OrgChart.notifierUI.prototype.init=function(t){this.obj=t},OrgChart.notifierUI.prototype.show=function(t,e){if(null!=t){1==t&&(t=OrgChart.MAX_NODES_MESS,e="#FFCA28"),2==t&&(t=OrgChart.OFFLINE_MESS,e="#FFCA28");var r=document.createElement("div");r.innerHTML=t,Object.assign(r.style,{position:"absolute","background-color":e,color:"#ffffff",padding:"15px","border-radius":"40px",opacity:0,overflow:"hidden","white-space":"nowrap","text-align":"center"}),this.obj.element.appendChild(r);var i=this.obj.width()/2-r.offsetWidth/2,n=this.obj.height()/2-r.offsetHeight/2;r.style.left=i+"px",r.style.top=n+"px";var a=r.offsetWidth;r.style.width="20px",OrgChart.anim(r,{opacity:0,width:10},{opacity:1,width:a},this.obj.config.anim.duration,this.obj.config.anim.func)}},OrgChart.icon={},OrgChart.icon.png=function(t,e,r){return'<svg width="'+t+'" height="'+e+'" viewBox="0 0 550.801 550.801"><path fill="'+r+'" d="M146.747,276.708c0-13.998-9.711-22.352-26.887-22.352c-6.99,0-11.726,0.675-14.204,1.355v44.927 c2.932,0.676,6.539,0.896,11.52,0.896C135.449,301.546,146.747,292.28,146.747,276.708z"/><path fill="'+r+'" d="M488.426,197.019H475.2v-63.816c0-0.398-0.063-0.799-0.116-1.202c-0.021-2.534-0.827-5.023-2.562-6.995L366.325,3.694 c-0.032-0.031-0.063-0.042-0.085-0.076c-0.633-0.707-1.371-1.295-2.151-1.804c-0.231-0.155-0.464-0.285-0.706-0.419 c-0.676-0.369-1.393-0.675-2.131-0.896c-0.2-0.056-0.38-0.138-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.873v160.545 c0,17.043,13.824,30.87,30.873,30.87h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87v-160.54C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.513c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M234.344,335.86v45.831h-31.601V229.524h40.184 l31.611,55.759c9.025,16.031,18.064,34.983,24.825,52.154h0.675c-2.257-20.103-2.933-40.643-2.933-63.44v-44.473h31.614v152.167 h-36.117l-32.516-58.703c-9.049-16.253-18.971-35.892-26.438-53.727l-0.665,0.222C233.906,289.58,234.344,311.027,234.344,335.86z M71.556,381.691V231.56c10.613-1.804,25.516-3.159,46.506-3.159c21.215,0,36.353,4.061,46.509,12.192 c9.698,7.673,16.255,20.313,16.255,35.219c0,14.897-4.959,27.549-13.999,36.123c-11.738,11.063-29.123,16.031-49.441,16.031 c-4.522,0-8.593-0.231-11.736-0.675v54.411H71.556V381.691z M453.601,523.353H97.2V419.302h356.4V523.353z M485.652,374.688 c-10.61,3.607-30.713,8.585-50.805,8.585c-27.759,0-47.872-7.003-61.857-20.545c-13.995-13.1-21.684-32.97-21.452-55.318 c0.222-50.569,37.03-79.463,86.917-79.463c19.644,0,34.783,3.829,42.219,7.446l-7.214,27.543c-8.369-3.617-18.752-6.55-35.458-6.55 c-28.656,0-50.341,16.256-50.341,49.22c0,31.382,19.649,49.892,47.872,49.892c7.895,0,14.218-0.901,16.934-2.257v-31.835h-23.493 v-26.869h56.679V374.688z"/></svg>'},OrgChart.icon.pdf=function(t,e,r){return'<svg width="'+t+'" height="'+e+'" viewBox="0 0 550.801 550.801"><path fill="'+r+'" d="M160.381,282.225c0-14.832-10.299-23.684-28.474-23.684c-7.414,0-12.437,0.715-15.071,1.432V307.6 c3.114,0.707,6.942,0.949,12.192,0.949C148.419,308.549,160.381,298.74,160.381,282.225z"/><path fill="'+r+'" d="M272.875,259.019c-8.145,0-13.397,0.717-16.519,1.435v105.523c3.116,0.729,8.142,0.729,12.69,0.729 c33.017,0.231,54.554-17.946,54.554-56.474C323.842,276.719,304.215,259.019,272.875,259.019z"/><path fill="'+r+'" d="M488.426,197.019H475.2v-63.816c0-0.398-0.063-0.799-0.116-1.202c-0.021-2.534-0.827-5.023-2.562-6.995L366.325,3.694 c-0.032-0.031-0.063-0.042-0.085-0.076c-0.633-0.707-1.371-1.295-2.151-1.804c-0.231-0.155-0.464-0.285-0.706-0.419 c-0.676-0.369-1.393-0.675-2.131-0.896c-0.2-0.056-0.38-0.138-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.873v160.545 c0,17.043,13.824,30.87,30.873,30.87h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87v-160.54C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.513c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M362.359,309.023c0,30.876-11.243,52.165-26.82,65.333 c-16.971,14.117-42.82,20.814-74.396,20.814c-18.9,0-32.297-1.197-41.401-2.389V234.365c13.399-2.149,30.878-3.346,49.304-3.346 c30.612,0,50.478,5.508,66.039,17.226C351.828,260.69,362.359,280.547,362.359,309.023z M80.7,393.499V234.365 c11.241-1.904,27.042-3.346,49.296-3.346c22.491,0,38.527,4.308,49.291,12.928c10.292,8.131,17.215,21.534,17.215,37.328 c0,15.799-5.25,29.198-14.829,38.285c-12.442,11.728-30.865,16.996-52.407,16.996c-4.778,0-9.1-0.243-12.435-0.723v57.67H80.7 V393.499z M453.601,523.353H97.2V419.302h356.4V523.353z M484.898,262.127h-61.989v36.851h57.913v29.674h-57.913v64.848h-36.593 V232.216h98.582V262.127z"/></svg>'},OrgChart.icon.svg=function(t,e,r){return'<svg width="'+t+'" height="'+e+'" viewBox="0 0 550.801 550.801"><path fill="'+r+'" d="M488.426,197.019H475.2v-63.816c0-0.398-0.063-0.799-0.116-1.202c-0.021-2.534-0.827-5.023-2.562-6.995L366.325,3.694 c-0.032-0.031-0.063-0.042-0.085-0.076c-0.633-0.707-1.371-1.295-2.151-1.804c-0.231-0.155-0.464-0.285-0.706-0.419 c-0.676-0.369-1.393-0.675-2.131-0.896c-0.2-0.056-0.38-0.138-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.873v160.545 c0,17.043,13.824,30.87,30.873,30.87h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87v-160.54C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.513c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M338.871,225.672L284.545,386.96h-42.591 l-51.69-161.288h39.967l19.617,68.196c5.508,19.143,10.531,37.567,14.36,57.67h0.717c4.061-19.385,9.089-38.527,14.592-56.953 l20.585-68.918h38.77V225.672z M68.458,379.54l7.415-30.153c9.811,5.021,24.888,10.051,40.439,10.051 c16.751,0,25.607-6.935,25.607-17.465c0-10.052-7.662-15.795-27.05-22.734c-26.8-9.328-44.263-24.168-44.263-47.611 c0-27.524,22.971-48.579,61.014-48.579c18.188,0,31.591,3.823,41.159,8.131l-8.126,29.437c-6.465-3.116-17.945-7.657-33.745-7.657 c-15.791,0-23.454,7.183-23.454,15.552c0,10.296,9.089,14.842,29.917,22.731c28.468,10.536,41.871,25.365,41.871,48.094 c0,27.042-20.812,50.013-65.09,50.013C95.731,389.349,77.538,384.571,68.458,379.54z M453.601,523.353H97.2V419.302h356.4V523.353z M488.911,379.54c-11.243,3.823-32.537,9.103-53.831,9.103c-29.437,0-50.73-7.426-65.57-21.779 c-14.839-13.875-22.971-34.942-22.738-58.625c0.253-53.604,39.255-84.235,92.137-84.235c20.81,0,36.852,4.073,44.74,7.896 l-7.657,29.202c-8.859-3.829-19.849-6.95-37.567-6.95c-30.396,0-53.357,17.233-53.357,52.173c0,33.265,20.81,52.882,50.73,52.882 c8.375,0,15.072-0.96,17.94-2.395v-33.745h-24.875v-28.471h60.049V379.54L488.911,379.54z" /></svg>'},OrgChart.icon.csv=function(t,e,r){return'<svg width="'+t+'" height="'+e+'" viewBox="0 0 548.29 548.291" ><path fill="'+r+'" d="M486.2,196.121h-13.164V132.59c0-0.399-0.064-0.795-0.116-1.2c-0.021-2.52-0.824-5-2.551-6.96L364.656,3.677 c-0.031-0.034-0.064-0.044-0.085-0.075c-0.629-0.707-1.364-1.292-2.141-1.796c-0.231-0.157-0.462-0.286-0.704-0.419 c-0.672-0.365-1.386-0.672-2.121-0.893c-0.199-0.052-0.377-0.134-0.576-0.188C358.229,0.118,357.4,0,356.562,0H96.757 C84.893,0,75.256,9.649,75.256,21.502v174.613H62.093c-16.972,0-30.733,13.756-30.733,30.73v159.81 c0,16.966,13.761,30.736,30.733,30.736h13.163V526.79c0,11.854,9.637,21.501,21.501,21.501h354.777 c11.853,0,21.502-9.647,21.502-21.501V417.392H486.2c16.966,0,30.729-13.764,30.729-30.731v-159.81 C516.93,209.872,503.166,196.121,486.2,196.121z M96.757,21.502h249.053v110.006c0,5.94,4.818,10.751,10.751,10.751h94.973v53.861 H96.757V21.502z M258.618,313.18c-26.68-9.291-44.063-24.053-44.063-47.389c0-27.404,22.861-48.368,60.733-48.368 c18.107,0,31.447,3.811,40.968,8.107l-8.09,29.3c-6.43-3.107-17.862-7.632-33.59-7.632c-15.717,0-23.339,7.149-23.339,15.485 c0,10.247,9.047,14.769,29.78,22.632c28.341,10.479,41.681,25.239,41.681,47.874c0,26.909-20.721,49.786-64.792,49.786 c-18.338,0-36.449-4.776-45.497-9.77l7.38-30.016c9.772,5.014,24.775,10.006,40.264,10.006c16.671,0,25.488-6.908,25.488-17.396 C285.536,325.789,277.909,320.078,258.618,313.18z M69.474,302.692c0-54.781,39.074-85.269,87.654-85.269 c18.822,0,33.113,3.811,39.549,7.149l-7.392,28.816c-7.38-3.084-17.632-5.939-30.491-5.939c-28.822,0-51.206,17.375-51.206,53.099 c0,32.158,19.051,52.4,51.456,52.4c10.947,0,23.097-2.378,30.241-5.238l5.483,28.346c-6.672,3.34-21.674,6.919-41.208,6.919 C98.06,382.976,69.474,348.424,69.474,302.692z M451.534,520.962H96.757v-103.57h354.777V520.962z M427.518,380.583h-42.399 l-51.45-160.536h39.787l19.526,67.894c5.479,19.046,10.479,37.386,14.299,57.397h0.709c4.048-19.298,9.045-38.352,14.526-56.693 l20.487-68.598h38.599L427.518,380.583z" /></svg>'},OrgChart.icon.excel=function(t,e,r){return'<svg width="'+t+'" height="'+e+'" viewBox="0 0 512 512"><path fill="#ECEFF1" d="M496,432.011H272c-8.832,0-16-7.168-16-16s0-311.168,0-320s7.168-16,16-16h224 c8.832,0,16,7.168,16,16v320C512,424.843,504.832,432.011,496,432.011z" /><path fill="'+r+'" d="M336,176.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,176.011,336,176.011z" /><path fill="'+r+'" d="M336,240.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,240.011,336,240.011z" /><path fill="'+r+'" d="M336,304.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,304.011,336,304.011z" /><path fill="'+r+'" d="M336,368.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,368.011,336,368.011z" /><path fill="'+r+'" d="M432,176.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,176.011,432,176.011z" /><path fill="'+r+'" d="M432,240.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,240.011,432,240.011z" /><path fill="'+r+'" d="M432,304.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,304.011,432,304.011z" /><path fill="'+r+'" d="M432,368.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,368.011,432,368.011z" /><path fill="'+r+'"  d="M282.208,19.691c-3.648-3.04-8.544-4.352-13.152-3.392l-256,48C5.472,65.707,0,72.299,0,80.011v352 c0,7.68,5.472,14.304,13.056,15.712l256,48c0.96,0.192,1.952,0.288,2.944,0.288c3.712,0,7.328-1.28,10.208-3.68 c3.68-3.04,5.792-7.584,5.792-12.32v-448C288,27.243,285.888,22.731,282.208,19.691z" /><path fill="#FAFAFA" d="M220.032,309.483l-50.592-57.824l51.168-65.792c5.44-6.976,4.16-17.024-2.784-22.464 c-6.944-5.44-16.992-4.16-22.464,2.784l-47.392,60.928l-39.936-45.632c-5.856-6.72-15.968-7.328-22.56-1.504 c-6.656,5.824-7.328,15.936-1.504,22.56l44,50.304L83.36,310.187c-5.44,6.976-4.16,17.024,2.784,22.464 c2.944,2.272,6.432,3.36,9.856,3.36c4.768,0,9.472-2.112,12.64-6.176l40.8-52.48l46.528,53.152 c3.168,3.648,7.584,5.504,12.032,5.504c3.744,0,7.488-1.312,10.528-3.968C225.184,326.219,225.856,316.107,220.032,309.483z" /></svg>'},OrgChart.icon.edit=function(t,e,r){return'<svg width="'+t+'" height="'+e+'" viewBox="0 0 528.899 528.899"><path fill="'+r+'" d="M328.883,89.125l107.59,107.589l-272.34,272.34L56.604,361.465L328.883,89.125z M518.113,63.177l-47.981-47.981 c-18.543-18.543-48.653-18.543-67.259,0l-45.961,45.961l107.59,107.59l53.611-53.611 C532.495,100.753,532.495,77.559,518.113,63.177z M0.3,512.69c-1.958,8.812,5.998,16.708,14.811,14.565l119.891-29.069 L27.473,390.597L0.3,512.69z" /></svg>'},OrgChart.icon.details=function(t,e,r){return'<svg width="'+t+'" height="'+e+'" viewBox="0 0 512 512"><path fill="'+r+'" d="M447.933,103.629c-0.034-3.076-1.224-6.09-3.485-8.352L352.683,3.511c-0.004-0.004-0.007-0.005-0.011-0.008 C350.505,1.338,347.511,0,344.206,0H89.278C75.361,0,64.04,11.32,64.04,25.237v461.525c0,13.916,11.32,25.237,25.237,25.237 h333.444c13.916,0,25.237-11.32,25.237-25.237V103.753C447.96,103.709,447.937,103.672,447.933,103.629z M356.194,40.931 l50.834,50.834h-49.572c-0.695,0-1.262-0.567-1.262-1.262V40.931z M423.983,486.763c0,0.695-0.566,1.261-1.261,1.261H89.278 c-0.695,0-1.261-0.566-1.261-1.261V25.237c0-0.695,0.566-1.261,1.261-1.261h242.94v66.527c0,13.916,11.322,25.239,25.239,25.239 h66.527V486.763z"/><path fill="'+r+'" d="M362.088,164.014H149.912c-6.62,0-11.988,5.367-11.988,11.988c0,6.62,5.368,11.988,11.988,11.988h212.175 c6.62,0,11.988-5.368,11.988-11.988C374.076,169.381,368.707,164.014,362.088,164.014z"/><path fill="'+r+'" d="M362.088,236.353H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.62,5.368,11.988,11.988,11.988h212.175 c6.62,0,11.988-5.368,11.988-11.988C374.076,241.721,368.707,236.353,362.088,236.353z"/><path fill="'+r+'" d="M362.088,308.691H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.621,5.368,11.988,11.988,11.988h212.175 c6.62,0,11.988-5.367,11.988-11.988C374.076,314.06,368.707,308.691,362.088,308.691z"/><path fill="'+r+'" d="M256,381.031H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.621,5.368,11.988,11.988,11.988H256 c6.62,0,11.988-5.367,11.988-11.988C267.988,386.398,262.62,381.031,256,381.031z"/></svg>'},OrgChart.icon.remove=function(t,e,r){return'<svg width="'+t+'" height="'+e+'"  viewBox="0 0 900.5 900.5"><path fill="'+r+'" d="M176.415,880.5c0,11.046,8.954,20,20,20h507.67c11.046,0,20-8.954,20-20V232.487h-547.67V880.5L176.415,880.5z M562.75,342.766h75v436.029h-75V342.766z M412.75,342.766h75v436.029h-75V342.766z M262.75,342.766h75v436.029h-75V342.766z"/><path fill="'+r+'" d="M618.825,91.911V20c0-11.046-8.954-20-20-20h-297.15c-11.046,0-20,8.954-20,20v71.911v12.5v12.5H141.874 c-11.046,0-20,8.954-20,20v50.576c0,11.045,8.954,20,20,20h34.541h547.67h34.541c11.046,0,20-8.955,20-20v-50.576 c0-11.046-8.954-20-20-20H618.825v-12.5V91.911z M543.825,112.799h-187.15v-8.389v-12.5V75h187.15v16.911v12.5V112.799z"/></svg>'},OrgChart.icon.add=function(t,e,r){return'<svg width="'+t+'" height="'+e+'"   viewBox="0 0 922 922"><path fill="'+r+'" d="M922,453V81c0-11.046-8.954-20-20-20H410c-11.045,0-20,8.954-20,20v149h318c24.812,0,45,20.187,45,45v198h149 C913.046,473.001,922,464.046,922,453z" /><path fill="'+r+'" d="M557,667.001h151c11.046,0,20-8.954,20-20v-174v-198c0-11.046-8.954-20-20-20H390H216c-11.045,0-20,8.954-20,20v149h194 h122c24.812,0,45,20.187,45,45v4V667.001z" /><path fill="'+r+'" d="M0,469v372c0,11.046,8.955,20,20,20h492c11.046,0,20-8.954,20-20V692v-12.501V667V473v-4c0-11.046-8.954-20-20-20H390H196 h-12.5H171H20C8.955,449,0,457.955,0,469z" /></svg>'},OrgChart.icon.search=function(t,e,r){return'<svg width="'+t+'" height="'+e+'" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 485.213 485.213"><path fill="'+r+'" d="M471.882,407.567L360.567,296.243c-16.586,25.795-38.536,47.734-64.331,64.321l111.324,111.324 c17.772,17.768,46.587,17.768,64.321,0C489.654,454.149,489.654,425.334,471.882,407.567z" /><path fill="'+r+'" d="M363.909,181.955C363.909,81.473,282.44,0,181.956,0C81.474,0,0.001,81.473,0.001,181.955s81.473,181.951,181.955,181.951 C282.44,363.906,363.909,282.437,363.909,181.955z M181.956,318.416c-75.252,0-136.465-61.208-136.465-136.46 c0-75.252,61.213-136.465,136.465-136.465c75.25,0,136.468,61.213,136.468,136.465 C318.424,257.208,257.206,318.416,181.956,318.416z" /><path fill="'+r+'" d="M75.817,181.955h30.322c0-41.803,34.014-75.814,75.816-75.814V75.816C123.438,75.816,75.817,123.437,75.817,181.955z" /></svg>'},OrgChart.icon.xml=function(t,e,r){return'<svg width="'+t+'" height="'+e+'" viewBox="0 0 550.801 550.801"><path fill="'+r+'"  d="M488.426,197.019H475.2v-63.816c0-0.401-0.063-0.799-0.116-1.205c-0.021-2.534-0.827-5.023-2.562-6.992L366.325,3.691 c-0.032-0.031-0.063-0.042-0.085-0.073c-0.633-0.707-1.371-1.298-2.151-1.804c-0.231-0.158-0.464-0.287-0.706-0.422 c-0.676-0.366-1.393-0.675-2.131-0.896c-0.2-0.053-0.38-0.135-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.87v160.542 c0,17.044,13.824,30.876,30.873,30.876h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87V227.89C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.51c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M369.531,374.53h-32.058l-2.156-55.519 c-0.644-17.434-1.298-38.518-1.298-59.611h-0.633c-4.514,18.516-10.547,39.166-16.137,56.162l-17.645,56.601h-25.618 l-15.494-56.157c-4.725-16.996-9.671-37.658-13.123-56.6h-0.43c-0.854,19.585-1.508,41.961-2.586,60.038l-2.576,55.086h-30.343 l9.26-145.035h43.677l14.207,48.421c4.517,16.774,9.041,34.847,12.258,51.843h0.654c4.081-16.77,9.038-35.923,13.774-52.064 l15.493-48.199h42.82L369.531,374.53z M69.992,374.53l41.955-73.385l-40.444-71.65h37.655l12.688,26.465 c4.316,8.828,7.533,15.928,10.99,24.092h0.422c3.438-9.242,6.23-15.694,9.893-24.092l12.274-26.465h37.434l-40.89,70.796 l43.044,74.239h-37.866l-13.134-26.257c-5.376-10.108-8.817-17.639-12.909-26.04h-0.433c-3.009,8.401-6.674,15.932-11.19,26.04 l-12.042,26.257H69.992z M453.601,523.353H97.2V419.302h356.4V523.353z M485.325,374.53h-90.608V229.495h32.933v117.497h57.682 v27.538H485.325z"/></svg>'},OrgChart.icon.link=function(t,e,r){return'<svg width="'+t+'" height="'+e+'" viewBox="0 0 512.092 512.092"  ><path fill="'+r+'" d="M312.453,199.601c-6.066-6.102-12.792-11.511-20.053-16.128c-19.232-12.315-41.59-18.859-64.427-18.859 c-31.697-0.059-62.106,12.535-84.48,34.987L34.949,308.23c-22.336,22.379-34.89,52.7-34.91,84.318 c-0.042,65.98,53.41,119.501,119.39,119.543c31.648,0.11,62.029-12.424,84.395-34.816l89.6-89.6 c1.628-1.614,2.537-3.816,2.524-6.108c-0.027-4.713-3.87-8.511-8.583-8.484h-3.413c-18.72,0.066-37.273-3.529-54.613-10.581 c-3.195-1.315-6.867-0.573-9.301,1.877l-64.427,64.512c-20.006,20.006-52.442,20.006-72.448,0 c-20.006-20.006-20.006-52.442,0-72.448l108.971-108.885c19.99-19.965,52.373-19.965,72.363,0 c13.472,12.679,34.486,12.679,47.957,0c5.796-5.801,9.31-13.495,9.899-21.675C322.976,216.108,319.371,206.535,312.453,199.601z" /><path fill="'+r+'" d="M477.061,34.993c-46.657-46.657-122.303-46.657-168.96,0l-89.515,89.429c-2.458,2.47-3.167,6.185-1.792,9.387 c1.359,3.211,4.535,5.272,8.021,5.205h3.157c18.698-0.034,37.221,3.589,54.528,10.667c3.195,1.315,6.867,0.573,9.301-1.877 l64.256-64.171c20.006-20.006,52.442-20.006,72.448,0c20.006,20.006,20.006,52.442,0,72.448l-80.043,79.957l-0.683,0.768 l-27.989,27.819c-19.99,19.965-52.373,19.965-72.363,0c-13.472-12.679-34.486-12.679-47.957,0 c-5.833,5.845-9.35,13.606-9.899,21.845c-0.624,9.775,2.981,19.348,9.899,26.283c9.877,9.919,21.433,18.008,34.133,23.893 c1.792,0.853,3.584,1.536,5.376,2.304c1.792,0.768,3.669,1.365,5.461,2.048c1.792,0.683,3.669,1.28,5.461,1.792l5.035,1.365 c3.413,0.853,6.827,1.536,10.325,2.133c4.214,0.626,8.458,1.025,12.715,1.195h5.973h0.512l5.12-0.597 c1.877-0.085,3.84-0.512,6.059-0.512h2.901l5.888-0.853l2.731-0.512l4.949-1.024h0.939c20.961-5.265,40.101-16.118,55.381-31.403 l108.629-108.629C523.718,157.296,523.718,81.65,477.061,34.993z" /></svg>'},OrgChart.icon.happy=function(t,e,r){return'<svg width="'+t+'" height="'+e+'" viewBox="0 0 512 512"><path fill="'+r+'" d="M256,0C114.615,0,0,114.615,0,256s114.615,256,256,256s256-114.615,256-256S397.385,0,256,0z M256,480 C132.288,480,32,379.712,32,256S132.288,32,256,32s224,100.288,224,224S379.712,480,256,480z"/><path fill="'+r+'" d="M176,176c17.673,0,32,14.327,32,32h32c0-35.346-28.654-64-64-64c-35.346,0-64,28.654-64,64h32 C144,190.327,158.327,176,176,176z"/><path fill="'+r+'" d="M336,144c-35.346,0-64,28.654-64,64h32c0-17.673,14.327-32,32-32c17.673,0,32,14.327,32,32h32 C400,172.654,371.346,144,336,144z"/><path fill="'+r+'" d="M256,368c-53.019,0-96-42.981-96-96h-32c0,70.692,57.308,128,128,128s128-57.308,128-128h-32 C352,325.019,309.019,368,256,368z"/></svg>'},OrgChart.icon.sad=function(t,e,r){return'<svg width="'+t+'" height="'+e+'" viewBox="0 0 512 512"><path fill="'+r+'" d="M256,0C114.615,0,0,114.615,0,256s114.615,256,256,256s256-114.615,256-256S397.385,0,256,0z M256,480 C132.288,480,32,379.712,32,256S132.288,32,256,32s224,100.288,224,224S379.712,480,256,480z"/><path fill="'+r+'" d="M336,192c-17.673,0-32-14.327-32-32h-32c0,35.346,28.654,64,64,64c35.346,0,64-28.654,64-64h-32 C368,177.673,353.673,192,336,192z"/><path fill="'+r+'" d="M176,224c35.346,0,64-28.654,64-64h-32c0,17.673-14.327,32-32,32s-32-14.327-32-32h-32C112,195.346,140.654,224,176,224z "/><path fill="'+r+'" d="M256,256c-70.692,0-128,57.308-128,128h32c0-53.019,42.981-96,96-96s96,42.981,96,96h32C384,313.308,326.692,256,256,256 z"/></svg>'},OrgChart.icon.share=function(t,e,r,i,n){return OrgChart.isNEU(i)&&(i=0),OrgChart.isNEU(n)&&(n=0),`<svg width="${t}" height="${e}" x="${i}" y="${n}" viewBox="0 0 512 512">\n                <path fill="${r}" d="M406,332c-29.641,0-55.761,14.581-72.167,36.755L191.99,296.124c2.355-8.027,4.01-16.346,4.01-25.124\n                    c0-11.906-2.441-23.225-6.658-33.636l148.445-89.328C354.307,167.424,378.589,180,406,180c49.629,0,90-40.371,90-90\n                    c0-49.629-40.371-90-90-90c-49.629,0-90,40.371-90,90c0,11.437,2.355,22.286,6.262,32.358l-148.887,89.59\n                    C156.869,193.136,132.937,181,106,181c-49.629,0-90,40.371-90,90c0,49.629,40.371,90,90,90c30.13,0,56.691-15.009,73.035-37.806\n                    l141.376,72.395C317.807,403.995,316,412.75,316,422c0,49.629,40.371,90,90,90c49.629,0,90-40.371,90-90\n                    C496,372.371,455.629,332,406,332z"/>\n                </svg>`},OrgChart.icon.user=function(t,e,r,i,n){return OrgChart.isNEU(i)&&(i=0),OrgChart.isNEU(n)&&(n=0),`<svg width="${t}" height="${e}" x="${i}" y="${n}" viewBox="0 0 24 24">\n                <path fill="${r}" d="M12 11.796C14.7189 11.796 16.9231 9.60308 16.9231 6.89801C16.9231 4.19294 14.7189 2.00005 12 2.00005C9.28106 2.00005 7.07692 4.19294 7.07692 6.89801C7.07692 9.60308 9.28106 11.796 12 11.796Z" fill="#030D45"/>\n                <path fill="${r}" d="M14.5641 13.8369H9.4359C6.46154 13.8369 4 16.2859 4 19.245C4 19.9593 4.30769 20.5716 4.92308 20.8777C5.84615 21.3879 7.89744 22.0001 12 22.0001C16.1026 22.0001 18.1538 21.3879 19.0769 20.8777C19.5897 20.5716 20 19.9593 20 19.245C20 16.1838 17.5385 13.8369 14.5641 13.8369Z" fill="#030D45"/>\n            </svg>`},OrgChart.prototype.exportPDFProfile=function(t,e){t=this._defaultExportProfileOptions(t,"pdf"),this._exportProfile(t,e)},OrgChart.prototype.exportPNGProfile=function(t,e){t=this._defaultExportProfileOptions(t,"png"),this._exportProfile(t,e)},OrgChart.prototype.shareProfile=function(t){var e;"object"==typeof t?t=(e=t).focusId:e=this.editUI.content(t,!0,!0,"100%",!0);var r=new URL(window.location.href);r.searchParams.append("nodeId",t);var i={title:e.title,text:e.shareText,url:r.href};try{navigator.share(i)}catch(t){console.error("error: "+t)}},OrgChart.prototype.exportPDF=function(t,e){t=this._defaultExportOptions(t,"pdf"),this._export(t,e)},OrgChart.prototype.exportPNG=function(t,e){t=this._defaultExportOptions(t,"png"),this._export(t,e)},OrgChart.prototype.exportSVG=function(t,e){t=this._defaultExportOptions(t,"svg"),this._export(t,e)},OrgChart.prototype._defaultExportOptions=function(t,e){return null==t&&(t={}),"svg"==e?(t.ext="svg",t.mime="image/svg+xml"):"pdf"==e?(t.mime="application/pdf",t.ext="pdf"):"png"==e&&(t.mime="image/png",t.ext="png"),null==t.margin&&(t.margin=[50,40,50,40]),null==t.padding&&(t.padding=0),null==t.landscape&&(t.landscape=!1),null==t.filename&&(t.filename="OrgChart."+t.ext),null==t.scale&&(t.scale="fit"),null==t.format&&(t.format="fit"),null==t.header&&(t.header=""),null==t.footer&&(t.footer="Page {current-page} of {total-pages}"),null==t.openInNewTab&&(t.openInNewTab=!1),null==t.mode&&(t.mode=this.config.mode),t},OrgChart.prototype._export=function(t,e){var r=this,i={id:t.nodeId,expandChildren:t.expandChildren};t.margin&&t.margin[0]<2&&(t.margin[0]=2),t.margin&&t.margin[1]<2&&(t.margin[1]=2),t.margin&&t.margin[2]<2&&(t.margin[2]=2),t.margin&&t.margin[3]<2&&(t.margin[3]=2),this._draw(!1,OrgChart.action.exporting,i,function(i){var n=document.createElement("div");if(n.innerHTML=i,t.padding>0){var a=n.querySelector("svg"),o=OrgChart._getViewBox(a);o[0]-=t.padding,o[1]-=t.padding,o[2]+=2*t.padding,o[3]+=2*t.padding,a.setAttribute("viewBox",o.join()),a.setAttribute("width",o[2]),a.setAttribute("height",o[3])}if("svg"==t.ext)if(e)e(t,n.innerHTML);else{(a=n.querySelector("svg")).classList.add(r.config.mode);var l={content:n.innerHTML,options:t,styles:""},s=OrgChart.events.publish("exportstart",[r,l]),c=r.element.querySelector("[data-boc-styles]");if(c&&(l.styles+=c.outerHTML),l.styles&&(n.childNodes[0].insertAdjacentHTML("afterbegin",l.styles),l.content=n.innerHTML),!1===s)return!1;if(!1===(s=OrgChart.events.publish("exportend",[r,l])))return!1;OrgChart._downloadFile(t.mime,l.content,l.options.filename,l.options.openInNewTab)}else r._pages(t,n.querySelector("svg"),function(i){var a={content:n.innerHTML,options:t,pages:i,styles:""},o=OrgChart.events.publish("exportstart",[r,a]),l=r.element.querySelector("[data-boc-styles]");if(l&&(a.styles+=l.outerHTML),!1===o)return!1;e||OrgChart.loading.show(r),e?e(r,a,n.querySelector("svg")):(a=JSON.stringify(a),OrgChart._ajax(r.config.exportUrl+"/v3","POST",a,"arraybuffer",function(e){var i=OrgChart.events.publish("exportend",[r,e]);if(OrgChart.loading.hide(r),!1===i)return!1;OrgChart._downloadFile(t.mime,e,t.filename,t.openInNewTab)}))})})},OrgChart.prototype.exportCSV=function(t){t||(t="OrgChart.csv");var e={ext:"csv",filename:t,nodes:JSON.parse(JSON.stringify(this.config.nodes))};if(!1===OrgChart.events.publish("exportstart",[this,e]))return!1;var r=OrgChart._json2csv(e.nodes),i={ext:e.ext,filename:e.filename,nodes:e.nodes,content:r};if(!1===OrgChart.events.publish("exportend",[this,i]))return!1;OrgChart._downloadFile("text/csv;charset=utf-8;","\ufeff"+i.content,i.filename,i.openInNewTab)},OrgChart.prototype.exportXML=function(t){t||(t="OrgChart.xml");var e={ext:"xml",filename:t,nodes:JSON.parse(JSON.stringify(this.config.nodes))};if(!1===OrgChart.events.publish("exportstart",[this,e]))return!1;var r=OrgChart._json2xml(e.nodes),i={ext:e.ext,filename:e.filename,nodes:e.nodes,content:r};if(!1===OrgChart.events.publish("exportend",[this,i]))return!1;OrgChart._downloadFile("application/xml",i.content,i.filename,i.openInNewTab)},OrgChart.prototype._pages=function(t,e,r){"A5"==t.format&&"fit"!=t.scale||"A4"==t.format&&"fit"!=t.scale||"A3"==t.format&&"fit"!=t.scale||"A2"==t.format&&"fit"!=t.scale||"A1"==t.format&&"fit"!=t.scale||"Letter"==t.format&&"fit"!=t.scale||"Legal"==t.format&&"fit"!=t.scale?r(this._pagesA100(t,e,t.scale)):"A5"==t.format&&"fit"==t.scale||"A4"==t.format&&"fit"==t.scale||"A3"==t.format&&"fit"==t.scale||"A2"==t.format&&"fit"==t.scale||"A1"==t.format&&"fit"==t.scale||"Letter"==t.format&&"fit"==t.scale||"Legal"==t.format&&"fit"==t.scale?r(this._pagesAfit(t,e)):"fit"==t.format&&r(this._pagesFit(t,e))},OrgChart.prototype._pagesFit=function(t,e){var r=e.getAttribute("width"),i=e.getAttribute("height"),n=OrgChart._getViewBox(e),a={w:parseFloat(r),h:parseFloat(i)};return[{vb:n,size:{w:a.w+(t.margin[1]+t.margin[3]),h:a.h+(t.margin[0]+t.margin[2])},innerSize:a}]},OrgChart.prototype._pagesAfit=function(t,e){var r=e.getAttribute("width"),i=0,n=0;switch(t.format){case"A5":i=OrgChart.A5w,n=OrgChart.A5h;break;case"A4":i=OrgChart.A4w,n=OrgChart.A4h;break;case"A3":i=OrgChart.A3w,n=OrgChart.A3h;break;case"A2":i=OrgChart.A2w,n=OrgChart.A2h;break;case"A1":i=OrgChart.A1w,n=OrgChart.A1h;break;case"Letter":i=OrgChart.Letterw,n=OrgChart.Letterh;break;case"Legal":i=OrgChart.Legalw,n=OrgChart.Legalh}return this._pagesA100(t,e,(t.landscape?n-(t.margin[1]+t.margin[3]):i-(t.margin[1]+t.margin[3]))/r*100)},OrgChart.prototype._pagesA100=function(t,e,r){var i=OrgChart._getViewBox(e),n=0,a=0;switch(t.format){case"A5":n=OrgChart.A5w,a=OrgChart.A5h;break;case"A4":n=OrgChart.A4w,a=OrgChart.A4h;break;case"A3":n=OrgChart.A3w,a=OrgChart.A3h;break;case"A2":n=OrgChart.A2w,a=OrgChart.A2h;break;case"A1":n=OrgChart.A1w,a=OrgChart.A1h;break;case"Letter":n=OrgChart.Letterw,a=OrgChart.Letterh;break;case"Legal":n=OrgChart.Legalw,a=OrgChart.Legalh}var o=i[0],l=i[1],s=i[2],c=i[3],h={w:t.landscape?a-(t.margin[1]+t.margin[3]):n-(t.margin[1]+t.margin[3]),h:t.landscape?n-(t.margin[0]+t.margin[2]):a-(t.margin[0]+t.margin[2])},d={w:t.landscape?a:n,h:t.landscape?n:a};e.setAttribute("preserveAspectRatio","xMinYMin slice"),e.setAttribute("width",h.w),e.setAttribute("height",h.h);for(var p=h.w*(100/r),u=h.h*(100/r),g=o,f=l,m=[];g<s+o;){for(;f<c+l;){var v=[g,f,p,u];v=v.join(),m.push({vb:v,innerSize:h,size:d}),f+=u}g+=p,f=l}return m},OrgChart.prototype._defaultExportProfileOptions=function(t,e){return(OrgChart.isNEU(t)||OrgChart.isNEU(t.id))&&console.error("options.id is not defilned"),"svg"==e?(t.ext="svg",t.mime="image/svg+xml"):"pdf"==e?(t.mime="application/pdf",t.ext="pdf"):"png"==e&&(t.mime="image/png",t.ext="png"),null==t.margin&&(t.margin=[50,40,50,40]),null==t.padding&&(t.padding=0),null==t.landscape&&(t.landscape=!1),null==t.filename&&(t.filename="Profile."+t.ext),null==t.scale&&(t.scale="fit"),null==t.format&&(t.format="A4"),null==t.header&&(t.header=""),null==t.footer&&(t.footer=""),null==t.openInNewTab&&(t.openInNewTab=!1),null==t.mode&&(t.mode=this.config.mode),t},OrgChart.prototype._exportProfile=function(t,e){var r=this,i=0,n=0;switch(t.format){case"A5":i=OrgChart.A5w,n=OrgChart.A5h;break;case"A4":i=OrgChart.A4w,n=OrgChart.A4h;break;case"A3":i=OrgChart.A3w,n=OrgChart.A3h;break;case"A2":i=OrgChart.A2w,n=OrgChart.A2h;break;case"A1":i=OrgChart.A1w,n=OrgChart.A1h;break;case"Letter":i=OrgChart.Letterw,n=OrgChart.Letterh;break;case"Legal":i=OrgChart.Legalw,n=OrgChart.Legalh}var a={w:t.landscape?n-(t.margin[1]+t.margin[3]):i-(t.margin[1]+t.margin[3]),h:t.landscape?i-(t.margin[0]+t.margin[2]):n-(t.margin[0]+t.margin[2])},o={w:t.landscape?n:i,h:t.landscape?i:n},l=this.editUI.content(t.id,!0,!0,"100%",!0).element;OrgChart.input.init(l);var s={content:l.outerHTML,options:t,pages:[{vb:"",innerSize:a,size:o}],styles:""};if(!e){if(!1===OrgChart.events.publish("exportstart",[r,s]))return!1;OrgChart.loading.show(r)}var c=this.element.querySelector("[data-boc-styles]");c&&(s.styles+=c.outerHTML);var h=this.getSvg().querySelector("defs");if(h)for(var d=0;d<h.children.length;d++)"style"==h.children[d].nodeName.toLowerCase()&&(s.styles+=h.children[d].outerHTML);s=JSON.stringify(s),OrgChart._ajax(this.config.exportUrl+"/v3","POST",s,"arraybuffer",function(i){if(e)e(r,i);else{var n=OrgChart.events.publish("exportend",[r,i]);if(OrgChart.loading.hide(r),!1===n)return!1;OrgChart._downloadFile(t.mime,i,t.filename,t.openInNewTab)}})},void 0===OrgChart&&(OrgChart={}),OrgChart.events=function(){var t={};return{on:function(e,r,i){Array.isArray(t[e])||(t[e]=[]),t[e].push({listener:r,event_id:i})},removeAll:function(e){Array.isArray(t[e])||(t[e]=[]),t[e]=[]},removeForEventId:function(e){for(var r in t)if(Array.isArray(t[r]))for(var i=t[r].length-1;i>=0;i--)t[r][i].event_id==e&&t[r].splice(i,1)},publish:function(e,r){if(t[e]){for(var i=[],n=0;n<t[e].length;n++){var a=t[e][n];null!=a.event_id&&a.event_id!=r[0]._event_id||i.push(a.listener)}if(i.length>0){var o=!0;for(n=0;n<i.length;n++)1==r.length?o=i[n](r[0])&&o:2==r.length?o=i[n](r[0],r[1])&&o:3==r.length?o=i[n](r[0],r[1],r[2])&&o:4==r.length?o=i[n](r[0],r[1],r[2],r[3])&&o:5==r.length&&(o=i[n](r[0],r[1],r[2],r[3],r[4])&&o);return o}}}}}(),OrgChart.prototype.importCSV=function(){var t=this,e=document.createElement("INPUT");e.setAttribute("type","file"),e.setAttribute("accept",".csv"),e.style.display="none",e.onchange=function(e){var r=e.target,i=new FileReader;i.onload=function(){var e=OrgChart._csvToArray(i.result,","),r=[];OrgChart._importSetColumnNames(e[0],function(i){for(var n=1;n<e.length;n++){for(var a={},o=0;o<e[n].length;o++){var l=i[o],s=e[n][o];if("tags"==l&&""!=s)s=s.split(",");else if("tags"==l&&""==s)continue;a[l]=s}""!=a.id.trim()&&r.push(a)}var c={nodes:r,columnNames:e[0]};0!=OrgChart.events.publish("import",[t,c])&&(t.config.nodes=c.nodes,t.draw())})},i.readAsText(r.files[0])},e.click()},OrgChart._importSetColumnNames=function(t,e){if(-1==t.indexOf("id")||-1==t.indexOf("pid")){var r=document.createElement("DIV"),i=document.createElement("P");i.style.padding="5px",i.style.color="rgb(122, 122, 122)",i.innerHTML=OrgChart.IMPORT_MESSAGE,r.appendChild(i);var n=document.createElement("div"),a=document.createElement("div"),o=document.createElement("div"),l=document.createElement("span");n.setAttribute("id","boc-sampleDialog"),n.style.height="260px",n.style.width="400px",n.style.background="white",n.style.border="0.5px solid grey",n.style.position="fixed",n.style.overflow="hidden",n.style.zIndex="99",a.setAttribute("id","title"),a.style.backgroundColor="#e5e5e5",a.style.fontWeight="bold",a.style.color="rgb(122, 122, 122)",a.style.height="20px",a.style.padding="3px 0 0 7px",l.setAttribute("id","close"),l.style.cursor="pointer",l.style.position="absolute",l.style.color="rgb(122, 122, 122)",l.style.fontWeight="bold",l.style.top="2px",l.style.zIndex=100,o.setAttribute("id","content"),o.style.padding="2px",a.innerHTML="Import Organizational Chart Data",l.innerHTML="&times;";var s=document.createElement("HR");s.style.height="0.1px",s.style.backgroundColor="#aeaeae",s.style.border="none",s.style.margin="0",n.appendChild(a),n.appendChild(s),o.appendChild(r),n.appendChild(o),n.appendChild(l),document.body.appendChild(n),OrgChart._importCenter(n),l.style.left=n.offsetWidth-20+"px";var c=document.createElement("div");c.setAttribute("id","overlay"),c.style.width="100%",c.style.height="100%",c.style.left=0,c.style.top=0,c.style.position="fixed",c.style.background="grey",c.style.opacity="0.5",c.style.zIndex=98,document.body.appendChild(c),n._overlay=c;var h=document.createElement("LABEL"),d=document.createTextNode("Name:");h.setAttribute("for","boc-id-select"),h.appendChild(d),h.style.fontSize="16px",h.style.color="rgb(122, 122, 122)",h.style.padding="5px",h.style.margin="5px",h.style.width="30%",h.style.textAlign="right",h.style.display="inline-block",r.appendChild(h);var p=document.createElement("SELECT");p.id="boc-id-select",p.style.fontSize="16px",p.style.color="rgb(122, 122, 122)",p.style.padding="5px",p.style.margin="5px",p.style.width="60%",p.style.border="1px solid #aeaeae",r.appendChild(p);var u=document.createElement("BR");r.appendChild(u);for(var g=0;g<t.length;g++){(C=document.createElement("option")).setAttribute("value",t[g]);var f=document.createTextNode(t[g]);C.appendChild(f),p.appendChild(C)}var m=document.createElement("LABEL"),v=document.createTextNode("Reports to:");m.setAttribute("for","pid-select"),m.appendChild(v),m.style.fontSize="16px",m.style.color="rgb(122, 122, 122)",m.style.padding="5px",m.style.margin="5px",m.style.width="30%",m.style.textAlign="right",m.style.display="inline-block",r.appendChild(m);var b=document.createElement("SELECT");for(b.id="pid-select",b.style.fontSize="16px",b.style.color="rgb(122, 122, 122)",b.style.padding="5px",b.style.margin="5px",b.style.width="60%",b.style.border="1px solid #aeaeae",r.appendChild(b),g=0;g<t.length;g++){var C;(C=document.createElement("option")).setAttribute("value",t[g]),f=document.createTextNode(t[g]),C.appendChild(f),b.appendChild(C)}var y=document.createElement("BUTTON");y.innerHTML="Import",y.style.fontSize="16px",y.style.color="rgb(122, 122, 122)",y.style.padding="5px 20px",y.style.margin="20px auto",y.style.display="block",y.onclick=function(){n.style.display="none",n._overlay&&n._overlay.parentNode.removeChild(n._overlay);var r=t.indexOf(p.options[p.selectedIndex].value);t[r]="id";var i=t.indexOf(b.options[b.selectedIndex].value);t[i]="pid",e(t)};var x=document.createElement("DIV");return x.appendChild(y),r.appendChild(x),l.onclick=function(t){n._overlay&&n._overlay.parentNode.removeChild(n._overlay),n.parentNode.removeChild(n),t.stopPropagation()},a.onmousedown=function(t){t=t||window.event,n._dragging=!0,n._originalLeft=n.offsetLeft,n._originalTop=n.offsetTop,n._mouseLeft=t.clientX,n._mouseTop=t.clientY},document.onmousemove=function(t){t=t||window.event,n._dragging&&(n.style.left=n._originalLeft+t.clientX-n._mouseLeft+"px",n.style.top=n._originalTop+t.clientY-n._mouseTop+"px")},document.onmouseup=function(t){t=t||window.event,n._dragging&&(n.style.left=n._originalLeft+t.clientX-n._mouseLeft+"px",n.style.top=n._originalTop+t.clientY-n._mouseTop+"px",n._dragging=!1)},n}e(t)},OrgChart._importCenter=function(t){t&&(t.style.left=(window.innerWidth-t.offsetWidth)/2+"px",t.style.top=(window.innerHeight-t.offsetHeight)/2+"px")},OrgChart.prototype.importXML=function(){var t=this,e=document.createElement("INPUT");e.setAttribute("type","file"),e.setAttribute("accept",".xml"),e.style.display="none",e.onchange=function(e){var r=e.target,i=new FileReader;i.onload=function(){var e=OrgChart._xml2json(i.result);0!=OrgChart.events.publish("import",[t,e])&&(t.config.nodes=e,t.draw())},i.readAsText(r.files[0])},e.click()},OrgChart.prototype.expand=function(t,e,r){this._draw(!1,OrgChart.action.expand,{id:t,ids:e},r)},OrgChart.prototype.collapse=function(t,e,r){this._draw(!1,OrgChart.action.collapse,{id:t,ids:e},r)},OrgChart.prototype.changeRoots=function(t,e,r){this.config.roots=e,this._draw(!1,OrgChart.action.update,{id:t},r)},OrgChart.prototype.expandCollapse=function(t,e,r,i){Array.isArray(e)||(e=[]),Array.isArray(r)||(r=[]);var n={id:t,expandIds:e,collapseIds:r,ids:e.concat(r)};this._draw(!1,OrgChart.action.collapse,n,i)},OrgChart.prototype.expandCollapseToLevel=function(t,e,r,i){this.config.collapse=e,null==r&&(r={}),this.config.expand=r,this._draw(!1,OrgChart.action.collapse,{id:t,method:"expandCollapseToLevel"},i)},OrgChart.prototype.maximize=function(t,e,r,i){var n=this,a={id:t,options:{}};OrgChart.isNEU(a.id)&&(a.id=this.roots[0].id,a.all=!0),a.options.horizontal=!1,a.options.vertical=!1,e&&(a.options.horizontal=e),r&&(a.options.vertical=r),this._draw(!1,OrgChart.action.maximize,a,function(){n.ripple(t),i&&i()})},OrgChart.prototype.minimize=function(t,e){var r=this,i={id:t};OrgChart.isNEU(i.id)&&(i.id=this.roots[0].id,i.all=!0),this._draw(!1,OrgChart.action.minimize,i,function(){r.ripple(t),e&&e()})},OrgChart.prototype._expCollHandler=function(t){this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide();var e=this.getNode(t),r=this.getCollapsedIds(e);if(r.length){if(!1===OrgChart.events.publish("expcollclick",[this,!1,t,r]))return!1;this.expand(t,r,!1)}else{if(!1===OrgChart.events.publish("expcollclick",[this,!0,t,e.childrenIds]))return!1;this.collapse(t,e.childrenIds,!1)}},OrgChart.prototype._upHandler=function(t){this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide();var e=this._upHandlerCreateArgs(t);if(!1===OrgChart.events.publish("up-click",[this,e]))return!1;this.changeRoots(e.id,e.roots,!1)},OrgChart.prototype._upHandlerCreateArgs=function(t){var e,r=this.getNode(t),i=Object.assign([],this.config.roots),n=this.getNode(r.pid);if(n&&(e=n),e){if(Array.isArray(i)){var a=i.indexOf(r.id);-1!=a&&i.splice(a,1)}else i=[];i.push(e.id)}return{id:r.id,roots:i}},String.prototype.replaceAll||(String.prototype.replaceAll=function(t,e){return this.replace(new RegExp(t,"g"),e)}),String.prototype.splice=function(t,e,r){return this.slice(0,t)+r+this.slice(t+Math.abs(e))},String.prototype.insert=function(t,e){return t>0?this.substring(0,t)+e+this.substr(t):e+this},Array.prototype.unique||Object.defineProperty(Array.prototype,"unique",{value:function(){for(var t=this.concat(),e=0;e<t.length;++e)for(var r=e+1;r<t.length;++r)t[e]===t[r]&&t.splice(r--,1);return t},writable:!0,configurable:!0,enumerable:!1}),Object.defineProperty(Array.prototype,"has",{value:function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return!0;return!1},writable:!0,configurable:!0,enumerable:!1}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},writable:!0,configurable:!0}),"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(t){return-1!==this.indexOf(t,this.length-t.length)}),OrgChart.prototype._globalMouseDownHandler=function(t,e){var r={move:"mousemove",up:"mouseup",leave:"mouseleave"};if(-1!=e.type.indexOf("touch")&&(this._touch=1==e.touches.length?{x:e.touches[0].clientX,y:e.touches[0].clientY}:null,r={move:"touchmove",up:"touchend",touchstart:"touchstart"}),t==e.target)return e.stopPropagation(),e.preventDefault(),void this._mouseDownHandler(t,e,r);if(this.config.nodeMouseClick==OrgChart.action.pan){for(var i=e.target;i!=t&&!i.hasAttribute(OrgChart.attr.control_expcoll_id)&&!i.hasAttribute(OrgChart.attr.control_up_id);)i=i.parentNode;if(!i.hasAttribute(OrgChart.attr.control_expcoll_id)&&!i.hasAttribute(OrgChart.attr.control_up_id))return e.stopPropagation(),e.preventDefault(),void this._mouseDownHandler(t,e,r)}for(var n=e.target;n!=t;){if(n.hasAttribute(OrgChart.attr.node_id))return void this._nodeMouseDownHandler(n,e,r);if(n.hasAttribute(OrgChart.attr.control_node_circle_menu_name))return e.stopPropagation(),e.preventDefault(),void this._nodeCircleNodeMenuItemMouseDownHandler(n,e,r);n=n.parentNode}},OrgChart.prototype._globalClickHandler=function(t,e){if(-1!=e.type.indexOf("touch")&&this._touch&&1==e.changedTouches.length){if(e.changedTouches.length){var r={x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY},i=OrgChart.t(this.config.template,!1,this.getScale()).size,n=this.getScale(),a=Math.abs(r.x-this._touch.x)/n,o=Math.abs(r.y-this._touch.y)/n;if(this._touch=null,a>i[0]/10)return;if(o>i[1]/10)return}}else if(-1!=e.type.indexOf("touch")&&null==this._touch)return;for(var l=e.target;l!=t;){if(l.hasAttribute(OrgChart.attr.control_expcoll_id)){var s=l.getAttribute(OrgChart.attr.control_expcoll_id),c=this.getNode(s);return void this._expCollHandler(c.id)}if(l.hasAttribute(OrgChart.attr.node_id))return s=l.getAttribute(OrgChart.attr.node_id),c=this.getNode(s),void this._nodeClickHandler(c.id,e);if(l.hasAttribute(OrgChart.attr.control_node_menu_id))return e.stopPropagation(),e.preventDefault(),s=l.getAttribute(OrgChart.attr.control_node_menu_id),c=this.getNode(s),void this._nodeMenuClickHandler(c.id,l,e);if(l.hasAttribute(OrgChart.attr.control_node_circle_menu_id))return e.stopPropagation(),e.preventDefault(),s=l.getAttribute(OrgChart.attr.control_node_circle_menu_id),void this._nodeCircleMenuClickHandler(s);if(l.hasAttribute(OrgChart.attr.control_node_circle_menu_name))return e.stopPropagation(),e.preventDefault(),void this._nodeCircleMenuItemClickHandler(l,e);if(l.hasAttribute(OrgChart.attr.control_add))return void this._lonelyButtonHandler();if(l.hasAttribute(OrgChart.attr.control_up_id))return s=l.getAttribute(OrgChart.attr.control_up_id),e.stopPropagation(),e.preventDefault(),void this._upHandler(s);if(l.hasAttribute(OrgChart.attr.c_link_from))return void OrgChart.events.publish("clink-click",[this,{from:l.getAttribute(OrgChart.attr.c_link_from),to:l.getAttribute(OrgChart.attr.c_link_to),event:e}]);if(l.hasAttribute(OrgChart.attr.s_link_from))return void OrgChart.events.publish("slink-click",[this,{from:l.getAttribute(OrgChart.attr.s_link_from),to:l.getAttribute(OrgChart.attr.s_link_to),event:e}]);l=l.parentNode}},OrgChart.prototype._globalContextHandler=function(t,e){for(var r=e.target;r!=t;){if(r.hasAttribute(OrgChart.attr.node_id)){var i=r.getAttribute(OrgChart.attr.node_id),n=this.getNode(i);return void this._nodeContextHandler(n.id,e)}r=r.parentNode}},OrgChart.prototype._nodeContextHandler=function(t,e){e.preventDefault(),this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide();var r=this.get(t),i=null;if(null!=r&&Array.isArray(r.tags))for(var n=0;n<r.tags.length;n++){var a=r.tags[n];this.config.tags[a]&&this.config.tags[a].nodeContextMenu&&(i=this.config.tags[a].nodeContextMenu)}this.nodeContextMenuUI.show(e.pageX,e.pageY,t,null,i)},OrgChart.prototype._globalDbClickHandler=function(t,e){for(var r=e.target;r!=t;){if(r.hasAttribute(OrgChart.attr.node_id)){var i=r.getAttribute(OrgChart.attr.node_id),n=this.getNode(i);return void this._nodeDbClickHandler(n.id,e)}r=r.parentNode}},OrgChart.prototype._mouseScrollHandler=function(t,e){if(this.config.mouseScrool!=OrgChart.action.ctrlZoom||e.ctrlKey){var r=this,i=!1,n=this.config.zoom.speed,a=this.config.zoom.smooth,o=0,l=this.getScale(),s=OrgChart._centerPointInPercent(r.getSvg(),e.pageX,e.pageY),c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,20)};e.preventDefault();var h=e.delta||e.wheelDelta;void 0===h&&(h=-e.detail),h=Math.max(-1,Math.min(1,h)),o+=-h*n,i||function t(){i=!0;var e=(o-l)/a;e>0?e++:e--,l+=e,r.zoom(1-e/12/50,s),parseInt(l)==parseInt(o)?i=!1:c(t)}()}},OrgChart.prototype._nodeCircleNodeMenuItemMouseDownHandler=function(t,e,r){var i=t.parentNode.getAttribute(OrgChart.attr.control_node_circle_menu_wrraper_id),n=t.getAttribute(OrgChart.attr.control_node_circle_menu_name),a=this.nodeCircleMenuUI._menu[n];if(a.draggable){var o=this,l=OrgChart._getClientXY(e),s=this.getNode(i);t._dragEventFired=!1;var c=o.getScale(),h=null,d=null;this._gragStartedId=i,document.body.style.mozUserSelect=document.body.style.webkitUserSelect=document.body.style.userSelect="none";var p=this.getSvg(),u={x:l.x,y:l.y},g=t.cloneNode(!0);p.insertBefore(g,p.firstChild);var f=OrgChart._getTransform(g),m=f[4],v=f[5],b=function(t){for(;t&&!t.hasAttribute(OrgChart.attr.control_node_circle_menu_wrraper_id);)t=t.parentNode;if(t){var e=OrgChart._getTransform(t);return{x:e[4],y:e[5]}}console.error("cannot find parent"+OrgChart.attr.control_node_circle_menu_wrraper_id)}(t);g.setAttribute("transform","matrix(1,0,0,1,"+(m+b.x)+","+(v+b.y)+")"),g.style.opacity=.7;var C=function(t,e){if(null!=t){e.classList.remove("boc-drag-over");for(var r=OrgChart.getStParentNodes(o.getNode(h)),i=0;i<r.length;i++){var n=o.getNodeElement(r[i].id);n&&(n.style.opacity=1)}}},y=function(e){if(u){var r=OrgChart._getClientXY(e),i=e.target;OrgChart.isMobile()&&(i=document.elementFromPoint(r.x,r.y)),r.x+=b.x*c,r.y+=b.y*c;var l=OrgChart._getOffsetXY(o.element,e),s={left:o.width()-(l.x+o.config.padding)<0,right:l.x-o.config.padding<0,down:o.height()-(l.y+o.config.padding)<0,up:l.y-o.config.padding<0};if(s.left||s.right||s.up||s.down){p.classList&&(p.classList.remove("boc-cursor-grab"),p.classList.add("boc-cursor-move"),p.classList.remove("boc-cursor-nodrop"),p.classList.remove("boc-cursor-copy"));var y=f[4],O=f[5],w=u.x,_=u.y,k=r.x,S=r.y;o.startMove(s,function(t){f[4]=y+t.x,f[5]=O+t.y,u.x=w-t.xWithoutScale,u.y=_-t.yWithoutScale,r.x=k-t.xWithoutScale,r.y=S-t.yWithoutScale,g.setAttribute("transform","matrix("+f.toString()+")")})}else{for(o.stopMove(),p.classList&&(p.classList.add("boc-cursor-grab"),p.classList.remove("boc-cursor-move"),p.classList.remove("boc-cursor-nodrop"),p.classList.remove("boc-cursor-copy")),C(h,d),h=null,d=null;null!=i&&i!=p;){if(i.hasAttribute&&i.hasAttribute(OrgChart.attr.node_id)){var A=i.getAttribute(OrgChart.attr.node_id);h=A,d=i;break}i=i.parentNode}if(null!=h){d.classList.add("boc-drag-over");for(var N=o.getNode(h),E=OrgChart.getStParentNodes(N),I=0;I<E.length;I++){var L=o.getNodeElement(E[I].id);L&&(L.style.opacity=.1)}p.classList.remove("boc-cursor-grab"),p.classList.remove("boc-cursor-move"),p.classList.add("boc-cursor-copy"),p.classList.remove("boc-cursor-nodrop")}var T=(r.y-u.y)/c;f[4]=m+(r.x-u.x)/c,f[5]=v+T,!t._dragEventFired&&(Math.abs(r.x-u.x)>OrgChart.FIRE_DRAG_NOT_CLICK_IF_MOVE||Math.abs(r.y-u.y)>OrgChart.FIRE_DRAG_NOT_CLICK_IF_MOVE)&&(!1===OrgChart.events.publish("drag",[o.nodeCircleMenuUI,{from:A,menuItem:a,menuItemName:n}])&&x(),t._dragEventFired=!0),g.setAttribute("transform","matrix("+f.toString()+")")}}},x=function(e){if(o.stopMove(),p.classList&&(p.classList.remove("boc-cursor-grab"),p.classList.remove("boc-cursor-move"),p.classList.remove("boc-cursor-nodrop"),p.classList.remove("boc-cursor-copy")),p.removeEventListener(r.move,y),p.removeEventListener(r.up,x),r.leave&&p.removeEventListener(r.leave,x),s.id==h||null==h)return p.removeChild(g),o._gragStartedId=null,void(t._dragEventFired&&OrgChart.events.publish("drop",[o.nodeCircleMenuUI,{from:s.id,menuItemName:n,menuItem:a}]));var i=o.getNode(h);OrgChart.events.publish("drop",[o.nodeCircleMenuUI,{from:s.id,to:i.id,menuItem:a,menuItemName:n}]),C(h,d),p.removeChild(g),o._gragStartedId=null};p.addEventListener(r.move,y),p.addEventListener(r.up,x),r.leave&&p.addEventListener(r.leave,x)}},OrgChart.prototype._nodeMouseDownHandler=function(t,e,r){if(this.config.enableDragDrop){var i=OrgChart._getClientXY(e),n=t.getAttribute(OrgChart.attr.node_id),a=this.getNode(n);t._dragEventFired=!1;var o=null,l=null;this._gragStartedId=n,document.body.style.mozUserSelect=document.body.style.webkitUserSelect=document.body.style.userSelect="none";var s=this,c=this.getSvg(),h={x:i.x,y:i.y},d=OrgChart._getTransform(t),p=d[4],u=d[5],g=s.getScale(),f=t.cloneNode(!0);c.insertBefore(f,c.firstChild),f.style.opacity=.7;var m=function(t,e){if(null!=t){e.classList.remove("boc-drag-over");for(var r=s.getNode(o),i=OrgChart.getStParentNodes(r),n=0;n<i.length;n++){var a=s.getNodeElement(i[n].id);a&&(a.style.opacity=1)}}},v=function(e){if(h){var r=OrgChart._getClientXY(e),i=e.target;OrgChart.isMobile()&&(i=document.elementFromPoint(r.x,r.y));var n=OrgChart._getOffsetXY(s.element,e),v={left:s.width()-(n.x+s.config.padding)<0,right:n.x-s.config.padding<0,down:s.height()-(n.y+s.config.padding)<0,up:n.y-s.config.padding<0};if(v.left||v.right||v.up||v.down){c.classList&&(c.classList.remove("boc-cursor-grab"),c.classList.add("boc-cursor-move"),c.classList.remove("boc-cursor-nodrop"),c.classList.remove("boc-cursor-copy"));var C=d[4],y=d[5],x=h.x,O=h.y,w=r.x,_=r.y;s.startMove(v,function(t){d[4]=C+t.x,d[5]=y+t.y,h.x=x-t.xWithoutScale,h.y=O-t.yWithoutScale,r.x=w-t.xWithoutScale,r.y=_-t.yWithoutScale,f.setAttribute("transform","matrix("+d.toString()+")")})}else{if(s.stopMove(),c.classList&&(c.classList.add("boc-cursor-grab"),c.classList.remove("boc-cursor-move"),c.classList.remove("boc-cursor-nodrop"),c.classList.remove("boc-cursor-copy")),m(o,l),o=null,l=null,s.config.enableDragDrop)for(;null!=i&&i!=c;){if(i.hasAttribute&&i.hasAttribute(OrgChart.attr.node_id)){var k=i.getAttribute(OrgChart.attr.node_id);if(s._gragStartedId&&k!=s._gragStartedId){o=k,l=i;break}}i=i.parentNode}if(null!=o){l.classList.add("boc-drag-over");for(var S=s.getNode(o),A=OrgChart.getStParentNodes(S),N=0;N<A.length;N++){var E=s.getNodeElement(A[N].id);E&&(E.style.opacity=.1)}!s._canUpdateLink(a.id,o)&&c.classList?(c.classList.remove("boc-cursor-grab"),c.classList.remove("boc-cursor-move"),c.classList.remove("boc-cursor-copy"),c.classList.add("boc-cursor-nodrop")):c.classList&&(c.classList.remove("boc-cursor-grab"),c.classList.remove("boc-cursor-move"),c.classList.add("boc-cursor-copy"),c.classList.remove("boc-cursor-nodrop"))}var I=(r.y-h.y)/g;d[4]=p+(r.x-h.x)/g,d[5]=u+I,!t._dragEventFired&&(Math.abs(r.x-h.x)>OrgChart.FIRE_DRAG_NOT_CLICK_IF_MOVE||Math.abs(r.y-h.y)>OrgChart.FIRE_DRAG_NOT_CLICK_IF_MOVE)&&(!1===OrgChart.events.publish("drag",[s,k])&&b(),t._dragEventFired=!0),f.setAttribute("transform","matrix("+d.toString()+")")}}},b=function(e){if(s.stopMove(),c.classList&&(c.classList.remove("boc-cursor-grab"),c.classList.remove("boc-cursor-move"),c.classList.remove("boc-cursor-nodrop"),c.classList.remove("boc-cursor-copy")),c.removeEventListener(r.move,v),c.removeEventListener(r.up,b),r.leave&&c.removeEventListener(r.leave,b),a.id==o||null==o)return c.removeChild(f),s._gragStartedId=null,void(t._dragEventFired&&OrgChart.events.publish("drop",[s,a.id]));var i=s.getNode(o);if(!1===OrgChart.events.publish("drop",[s,a.id,i.id]))return m(o,l),c.removeChild(f),void(s._gragStartedId=null);if(s._canUpdateLink(a.id,o)){var n=s.get(a.id);n.pid=o,n.stpid=null,s.updateNode(n,null,!0)}else c.removeChild(f),m(o,l);s._gragStartedId=null};c.addEventListener(r.move,v),c.addEventListener(r.up,b),r.leave&&c.addEventListener(r.leave,b)}},OrgChart.prototype._resizeHandler=function(t,e){var r=this.getViewBox(),i=this.getSvg(),n=i.getAttribute("width"),a=i.getAttribute("height"),o=n/r[2],l=a/r[3],s=o>l?l:o;i.setAttribute("width",this.width()),i.setAttribute("height",this.height()),r[2]=this.width()/s,r[3]=this.height()/s,this.setViewBox(r),this.xScrollUI.create(this.width()),this.yScrollUI.create(this.height()),this._draw(!1,OrgChart.action.resize)},OrgChart.prototype._nodeDbClickHandler=function(t,e){if(!1===OrgChart.events.publish("dbclick",[this,this.get(t)]))return!1;this._commonClickHandler(t,e,this.config.nodeMouseDbClick)},OrgChart.prototype._nodeClickHandler=function(t,e){var r=this.getNodeElement(t);if(r&&r._dragEventFired)r._dragEventFired=!1;else{if(!1===OrgChart.events.publish("click",[this,{node:this.getNode(t),event:e}]))return!1;this._commonClickHandler(t,e,this.config.nodeMouseClick)}},OrgChart.prototype._nodeCircleMenuItemClickHandler=function(t,e){var r=t.parentNode.getAttribute(OrgChart.attr.control_node_circle_menu_wrraper_id),i=t.getAttribute(OrgChart.attr.control_node_circle_menu_name);OrgChart.events.publish("click",[this.nodeCircleMenuUI,{nodeId:r,menuItemName:i,menuItem:this.nodeCircleMenuUI._menu[i],event:e}])},OrgChart.prototype._nodeCircleMenuClickHandler=function(t){this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide();var e=this.getNode(t),r=null;if(Array.isArray(e.tags))for(var i=0;i<e.tags.length;i++){var n=e.tags[i];this.config.tags[n]&&this.config.tags[n].nodeCircleMenu&&(r=this.config.tags[n].nodeCircleMenu)}this.nodeCircleMenuUI.show(t,r)},OrgChart.prototype._commonClickHandler=function(t,e,r){var i;this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide(),r==OrgChart.action.expandCollapse&&this.toggleExpandCollapse(t,e),r==OrgChart.action.edit&&(i=this.getNode(t))&&(this.editUI.show(i.id),this.ripple(i.id,e.clientX,e.clientY)),r==OrgChart.action.details&&(i=this.getNode(t))&&(this.editUI.show(i.id,!0),this.ripple(i.id,e.clientX,e.clientY))},OrgChart.prototype._menuHandlerMouseDownHandler=function(t,e){e.stopPropagation(),e.preventDefault()},OrgChart.prototype._nodeMenuClickHandler=function(t,e,r){this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide();var i=this.getNode(t),n=null;if(Array.isArray(i.tags))for(var a=0;a<i.tags.length;a++){var o=i.tags[a];this.config.tags[o]&&this.config.tags[o].nodeMenu&&(n=this.config.tags[o].nodeMenu)}this.nodeMenuUI.showStickIn(e,t,null,n)},OrgChart.prototype._menuClickHandler=function(t,e){e.stopPropagation(),e.preventDefault(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.show(t.offsetLeft,t.offsetTop)},OrgChart.prototype._lonelyButtonHandler=function(){var t={id:this.generateId()};!1!==this.addNode(t,null,!0)&&this.center(t.id)},OrgChart.prototype.toggleExpandCollapse=function(t,e){var r=this.getNode(t),i=this.getCollapsedIds(r);if(i.length){if(!1===OrgChart.events.publish("expcollclick",[this,!1,t,i]))return!1;this.expand(t,i,!1)}else{if(!1===OrgChart.events.publish("expcollclick",[this,!0,t,r.childrenIds]))return!1;this.collapse(t,r.childrenIds,!1)}e&&this.ripple(r.id,e.clientX,e.clientY)},OrgChart.prototype._move=function(t,e,r){r[0]=e,r[1]=t,this.setViewBox(r),this.xScrollUI.setPosition(),this.yScrollUI.setPosition()},OrgChart.prototype.startMove=function(t,e){if(t){if(this._movePosition=t,!this._moveInterval){var r=this,i=this.getViewBox().slice(0),n=this.getScale(),a=0,o=0;this._moveInterval=setInterval(function(){var t={x:0,y:0,xWithoutScale:0,yWithoutScale:0};r._movePosition.left&&(a++,t.x=a*OrgChart.MOVE_STEP/n,t.xWithoutScale=a*OrgChart.MOVE_STEP),r._movePosition.right&&(a++,t.x=-a*OrgChart.MOVE_STEP/n,t.xWithoutScale=-a*OrgChart.MOVE_STEP),r._movePosition.up&&(o++,t.y=-o*OrgChart.MOVE_STEP/n,t.yWithoutScale=-o*OrgChart.MOVE_STEP),r._movePosition.down&&(o++,t.y=o*OrgChart.MOVE_STEP/n,t.yWithoutScale=o*OrgChart.MOVE_STEP),r.setViewBox([i[0]+t.x,i[1]+t.y,i[2],i[3]]),r.xScrollUI.setPosition(),r.yScrollUI.setPosition(),e&&e(t)},OrgChart.MOVE_INTERVAL)}}else console.error("movePosition parameter not defined")},OrgChart.prototype.stopMove=function(){this._moveInterval&&(clearInterval(this._moveInterval),this._moveInterval=null,this._movePosition=null)},void 0===OrgChart&&(OrgChart={}),OrgChart.node=function(t,e,r,i){this.templateName=i,this.id=t,this.pid=e,this.children=[],this.childrenIds=[],this.parent=null,this.stpid=null,this.stParent=null,this.stChildren=[],this.stChildrenIds=[],this.tags=r,this.tags||(this.tags=[])},OrgChart.prototype._mouseDownHandler=function(t,e,r){var i=this;this.editUI.hide(),this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.menuUI.hide(),this.nodeCircleMenuUI.hide();var n=this.getViewBox(),a=this.getScale(),o=OrgChart._getClientTouchesXY(e,0),l=OrgChart._getClientTouchesXY(e,1),s={diffX:0,diffY:0,x0:o.x,y0:o.y,type:"pan",viewBoxLeft:n[0],viewBoxTop:n[1]};e.touches&&e.touches.length>1&&(s.type="pinch",s.dist=Math.sqrt((o.x-l.x)*(o.x-l.x)+(o.y-l.y)*(o.y-l.y)));var c=this.getPointerElement();if("pan"==s.type){this._hideBeforeAnimation();var h=OrgChart._getOffsetXY(this.element,e),d=h.x/a+n[0]-16/a,p=h.y/a+n[1]-16/a;c.style.display="inherit",c.setAttribute("transform","matrix(0,0,0,0,"+d+","+p+")"),OrgChart.anim(c,{transform:[0,0,0,0,d,p],opacity:0},{transform:[1/a,0,0,1/a,d,p],opacity:1},300,OrgChart.anim.outBack)}var u=function(t){var e=OrgChart._getClientTouchesXY(t,0);if(s&&"pan"==s.type)i._hideBeforeAnimation(),s.diffX=e.x-s.x0,s.diffY=e.y-s.y0,i._move(-s.diffY/a+s.viewBoxTop,-s.diffX/a+s.viewBoxLeft,n);else if(s&&"pinch"==s.type){var r=OrgChart._getClientTouchesXY(t,1),o=Math.sqrt((e.x-r.x)*(e.x-r.x)+(e.y-r.y)*(e.y-r.y)),l=1+(o-s.dist)/(s.dist/100)/100;s.dist=o;var c=OrgChart._pinchMiddlePointInPercent(i.element,i.width(),i.height(),t);i.zoom(l,c)}},g=function(){"pan"==s.type&&i.config.sticky?setTimeout(function(){OrgChart._moveToBoundaryArea(t,i.getViewBox(),i.response.boundary,function(){i._draw(!0,OrgChart.action.pan)})},0):"pan"!=s.type||i.config.sticky||i._draw(!0,OrgChart.action.pan),s=null,c.style.display="none",t.removeEventListener(r.move,u),t.removeEventListener(r.up,g),r.leave&&t.removeEventListener(r.leave,g),r.touchstart&&t.removeEventListener(r.touchstart,g)};t.addEventListener(r.move,u),t.addEventListener(r.up,g),r.leave&&t.addEventListener(r.leave,g),r.touchstart&&t.addEventListener(r.touchstart,g)},OrgChart.searchUI=function(){},OrgChart.searchUI.prototype.init=function(t){this.obj=t;var e=this,r=document.createElement("div");r.classList.add("boc-search"),r.style.right=this.obj.config.padding-10+"px",r.style.top=this.obj.config.padding-10+"px";var i=OrgChart.elements.textbox({},{label:OrgChart.SEARCH_PLACEHOLDER},"320px");r.innerHTML+=i.html,this.searchTableWrapper=document.createElement("div"),r.appendChild(this.searchTableWrapper);var n=t.getSvg().nextSibling;this.obj.element.insertBefore(r,n),OrgChart.input.init(r),this.input=document.getElementById(i.id),this.input.addEventListener("keypress",function(t){"Enter"==t.key&&t.preventDefault()}),this.input.addEventListener("keyup",function(t){"ArrowDown"==t.key?(t.preventDefault(),a()):"ArrowUp"==t.key?(t.preventDefault(),t.stopPropagation(),o()):"Enter"==t.key?(t.preventDefault(),l()):"Escape"==t.key?(t.preventDefault(),e.hide()):e._serverSearch(this.value)});var a=function(){var t=e.obj.element.querySelectorAll("[data-search-item-id]"),r=e.obj.element.querySelector('[data-selected="yes"]');null==r&&t.length>0?t[0].setAttribute("data-selected","yes"):t.length>0&&r.nextSibling&&r.nextSibling.setAttribute&&(r.removeAttribute("data-selected"),r.nextSibling.setAttribute("data-selected","yes"))},o=function(){var t=e.obj.element.querySelectorAll("[data-search-item-id]"),r=e.obj.element.querySelector('[data-selected="yes"]');null==r&&t.length>0?t[t.length-1].setAttribute("data-selected","yes"):t.length>0&&r.previousSibling&&r.previousSibling.setAttribute&&(r.removeAttribute("data-selected"),r.previousSibling.setAttribute("data-selected","yes"))},l=function(){var t=e.obj.element.querySelector('[data-selected="yes"]');if(t){var r=t.getAttribute("data-search-item-id");0!=OrgChart.events.publish("searchclick",[e.obj,r])&&e.obj.center(r)}}},OrgChart.searchUI.prototype.hide=function(){this.searchTableWrapper&&(this.searchTableWrapper.innerHTML=""),this.input&&(this.input.value="",this.input.focus(),this.input.blur())},OrgChart.searchUI.prototype.find=function(t){this.input&&(this.input.value=t,this._serverSearch(t),this.input.focus())},OrgChart.searchUI.prototype._serverSearch=function(t){var e=this,r=OrgChart._search.search(this.obj.config.nodes,t,this.obj.config.searchFields,this.obj.config.searchFields,this.obj.config.searchDisplayField,this.obj.config.searchFieldsWeight),i=OrgChart._getFistImgField(this.obj.config),n=`<table border="0" cellspacing="0" cellpadding="0">\n                    <tbody>\n                        ${function(){for(var t="",n=0;n<r.length&&!(n>=OrgChart.SEARCH_RESULT_LIMIT);n++){var a=r[n],o="";if(i){var l=e.obj._get(a.id);"function"==typeof i?o=i(e.obj,e.obj.getNode(a.id),l):l[i]&&(o=l[i])}var s="",c="";e.obj.config.searchDisplayField==a.__searchField?s=a.__searchMarks:e.obj.config.searchDisplayField?(OrgChart.isNEU(s=a[e.obj.config.searchDisplayField])&&(s=""),c=a.__searchMarks):s=a.__searchMarks,t+=OrgChart.searchUI.createItem(o,a.id,s,c)}return t}()}  \n                    </tbody>\n                </table>`;this.searchTableWrapper.innerHTML=n;for(var a=this.obj.element.querySelectorAll("[data-search-item-id]"),o=0;o<a.length;o++)a[o].addEventListener("click",function(){if(!1!==OrgChart.events.publish("searchclick",[e.obj,this.getAttribute("data-search-item-id")])){e.obj.center(this.getAttribute("data-search-item-id"));var t=e.obj.element.querySelector('[data-selected="yes"]');t&&t.removeAttribute("data-selected"),this.setAttribute("data-selected","yes"),e.input.focus()}})},OrgChart.searchUI.createItem=function(t,e,r,i){return r&&(r="<b>"+r+"</b>"),`<tr data-search-item-id="${e}">\n                <td class="boc-search-image-td">\n                    ${t=t?`<div class="boc-search-photo" style="background-image: url(${t})"></div>`:`<div class="boc-search-photo">${OrgChart.icon.user(32,32,"#aeaeae")}</div>`}\n                </td>\n                <td class="boc-search-text-td">${r} <br/>${i}</td>\n            </tr>`},void 0===OrgChart&&(OrgChart={}),OrgChart.manager=function(t,e){this.config=t,this.layoutConfigs=e,this.visibleNodeIds=[],this.viewBox=null,this.action=null,this.actionParams=null,this.nodes={},this.oldNodes={},this.maxX=null,this.maxY=null,this.minX=null,this.minY=null,this.bordersByRootIdAndLevel=null,this.roots=null,this.state=null,this.vbIsInitializedFromState=!1,this.rootList=[]},OrgChart.manager.prototype.read=function(t,e,r,i,n,a,o,l){var s=this;OrgChart.state._get(this.config.state,e,r,function(c){s.state=c,s.action=n,s.actionParams=a,n!=OrgChart.action.init||!s.state||a&&a.method&&"fit"==a.method?(s.viewBox=i,s.vbIsInitializedFromState=!1):(s.viewBox=s.state.vb,s.vbIsInitializedFromState=!0);var h=s.maxX,d=s.maxY,p=s.minX,u=s.minY,g=s.bordersByRootIdAndLevel,f=s.roots,m=s.nodes;if(t){var v=OrgChart.manager._getResponse(e,r,s.visibleNodeIds,s.config,h,d,p,u,s.viewBox,f,s.action,s.actionParams,m,s.oldNodes,s.vbIsInitializedFromState);n!=OrgChart.action.exporting&&(s.maxX=h,s.maxY=d,s.minX=p,s.minY=u,s.roots=f,s.nodes=m,s.visibleNodeIds=v.visibleNodeIds),v.bordersByRootIdAndLevel=g,v.roots=f,v.adjustify={x:0,y:0},s.state&&(v.adjustify=s.state.adjustify),o(v)}else s.oldNodes=m||null,s._read(function(t){g=t.bordersByRootIdAndLevel;var i=OrgChart.manager._getResponse(e,r,s.visibleNodeIds,s.config,h=t.maxX,d=t.maxY,p=t.minX,u=t.minY,s.viewBox,f=t.roots,s.action,s.actionParams,m=t.nodes,s.oldNodes,s.vbIsInitializedFromState);i.notif=t.limit,i.roots=f,i.bordersByRootIdAndLevel=g,i.adjustify=t.adjustify,n!=OrgChart.action.exporting&&(s.maxX=h,s.maxY=d,s.minX=p,s.minY=u,s.roots=f,s.nodes=m,s.visibleNodeIds=i.visibleNodeIds,s.bordersByRootIdAndLevel=g,s.rootList=t.rootList),o(i)},l)})},OrgChart.manager.prototype._read=function(t,e){var r=this,i=OrgChart.manager._createNodes(r.config,r.layoutConfigs,r.action,r.actionParams,r.oldNodes,r.state);e(i);var n=i.nodes,a=i.roots,o=OrgChart.remote;null==o&&(o=OrgChart.local),o._setPositions(a,r.layoutConfigs,function(e){var o=OrgChart.manager._doNotChangePositionOfClickedNodeIfAny(a,n,r.action,r.actionParams,r.oldNodes,r.config.orientation);r.state&&r.action==OrgChart.action.init&&(o=r.state.adjustify);for(var l={minX:null,minY:null,maxX:null,maxY:null},s={},c=0;c<a.length;c++)OrgChart.manager._setMinMaxXYAdjustifyIterate(a[c],a[c],l,0,s,o,r.config.orientation);t({minX:l.minX,minY:l.minY,maxX:l.maxX,maxY:l.maxY,bordersByRootIdAndLevel:s,nodes:n,roots:a,rootList:i.rootList,limit:e,adjustify:o})},n)},void 0===OrgChart&&(OrgChart={}),OrgChart.manager._initDinamicNode=function(t,e,r){e&&(t.lcn=e),r&&(t.isAssistant=!0);var i=OrgChart.t(t.templateName);t.w=i&&i.size?i.size[0]:0,t.h=i&&i.size?i.size[1]:0,t.isSplit="split"==t.templateName},OrgChart.manager._setCollpasedProperty=function(t,e,r,i,n,a,o){null==t.collapsed&&e.collapse&&e.collapse.allChildren?t.collapsed=!0:null==t.collapsed&&(t.collapsed=!1),n==OrgChart.action.expand&&-1!=r.ids.indexOf(t.id)&&(t.collapsed=!1),n==OrgChart.action.collapse&&(r.expandIds||r.collapseIds)?r.expandIds&&-1!=r.expandIds.indexOf(t.id)?t.collapsed=!1:r.collapseIds&&-1!=r.collapseIds.indexOf(t.id)&&(t.collapsed=!0):n==OrgChart.action.collapse&&-1!=r.ids.indexOf(t.id)&&(t.collapsed=!0),n==OrgChart.action.expand&&"all"==r.ids&&(t.collapsed=!1),n==OrgChart.action.exporting&&r.expandChildren&&(t.collapsed=!1),n==OrgChart.action.init&&null!=o?t.collapsed=!o.exp.has(t.id):n==OrgChart.action.init?t.collapsed=e.collapse&&a>=e.collapse.level-1&&-1==i.indexOf(t.id):n!=OrgChart.action.centerNode&&n!=OrgChart.action.insert&&n!=OrgChart.action.expand&&n!=OrgChart.action.collapse||i.has(t.id)&&(t.collapsed=!1)},OrgChart.manager._initNode=function(t,e,r,i,n,a,o,l,s,c,h){var d=a[r||"base"];null==t.parent&&OrgChart.manager._setCollpasedProperty(t,d,s,l,n,i-1,h);for(var p=0;p<t.childrenIds.length;p++){var u=e[t.childrenIds[p]];if(OrgChart.manager._setCollpasedProperty(u,d,s,l,n,i,h),!u.collapsed){if(u.parent=t,null!=u.ppid){var g=e[u.ppid];g&&(u.parentPartner=g)}(-1!=u.tags.indexOf("left-partner")||-1!=u.tags.indexOf("right-partner")||-1!=u.tags.indexOf("partner")||u.parentPartner)&&-1==c.indexOf(t.id)&&c.push(t.id),t.children.push(u)}}if(t.min||n!=OrgChart.action.minimize||(s.all||s.id==t.id)&&(t.min=!0),!0===t.min&&n==OrgChart.action.maximize&&(s.all||s.id==t.id)&&(t.min=!1),n==OrgChart.action.init&&null!=h&&(t.min=h.min.has(t.id)),!t.min)for(p=0;p<t.stChildrenIds.length;p++)(u=e[t.stChildrenIds[p]]).stParent=t,t.stChildren.push(u);var f=OrgChart.t(t.templateName,t.min);t.w=f&&f.size?f.size[0]:0,t.h=f&&f.size?f.size[1]:0,t.padding=f&&f.padding?f.padding:[0,0,0,0],null!=i&&(t.level=i),r&&(t.lcn=r);var m=OrgChart._getSubLevels(t.tags,o.tags);m>0&&(t.subLevels=m),-1!=t.tags.indexOf("assistant")&&null!=t.parent&&(t.isAssistant=!0),OrgChart.events.publish("node-created",[t])},OrgChart.manager._iterate=function(t,e,r,i,n,a,o,l,s,c,h,d,p,u,g,f){if(OrgChart.manager._initNode(e,r,s,i,d,c,h,p,u,g,f),e.isAssistant&&(a[e.pid]||(a[e.pid]=[]),a[e.pid].push(e.id)),e.subLevels>0&&o.push(e.id),OrgChart.MIXED_LAYOUT_FOR_NODES_WITH_COLLAPSED_CHILDREN&&!e.isAssistant&&e.parent){if(e.parent&&e.parent.children.length&&e.parent.children[e.parent.children.length-1]==e){for(var m=[],v=0,b=0,C=0;C<e.parent.children.length;C++)-1==(y=e.parent.children[C]).tags.indexOf("partner")&&-1==y.tags.indexOf("left-partner")&&-1==y.tags.indexOf("right-partner")&&-1==y.tags.indexOf("assistant")&&0==y.children.length?m.push(y.id):-1!=y.tags.indexOf("assistant")?v++:-1==y.tags.indexOf("partner")&&-1==y.tags.indexOf("left-partner")&&-1==y.tags.indexOf("right-partner")||b++;(OrgChart.MIXED_LAYOUT_ALL_NODES&&m.length>1&&m.length==e.parent.children.length-v-b||!OrgChart.MIXED_LAYOUT_ALL_NODES&&m.length>1)&&(l[e.pid]=m)}}else if(!e.isAssistant&&0==e.childrenIds.length&&e.parent&&!l[e.pid]){for(m=[],v=0,b=0,C=0;C<e.parent.children.length;C++){var y;-1==(y=e.parent.children[C]).tags.indexOf("partner")&&-1==y.tags.indexOf("left-partner")&&-1==y.tags.indexOf("right-partner")&&-1==y.tags.indexOf("assistant")&&0==y.childrenIds.length?m.push(y.id):-1!=y.tags.indexOf("assistant")?v++:-1==y.tags.indexOf("partner")&&-1==y.tags.indexOf("left-partner")&&-1==y.tags.indexOf("right-partner")||b++}(OrgChart.MIXED_LAYOUT_ALL_NODES&&m.length>1&&m.length==e.parent.childrenIds.length-v-b||!OrgChart.MIXED_LAYOUT_ALL_NODES&&m.length>1)&&(l[e.pid]=m)}e.stChildren.length&&(t.stContainerNodes||(t.stContainerNodes=[]),t.stContainerNodes.push(e));for(var x=0;x<e.stChildren.length;x++){var O="";for(C=0;C<e.tags.length;C++)if(c[e.tags[C]]){O=e.tags[C];break}n.push(e.stChildren[x].id),OrgChart.manager._iterate(t,e.stChildren[x],r,0,n,a,o,l,O,c,h,d,p,u,g,f)}for(i++,x=0;x<e.children.length;x++)OrgChart.manager._iterate(t,e.children[x],r,i,n,a,o,l,s,c,h,d,p,u,g,f)},OrgChart.manager.__createNodes=function(t,e,r,i,n,a,o){for(var l=r.nodes,s=[],c=0;c<l.length;c++){var h,d=l[c];h=OrgChart.STRING_TAGS?d.tags?d.tags.split(","):[]:Array.isArray(d.tags)?d.tags.slice(0):[];var p=OrgChart._getTemplate(h,r.tags,r.template),u=new OrgChart.node(d.id,d.pid,h,p);OrgChart.isNEU(d.ppid)||(u.ppid=d.ppid),OrgChart.isNEU(d.stpid)||(u.stpid=d.stpid),null!=r.orderBy&&(u.order=OrgChart.manager._getOrderFieldValue(d,r.orderBy)),t[d.id]=u,s.push(d.id)}for(null!=r.orderBy&&s.sort(function(e,i){var n=t[e].order,a=t[i].order;return"number"==typeof n||"number"==typeof a?(null==n&&(n=-1),null==a&&(a=-1),r.orderBy.desc?a-n:n-a):"string"==typeof n||"string"==typeof a?(null==n&&(n=""),null==a&&(a=""),r.orderBy.desc?a.localeCompare(n):n.localeCompare(a)):void 0}),c=0;c<s.length;c++){var g=s[c],f=(u=t[g],a?a[g]:null),m=t[u.stpid],v=t[u.pid];if(m||(u.stpid=null),v||(u.pid=null),m){var b=a?a[m.id]:null;b&&(m.min=b.min),m.stChildrenIds.push(u.id)}else v?(f&&(u.collapsed=f.collapsed,u.min=f.min),v.childrenIds.push(u.id)):(f&&(u.collapsed=f.collapsed,u.min=f.min),e.push(u),o.push(u.id));i==OrgChart.action.init&&(u.min=OrgChart._getMin(u,r))}},OrgChart.manager._createNodes=function(t,e,r,i,n,a){var o={},l=[],s=[];if(OrgChart.manager.__createNodes(o,l,t,r,i,n,s),null!=t.roots){l=[];for(var c=0;c<t.roots.length;c++){var h=o[t.roots[c]];if(h&&r==OrgChart.action.centerNode){for(var d=h;null!=d.pid||null!=d.stpid;)d=null==d.pid&&null!=d.stpid?o[d.stpid]:o[d.pid];for(var p=o[i.id];null!=p.pid||null!=p.stpid;)p=null==p.pid&&null!=p.stpid?o[p.stpid]:o[p.pid];d==p&&(h=d)}if(h){for(var u=!1,g=0;g<l.length;g++)if(l[g].id==h.id){u=!0;break}u||(OrgChart.isNEU(h.pid)||(H=(b=o[h.pid]).childrenIds.indexOf(h.id))>-1&&b.childrenIds.splice(H,1),l.push(h))}}for(t.roots=[],c=0;c<l.length;c++)t.roots.push(l[c].id)}r==OrgChart.action.exporting&&null!=i.id&&(m=o[i.id])&&(m.pid=null,l=[m]);var f=[];if(r==OrgChart.action.init&&t.expand&&t.expand.nodes&&null==a)for(c=0;c<t.expand.nodes.length;c++){var m=o[t.expand.nodes[c]];for(!0===t.expand.allChildren&&OrgChart.manager._addExpandedNodeIdsIterate(m,o,f);m;)f.push(m.id),null==m.pid&&null!=m.stpid?(m=o[m.stpid]).min=!1:m=o[m.pid]}else if(r==OrgChart.action.expand&&i.ids&&"all"!=i.ids||r==OrgChart.action.collapse&&i&&i.expandIds){var v;for(v=r==OrgChart.action.expand?i.ids:i.expandIds,c=0;c<v.length;c++)for(var b=o[(m=o[v[c]]).pid];b;)f.push(b.id),null==b.pid&&null!=b.stpid?(b=o[b.stpid]).min=!1:b=o[b.pid]}else if(r==OrgChart.action.centerNode){for(var C=o[i.id];C;){if(f.push(C.id),i.options.parentState===OrgChart.COLLAPSE_PARENT_NEIGHBORS&&C)for(c=0;c<C.childrenIds.length;c++)(B=o[C.childrenIds[c]]).collapsed=!0;null==C.pid&&null!=C.stpid?(C=o[C.stpid]).min=!1:C=o[C.pid]}if(C=o[i.id],i.options.childrenState===OrgChart.COLLAPSE_SUB_CHILDRENS)for(c=0;c<C.childrenIds.length;c++){(x=o[C.childrenIds[c]]).collapsed=!1;for(var y=0;y<x.childrenIds.length;y++)o[x.childrenIds[y]].collapsed=!0}if(i.options.parentState===OrgChart.COLLAPSE_PARENT_SUB_CHILDREN_EXCEPT_CLICKED&&(b=o[C.pid]))for(c=0;c<b.childrenIds.length;c++){var x;if((x=o[b.childrenIds[c]])!=C)for(x.collapsed=!1,y=0;y<x.childrenIds.length;y++)o[x.childrenIds[y]].collapsed=!0}}else if(r==OrgChart.action.insert)for(m=o[i.insertedNodeId];m;)f.push(m.id),null==m.pid&&null!=m.stpid?(m=o[m.stpid]).min=!1:m=o[m.pid];var O=[],w={},_=[],k={},S=[];for(c=0;c<l.length;c++)OrgChart.manager._iterate(l[c],l[c],o,0,O,w,_,k,"",e,t,r,f,i,S,a);for(c=l.length-1;c>=0;c--)l[c].collapsed&&l.splice(c,1);for(c=0;c<S.length;c++){m=o[S[c]];var A=[],N=[],E=[],I={},L=0,T=0,M=0,P=[],j=[];for(y=0;y<m.children.length;y++)(B=m.children[y]).isAssistant?A.push(B.id):-1!=B.tags.indexOf("right-partner")?(B.isPartner=1,B.children=[],N.push(B.id)):-1!=B.tags.indexOf("left-partner")?(B.isPartner=2,B.children=[],E.push(B.id)):-1==B.tags.indexOf("partner")||L%2?-1!=B.tags.indexOf("partner")&&L%2?(B.isPartner=2,B.children=[],E.push(B.id),L++):B.parentPartner?(I[B.parentPartner.id]||(I[B.parentPartner.id]=[]),I[B.parentPartner.id].push(B.id)):A.push(B.id):(B.isPartner=1,B.children=[],N.push(B.id),L++);for(m.children=[],y=0;y<N.length;y++)I[(B=o[N[y]]).id]?m.children.push(B):m.children.splice(0,0,B);for(y=0;y<E.length;y++)I[(B=o[E[y]]).id]?m.children.push(B):m.children.splice(0,0,B);for(y=E.length-1;y>=0;y--)if(I[E[y]])for(g=0;g<I[E[y]].length;g++)m.children.push(o[I[E[y]][g]]),T++,-1==j.indexOf(E[y])&&j.push(E[y]);for(y=0;y<A.length;y++){var B=o[A[y]];m.children.push(B)}for(y=0;y<N.length;y++)if(I[N[y]])for(g=0;g<I[N[y]].length;g++)m.children.push(o[I[N[y]][g]]),M++,-1==P.indexOf(N[y])&&P.push(N[y]);m.partnerSeparation=Math.max(j.length,P.length)*t.partnerChildrenSplitSeparation+t.minPartnerSeparation,m.hasPartners=A.length||!T||M?A.length||T||!M?A.length||1!=T||1!=M?A.length||T||M?!A.length||T||M?A.length&&(T||M)?7:1:6:5:4:3:2}for(c=0;c<_.length;c++)if((Q=e[(m=o[_[c]]).lcn?m.lcn:"base"]).layout==OrgChart.normal||!k[m.pid])for(y=0;y<m.subLevels;y++){var H,D=new OrgChart.node(m.id+"_sub_level_index_"+y,m.pid,[],"subLevel");OrgChart.manager._initDinamicNode(D,m.lcn),(b=m.parent)&&((H=b.children.indexOf(m))>-1&&(b.children.splice(H,1),b.children.splice(H,0,D)),D.children.push(m),D.parent=b,m.parent=D,o[D.id]=D)}for(var U in w){(b=o[U]).hasAssistants=!0,D=new OrgChart.node(b.id+"_split_assitant_0",b.id,["assistant"],"split"),OrgChart.manager._initDinamicNode(D,b.lcn,!0),o[D.id]=D;var F=[];for(y=b.children.length-1;y>=0;y--)(B=b.children[y]).isAssistant?(B.parent=null,b.children.splice(y,1),F.splice(0,0,B.id)):B.isPartner||(B.parent&&k[B.parent.id]&&D&&B.parent.id!=D.id&&(Object.defineProperty(k,D.id,Object.getOwnPropertyDescriptor(k,B.parent.id)),delete k[B.parent.id]),B.parent=D,D.children.unshift(B),b.children.splice(y,1));if(F.length%2){var R=o[F[F.length-1]],z=new OrgChart.node(R.id+"_mirror",R.pid,[],"mirror");OrgChart.manager._initDinamicNode(z,R.lcn,!0),R._m=z.id,z.isAssistant=!0,z.w=R.w,z.h=R.h,o[z.id]=z,F.splice(F.length-1,0,z.id)}var q=1;for(y=F.length-1;y>=0;y--)if(y%2&&y!=F.length-1){var $=new OrgChart.node(b.id+"_split_assitant_"+q,null,[],"split");OrgChart.manager._initDinamicNode($,b.lcn,!0),o[$.id]=$,F.splice(y,0,$.id),q++}else y%2&&F.splice(y,0,D.id);for(y=0;y<F.length;y+=3){var Y=null,X=o[F[y]],W=o[F[y+1]],V=o[F[y+2]];X.parent=Y=0==y?b:o[F[y-2]],W.parent=Y,V.parent=Y,Y.children.push(X),Y.children.push(W),Y.children.push(V)}}var G=!1;for(var J in e)if((Q=e[J]).layout==OrgChart.mixed||Q.layout==OrgChart.tree||Q.layout==OrgChart.treeRightOffset||Q.layout==OrgChart.treeLeftOffset){G=!0;break}if(G){var K={nodes:o,config:t,action:r,actionParams:i};for(var U in k){var Q;if((Q=e[(b=o[U]).lcn?b.lcn:"base"]).layout==OrgChart.mixed||Q.layout==OrgChart.tree||Q.layout==OrgChart.treeRightOffset||Q.layout==OrgChart.treeLeftOffset)if(K.pnode=b,K.layout=Q.layout,K.childrenIds=k[U],K.lastChildrenPidIds=k,OrgChart.events.publish("layout",[K]),K.layout==OrgChart.mixed){var Z=K.childrenIds;for(c=Z.length-1;c>=0;c--){for(b=(B=o[Z[c]]).parent,B.layout=OrgChart.mixed,y=b.children.length-1;y>=0;y--)if(B.id==b.children[y].id){b.children.splice(y,1);break}if(c>0){var tt=o[Z[c-1]];B.parent=tt,B.layout=OrgChart.mixed,tt.children.push(B)}else b.children.push(B)}}else if(K.layout==OrgChart.tree||K.layout==OrgChart.treeRightOffset||K.layout==OrgChart.treeLeftOffset){D=new OrgChart.node(b.id+"_split_0",b.id,[],"split"),OrgChart.manager._initDinamicNode(D,b.lcn),o[D.id]=D,D.layout=OrgChart.tree;var et=[];for(c=K.childrenIds.length-1;c>=0;c--){for(B=o[K.childrenIds[c]],y=0;y<b.children.length;y++)b.children[y].id==B.id&&b.children.splice(y,1);if(B.parent=null,B.layout=OrgChart.tree,K.layout==OrgChart.treeRightOffset&&et.splice(0,0,B.id),K.layout==OrgChart.treeLeftOffset||K.layout==OrgChart.treeRightOffset){var rt=new OrgChart.node(B.id+"_mirror",null,[],"mirror");OrgChart.manager._initDinamicNode(rt,B.lcn),rt.layout=OrgChart.tree,o[rt.id]=rt,et.splice(0,0,rt.id)}K.layout!=OrgChart.treeRightOffset&&et.splice(0,0,B.id)}for(q=1,y=et.length-1;y>=0;y--)y%2&&y!=et.length-1?($=new OrgChart.node(b.id+"_split_"+q,null,[],"split"),OrgChart.manager._initDinamicNode($,b.lcn),$.layout=OrgChart.tree,o[$.id]=$,et.splice(y,0,$.id),q++):y%2&&et.splice(y,0,D.id);for(y=0;y<et.length;y+=3)Y=null,0==y&&(Y=b),W=o[et[y+1]],V=o[et[y+2]],0!=y&&(Y=o[et[y-3]]),0==y||W||(Y=o[et[y-2]]),(X=o[et[y]]).parent=Y,Y.children.push(X),W&&(0!=y&&(Y=o[et[y-2]]),W.parent=Y,Y.children.push(W)),V&&(0!=y&&(Y=o[et[y-1]]),V.parent=Y,Y.children.push(V))}}}return{nodes:o,roots:l,rootList:s}},OrgChart.manager._getOrderFieldValue=function(t,e){var r=e;return e.field&&(r=e.field),t[r]},OrgChart.manager._getNodeWidth=function(t,e){switch(e.orientation){case OrgChart.orientation.top:case OrgChart.orientation.top_left:case OrgChart.orientation.bottom:case OrgChart.orientation.bottom_left:return t.w;case OrgChart.orientation.right:case OrgChart.orientation.right_top:case OrgChart.orientation.left:case OrgChart.orientation.left_top:return t.h}return 0},OrgChart.manager._isVisible=function(t,e,r,i){if(null!=t.x&&null!=t.y){if(e.lazyLoading&&i!==OrgChart.action.exporting){function n(t,e){var r=t.x,i=t.y,n=r+t.w>e[0]-OrgChart.LAZY_LOADING_FACTOR&&e[2]+OrgChart.LAZY_LOADING_FACTOR+e[0]>r;return n&&(n=i+t.h>e[1]-OrgChart.LAZY_LOADING_FACTOR&&e[3]+OrgChart.LAZY_LOADING_FACTOR+e[1]>i),n}if(n(t,r))return!0;for(var a=0;a<t.children.length;a++)if(n(t.children[a],r))return!0;return!1}return!0}},OrgChart.manager.getAllFields=function(t){var e=[OrgChart.TAGS];for(var r in t.nodeBinding)e.push(t.nodeBinding[r]);for(r=0;r<t.nodes.length;r++)for(var i in t.nodes[r])i!==OrgChart.ID&&i!==OrgChart.TAGS&&i!==OrgChart.NODES&&i!==OrgChart.PID&&i!==OrgChart.STPID&&(t.nodeBinding[i]||e.has(i)||e.push(i));return e},OrgChart.manager._getMostDeepChild=function(t){if(t){var e=t;return function t(r){r.sl>e.sl&&(e=r);for(var i=0;i<r.children.length;i++)t(r.children[i])}(t),e}},OrgChart.manager._getResponse=function(t,e,r,i,n,a,o,l,s,c,h,d,p,u,g){var f=c[0],m=[],v={top:null,left:null,bottom:null,right:null,minX:null,maxX:null,minY:null,maxY:null},b=[[],[],[]],C=OrgChart.getScale(s,t,e,i.scaleInitial,i.scaleMax,i.scaleMin,n-o+2*i.padding,a-l+2*i.padding);if(v.top=l-i.padding,v.left=o-i.padding,v.bottom=a+i.padding-e/C,v.right=n+i.padding-t/C,v.maxX=n,v.minX=o,v.maxY=a,v.minY=l,0==c.length||null==s&&!g&&i.align==OrgChart.CENTER){var y=Math.ceil(t/C),x=Math.ceil(e/C),O=0,w=0;if(y-2*i.padding>=n-o)switch(O=(n+o)/2-y/2,i.orientation){case OrgChart.orientation.right:case OrgChart.orientation.right_top:O=(o-n)/2-y/2}else switch(O=f.x-y/2+OrgChart.manager._getNodeWidth(f,i)/2,i.orientation){case OrgChart.orientation.right:case OrgChart.orientation.right_top:(O=-(y/2-(o-n)/2))<i.padding-y&&(O=i.padding-y);break;case OrgChart.orientation.left:case OrgChart.orientation.bottom_left:case OrgChart.orientation.top_left:case OrgChart.orientation.left_top:(O=-(y/2-(n-o)/2))>-i.padding&&(O=-i.padding)}if(x-2*i.padding>=a-l)switch(w=(a+l)/2-x/2,i.orientation){case OrgChart.orientation.bottom:case OrgChart.orientation.bottom_left:w=(l-a)/2-x/2}else switch((w=-(x/2-(a-l)/2))>-i.padding&&(w=-i.padding),i.orientation){case OrgChart.orientation.bottom:case OrgChart.orientation.bottom_left:(w=-(x/2-(l-a)/2))<i.padding-x&&(w=i.padding-x);break;case OrgChart.orientation.left:case OrgChart.orientation.right:w=f.y-x/2+OrgChart.manager._getNodeWidth(f,i)/2}s=[O,w,y,x]}else if(null==s&&!g&&i.align==OrgChart.ORIENTATION){switch(y=Math.ceil(t/C),x=Math.ceil(e/C),O=0,w=0,i.orientation){case OrgChart.orientation.top:O=f.x-y/2+OrgChart.manager._getNodeWidth(f,i)/2,w=-i.padding;break;case OrgChart.orientation.bottom:O=f.x-y/2+OrgChart.manager._getNodeWidth(f,i)/2,w=i.padding-x;break;case OrgChart.orientation.left:O=-i.padding,w=f.y-x/2+OrgChart.manager._getNodeWidth(f,i)/2;break;case OrgChart.orientation.right:O=i.padding-y,w=f.y-x/2+OrgChart.manager._getNodeWidth(f,i)/2;break;case OrgChart.orientation.top_left:O=-i.padding,w=-i.padding;break;case OrgChart.orientation.right_top:O=i.padding-y,w=-i.padding;break;case OrgChart.orientation.left_top:O=-i.padding,w=-i.padding;break;case OrgChart.orientation.bottom_left:O=-i.padding,w=i.padding-x}s=[O,w,y,x],i.sticky&&(s[0]<v.left&&s[0]<v.right&&(s[0]=v.left>v.right?v.right:v.left),s[0]>v.right&&s[0]>v.left&&(s[0]=v.left>v.right?v.left:v.right),s[1]<v.top&&s[1]<v.bottom&&(s[1]=v.top>v.bottom?v.bottom:v.top),s[1]>v.bottom&&s[1]>v.top&&(s[1]=v.top>v.bottom?v.top:v.bottom))}if(h==OrgChart.action.centerNode||h==OrgChart.action.maximize){var _=p[d.id];1==d.options.horizontal&&(s[0]=_.x+_.w/2-s[2]/2),1==d.options.vertical&&(s[1]=_.y+_.h/2-s[3]/2),i.sticky&&(s[0]<v.left&&s[0]<v.right&&(s[0]=v.left>v.right?v.right:v.left),s[0]>v.right&&s[0]>v.left&&(s[0]=v.left>v.right?v.left:v.right),s[1]<v.top&&s[1]<v.bottom&&(s[1]=v.top>v.bottom?v.bottom:v.top),s[1]>v.bottom&&s[1]>v.top&&(s[1]=v.top>v.bottom?v.top:v.bottom))}if(h==OrgChart.action.insert||h==OrgChart.action.expand||h==OrgChart.action.collapse||h==OrgChart.action.update||h==OrgChart.action.centerNode||h==OrgChart.action.maximize){var k=null;if(h==OrgChart.action.insert&&d&&null!=d.insertedNodeId&&null!=d.insertedNodeId)k=p[d.insertedNodeId];else if(h==OrgChart.action.update&&d&&null!=d.visId&&null!=d.visId)k=p[d.visId];else if(h!=OrgChart.action.expand&&h!=OrgChart.action.collapse&&h!=OrgChart.action.maximize||!d||null==d.id||null==d.id){if(h==OrgChart.action.centerNode||h==OrgChart.action.maximize){switch(i.orientation){case OrgChart.orientation.top:case OrgChart.orientation.top_left:case OrgChart.orientation.bottom:case OrgChart.orientation.bottom_left:d.options.vertical||(k=p[d.id]);break;case OrgChart.orientation.right:case OrgChart.orientation.right_top:case OrgChart.orientation.left:case OrgChart.orientation.left_top:d.options.horizontal||(k=p[d.id])}k&&(k=OrgChart.manager._getMostDeepChild(k,p))}}else k=OrgChart.manager._getMostDeepChild(k=p[d.id],p);if(!OrgChart.FIXED_POSITION_ON_CLICK&&k)switch(i.orientation){case OrgChart.orientation.top:case OrgChart.orientation.top_left:var S=k.y+k.h-s[3]+i.padding;s[1]<S&&(s[1]=S);break;case OrgChart.orientation.bottom:case OrgChart.orientation.bottom_left:s[1]>(S=k.y-i.padding)&&(s[1]=S);break;case OrgChart.orientation.right:case OrgChart.orientation.right_top:s[0]>(S=k.x-i.padding)&&(s[0]=S);break;case OrgChart.orientation.left:case OrgChart.orientation.left_top:s[0]<(S=k.x+k.w-s[2]+i.padding)&&(s[0]=S)}}for(var A=0;A<c.length;A++)OrgChart.manager._iterate2(c[A],p,i,s,h,d,m,u,r,b);return{animations:b,boundary:v,viewBox:s,visibleNodeIds:m,nodes:p,allFields:OrgChart.manager.getAllFields(i)}},OrgChart.manager._iterate2=function(t,e,r,i,n,a,o,l,s,c){if(OrgChart.manager._isVisible(t,r,i,n)){o.push(t.id);var h=null;if((n==OrgChart.action.expand||n==OrgChart.action.collapse||n==OrgChart.action.maximize)&&l&&l[t.id]&&"expandCollapseToLevel"==a.method){if(h={x:(g=l[t.id]).x,y:g.y},g){h={x:g.x,y:g.y};for(var d=t,p=null;null!=d;)l[d.id]&&l[d.id].collapsed&&(p=d),d=d.parent;p&&p.parent&&(h={x:p.parent.x,y:p.parent.y})}if(f=e[a.id]){for(d=t.parent;null!=d;)d=d.parent;d&&(h={x:f.x+f.w/2-t.w/2,y:f.y+f.h/2-t.h/2})}}else if((n==OrgChart.action.expand||n==OrgChart.action.collapse)&&l&&l[t.id]){if(h={x:(g=l[t.id]).x,y:g.y},"all"==a.ids&&g){for(h={x:g.x,y:g.y},d=t,p=null;null!=d;)l[d.id]&&l[d.id].collapsed&&(p=d),d=d.parent;p&&p.parent&&(h={x:p.parent.x,y:p.parent.y})}if(f=e[a.id]){for(d=t.parent;null!=d&&-1==a.ids.indexOf(t.id)&&-1==a.ids.indexOf(d.id);)d=d.parent;d&&(h={x:f.x+f.w/2-t.w/2,y:f.y+f.h/2-t.h/2})}}else if(n==OrgChart.action.centerNode&&l&&l[t.id])null!=(g=l[t.id]).x&&null!=g.y&&(h={x:g.x,y:g.y}),(u=e[a.id])&&u==t&&(d=t.parent)&&d.id==a.id&&(h={x:u.x+u.w/2-t.w/2,y:u.y+u.h/2-t.h/2});else if(n==OrgChart.action.maximize&&l&&l[t.id]){var u;null!=(g=l[t.id]).x&&null!=g.y&&(h={x:g.x,y:g.y}),(u=e[a.id])&&u==t&&(d=t.parent)&&d.id==a.id&&(h={x:u.x+u.w/2-t.w/2,y:u.y+u.h/2-t.h/2})}else if(n==OrgChart.action.minimize&&l&&l[t.id])h={x:(g=l[t.id]).x,y:g.y};else if(n==OrgChart.action.insert&&a&&a.insertedNodeId==t.id&&t.parent)h={x:t.parent.x,y:t.parent.y};else if(n!=OrgChart.action.update&&n!=OrgChart.action.insert||!l)n!==OrgChart.action.exporting&&n!==OrgChart.action.init&&-1==s.indexOf(t.id)&&(c[0].push(t.id),c[1].push({opacity:0}),c[2].push({opacity:1}));else{var g,f;if((!(g=l[t.id])||OrgChart.isNEU(g.x)&&OrgChart.isNEU(g.y))&&a){if(f=e[a.id]){for(d=f;d&&d.id==t.id;)d=d.parent;d&&(h={x:f.x,y:f.y})}}else g&&(h={x:g.x,y:g.y})}null!=h&&null!=h.x&&null!=h.y&&(h.x==t.x&&h.y==t.y||(c[0].push(t.id),c[1].push({transform:[1,0,0,1,h.x,h.y]}),c[2].push({transform:[1,0,0,1,t.x,t.y]})))}for(var m=0;m<t.stChildren.length;m++)OrgChart.manager._iterate2(t.stChildren[m],e,r,i,n,a,o,l,s,c);for(m=0;m<t.children.length;m++)OrgChart.manager._iterate2(t.children[m],e,r,i,n,a,o,l,s,c)},OrgChart.manager._addExpandedNodeIdsIterate=function(t,e,r){for(var i=0;i<t.childrenIds.length;i++)r.push(t.childrenIds[i]),OrgChart.manager._addExpandedNodeIdsIterate(e[t.childrenIds[i]],e,r)},OrgChart.manager._setMinMaxXYAdjustifyIterate=function(t,e,r,i,n,a,o){t.x+=a.x,t.y+=a.y,OrgChart._setMinMaxXY(t,r);for(var l=0;l<t.stChildren.length;l++)OrgChart.manager._setMinMaxXYAdjustifyIterate(t.stChildren[l],t.stChildren[l],r,0,n,a,o);for(t.sl=t.isPartner?i-1:i,null==n[e.id]&&(n[e.id]={}),null==n[e.id][t.sl]&&(n[e.id][t.sl]={minX:null,minY:null,maxX:null,maxY:null}),t.layout||OrgChart._setMinMaxXY(t,n[e.id][t.sl]),i++,l=0;l<t.children.length;l++)OrgChart.manager._setMinMaxXYAdjustifyIterate(t.children[l],e,r,i,n,a,o)},OrgChart.manager._doNotChangePositionOfClickedNodeIfAny=function(t,e,r,i,n,a){if(r!=OrgChart.action.expand&&r!=OrgChart.action.collapse&&r!=OrgChart.action.minimize&&r!=OrgChart.action.maximize&&r!=OrgChart.action.centerNode&&r!=OrgChart.action.update&&r!=OrgChart.action.insert)return{x:0,y:0};if(r==OrgChart.action.update&&(!i||null==i.id)){if(!t||!t.length)return{x:0,y:0};i={id:t[0].id}}if(null==i.id)return{x:0,y:0};var o=i.id;(r==OrgChart.action.minimize&&e[o].parent||r==OrgChart.action.maximize&&e[o].parent)&&(o=e[o].pid);var l=e[o],s=n[o];return s?{x:(s.x?s.x:0)-l.x,y:(s.y?s.y:0)-l.y}:{x:0,y:0}},void 0===OrgChart&&(OrgChart={}),OrgChart.templates={},OrgChart.templates.base={defs:"",size:[250,120],expandCollapseSize:30,linkAdjuster:{fromX:0,fromY:0,toX:0,toY:0},ripple:{radius:0,color:"#e6e6e6",rect:null},assistanseLink:'<path stroke-linejoin="round" stroke="#aeaeae" stroke-width="2px" fill="none" d="M{xa},{ya} {xb},{yb} {xc},{yc} {xd},{yd} L{xe},{ye}"/>',svg:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:block;" width="{w}" height="{h}" viewBox="{viewBox}">{content}</svg>',link:'<path stroke-linejoin="round" stroke="#aeaeae" stroke-width="1px" fill="none" d="M{xa},{ya} {xb},{yb} {xc},{yc} L{xd},{yd}"/>',pointer:'<g data-pointer="pointer" transform="matrix(0,0,0,0,100,100)"><radialGradient id="pointerGradient"><stop stop-color="#ffffff" offset="0" /><stop stop-color="#C1C1C1" offset="1" /></radialGradient><circle cx="16" cy="16" r="16" stroke-width="1" stroke="#acacac" fill="url(#pointerGradient)"></circle></g>',node:'<rect x="0" y="0" height="120" width="250" fill="none" stroke-width="1" stroke="#aeaeae" rx="7" ry="7"></rect>',plus:'<circle cx="15" cy="15" r="15" fill="#ffffff" stroke="#aeaeae" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#aeaeae"></line><line x1="15" y1="4" x2="15" y2="26" stroke-width="1" stroke="#aeaeae"></line>',minus:'<circle cx="15" cy="15" r="15" fill="#ffffff" stroke="#aeaeae" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#aeaeae"></line>',nodeMenuButton:'<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,105)" '+OrgChart.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="7" cy="0" r="2" fill="#ffffff"></circle><circle cx="14" cy="0" r="2" fill="#ffffff"></circle></g>',menuButton:'<div style="position:absolute;right:{p}px;top:{p}px; width:30px;height:50px;cursor:pointer;" '+OrgChart.attr.control_export_menu+'=""><hr style="background-color: #7A7A7A; height: 3px; border: none;"><hr style="background-color: #7A7A7A; height: 3px; border: none;"><hr style="background-color: #7A7A7A; height: 3px; border: none;"></div>',img_0:'<clipPath id="{randId}"><circle cx="60" cy="60" r="40"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="20" y="20"  width="80" height="80"></image>',link_field_0:'<text text-anchor="middle" fill="#aeaeae" '+OrgChart.attr.width+'="290" x="0" y="0" style="font-size:10px;">{val}</text>',editFormHeaderColor:"#039BE5"},OrgChart.templates.ana={defs:"",size:[250,120],linkAdjuster:{fromX:0,fromY:0,toX:0,toY:0},ripple:{radius:0,color:"#e6e6e6",rect:null},expandCollapseSize:30,svg:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  style="display:block;" width="{w}" height="{h}" viewBox="{viewBox}">{content}</svg>',link:'<path stroke-linejoin="round" stroke="#aeaeae" stroke-width="1px" fill="none" d="{rounded}" />',assistanseLink:'<path stroke-linejoin="round" stroke="#aeaeae" stroke-width="2px" fill="none" d="M{xa},{ya} {xb},{yb} {xc},{yc} {xd},{yd} L{xe},{ye}"/>',pointer:'<g data-pointer="pointer" transform="matrix(0,0,0,0,100,100)"><radialGradient id="pointerGradient"><stop stop-color="#ffffff" offset="0" /><stop stop-color="#C1C1C1" offset="1" /></radialGradient><circle cx="16" cy="16" r="16" stroke-width="1" stroke="#acacac" fill="url(#pointerGradient)"></circle></g>',node:'<rect x="0" y="0" height="{h}" width="{w}" fill="#039BE5" stroke-width="1" stroke="#aeaeae" rx="7" ry="7"></rect>',plus:'<circle cx="15" cy="15" r="15" class="boc-fill" stroke="#aeaeae" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#aeaeae"></line><line x1="15" y1="4" x2="15" y2="26" stroke-width="1" stroke="#aeaeae"></line>',minus:'<circle cx="15" cy="15" r="15" class="boc-fill" stroke="#aeaeae" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#aeaeae"></line>',up:'<rect x="20" y="-25" width="30" height="17" fill="#aeaeae" rx="3" ry="3"></rect><line x1="35" x2="35" y1="0" y2="-8" stroke="#aeaeae" stroke-width="1"></line>',nodeMenuButton:'<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,105)" '+OrgChart.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="7" cy="0" r="2" fill="#ffffff"></circle><circle cx="14" cy="0" r="2" fill="#ffffff"></circle></g>',menuButton:OrgChart.templates.base.menuButton,img_0:'<clipPath id="{randId}"><circle cx="50" cy="30" r="40"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="10" y="-10"  width="80" height="80"></image>',link_field_0:'<text text-anchor="middle" fill="#aeaeae" '+OrgChart.attr.width+'="290" x="0" y="0" style="font-size:10px;">{val}</text>',field_0:"<text "+OrgChart.attr.width+'="230" style="font-size: 18px;" fill="#ffffff" x="125" y="95" text-anchor="middle">{val}</text>',field_1:"<text "+OrgChart.attr.width+'="130" '+OrgChart.attr.text_overflow+'="multiline" style="font-size: 14px;" fill="#ffffff" x="230" y="30" text-anchor="end">{val}</text>',padding:[50,20,35,20],editFormHeaderColor:"#039BE5"},OrgChart.templates.split=Object.assign({},OrgChart.templates.ana),OrgChart.templates.split.size=[10,10],OrgChart.templates.split.node='<circle cx="5" cy="5" r="5" fill="none" stroke-width="1" stroke="#aeaeae"></circle>',OrgChart.templates.group=Object.assign({},OrgChart.templates.ana),OrgChart.templates.group.size=[250,120],OrgChart.templates.group.node='<rect rx="50" ry="50" x="0" y="0" height="{h}" width="{w}" fill="#f2f2f2" stroke-width="0"></rect>',OrgChart.templates.group.link='<path stroke="#aeaeae" stroke-width="1px" fill="none" d="M{xa},{ya} C{xb},{yb} {xc},{yc} {xd},{yd}"/>',OrgChart.templates.group.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,{ew},25)" '+OrgChart.attr.control_node_menu_id+'="{id}"><g transform="matrix(1,0,0,1,-22,-8)"><rect x="0" y="0" fill="red" fill-opacity="0" width="18" height="22"></rect><line x1="0" y1="2" x2="9" y2="2" stroke="#aeaeae" stroke-width="1"></line><line x1="0" y1="9" x2="18" y2="9" stroke="#aeaeae" stroke-width="1"></line><line x1="0" y1="16" x2="22" y2="16" stroke="#aeaeae" stroke-width="1"></line></g></g>',OrgChart.templates.group.field_0="<text "+OrgChart.attr.width+'="230" style="font-size: 18px;" fill="#aeaeae" x="{cw}" y="30" text-anchor="middle">{val}</text>',OrgChart.templates.group.field_1="",OrgChart.templates.group.ripple={radius:50,color:"#aeaeae"},OrgChart.templates.invisibleGroup=Object.assign({},OrgChart.templates.group),OrgChart.templates.invisibleGroup.node="",OrgChart.templates.invisibleGroup.padding=[0,0,0,0],OrgChart.templates.invisibleGroup.field_0="",OrgChart.templates.invisibleGroup.nodeMenuButton="",OrgChart.templates.mirror={linkAdjuster:{},link:"",node:"",nodeMenuButton:"",size:[0,0]},OrgChart.templates.ula=Object.assign({},OrgChart.templates.ana),OrgChart.templates.ula.field_0="<text "+OrgChart.attr.width+'="145" style="font-size: 18px;" fill="#039BE5" x="100" y="55">{val}</text>',OrgChart.templates.ula.field_1="<text "+OrgChart.attr.width+'="145" '+OrgChart.attr.text_overflow+'="multiline" style="font-size: 14px;" fill="#afafaf" x="100" y="76">{val}</text>',OrgChart.templates.ula.node='<rect x="0" y="0" height="{h}" width="{w}" fill="#ffffff" stroke-width="1" stroke="#aeaeae"></rect><line x1="0" y1="0" x2="250" y2="0" stroke-width="2" stroke="#039BE5"></line>',OrgChart.templates.ula.img_0='<clipPath id="{randId}"><circle cx="50" cy="60" r="40"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="10" y="20" width="80" height="80" ></image>',OrgChart.templates.ula.menu='<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,12)" '+OrgChart.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#ffffff" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#039BE5"></circle><circle cx="7" cy="0" r="2" fill="#039BE5"></circle><circle cx="14" cy="0" r="2" fill="#039BE5"></circle></g>',OrgChart.templates.ula.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,105)" '+OrgChart.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#AEAEAE"></circle><circle cx="7" cy="0" r="2" fill="#AEAEAE"></circle><circle cx="14" cy="0" r="2" fill="#AEAEAE"></circle></g>',OrgChart.templates.olivia=Object.assign({},OrgChart.templates.ana),OrgChart.templates.olivia.defs='<style>\n                                    #olivia_gradient {\n                                        --color-stop-1: #ffffff;\n                                        --color-stop-2: #eeeeee;\n                                        --opacity-stop: 1;\n                                    }\n                                    .olivia-f0{\n                                        font-size: 18px;\n                                        fill: #757575;\n                                    }\n                                    .olivia-f1{\n                                        font-size: 14px;\n                                        fill: #757575;\n                                    }\n                                    .boc-dark .olivia-f0,.boc-dark .olivia-f1{\n                                        fill: #aeaeae;\n                                    }\n                                    .boc-dark #olivia_gradient {\n                                        --color-stop-1: #646464;\n                                        --color-stop-2: #363636;\n                                        --opacity-stop: 1;\n                                    }\n                                </style>\n                                \'<linearGradient id="olivia_gradient" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" stop-color="var(--color-stop-1)" stop-opacity="var(--opacity-stop)"/><stop offset="100%" stop-color="var(--color-stop-2)" stop-opacity="var(--opacity-stop)" /></linearGradient>',OrgChart.templates.olivia.field_0="<text "+OrgChart.attr.width+'="135" class="olivia-f0" x="100" y="55">{val}</text>',OrgChart.templates.olivia.field_1="<text "+OrgChart.attr.width+'="135" class="olivia-f1" x="100" y="76">{val}</text>',OrgChart.templates.olivia.node='<rect fill="url(#olivia_gradient)" x="0" y="0" height="{h}" width="{w}" stroke-width="1" stroke="#aeaeae" rx="7" ry="7"></rect>',OrgChart.templates.olivia.img_0='<clipPath id="{randId}"><circle cx="50" cy="60" r="40"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="10" y="20" width="80" height="80" ></image>',OrgChart.templates.olivia.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,105)" '+OrgChart.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#AEAEAE"></circle><circle cx="7" cy="0" r="2" fill="#AEAEAE"></circle><circle cx="14" cy="0" r="2" fill="#AEAEAE"></circle></g>',OrgChart.templates.belinda=Object.assign({},OrgChart.templates.ana),OrgChart.templates.belinda.size=[180,180],OrgChart.templates.belinda.ripple={radius:90,color:"#e6e6e6",rect:null},OrgChart.templates.belinda.node='<circle cx="90" cy="90" r="90" fill="#039BE5" stroke-width="1" stroke="#aeaeae"></circle>',OrgChart.templates.belinda.img_0='<clipPath id="{randId}"><circle cx="90" cy="45" r="40"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="50" y="5" width="80" height="80" ></image>',OrgChart.templates.belinda.field_0="<text "+OrgChart.attr.width+'="170" style="font-size: 18px;" text-anchor="middle" fill="#ffffff"  x="90" y="105">{val}</text>',OrgChart.templates.belinda.field_1="<text "+OrgChart.attr.width+'="160" style="font-size: 14px;" text-anchor="middle" fill="#ffffff"  x="90" y="125">{val}</text>',OrgChart.templates.belinda.link='<path stroke="#aeaeae" stroke-width="1px" fill="none" d="M{xa},{ya} C{xb},{yb} {xc},{yc} {xd},{yd}"/>',OrgChart.templates.belinda.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,79,5)" '+OrgChart.attr.control_node_menu_id+'="{id}"><rect x="0" y="0" fill="#000000" fill-opacity="0" width="22" height="22"></rect><line stroke-width="2" stroke="#000" x1="0" y1="3" x2="22" y2="3"></line><line stroke-width="2" stroke="#000" x1="0" y1="9" x2="22" y2="9"></line><line stroke-width="2" stroke="#000" x1="0" y1="15" x2="22" y2="15"></line></g>',OrgChart.templates.rony=Object.assign({},OrgChart.templates.ana),OrgChart.templates.rony.svg='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="background-color:#E8E8E8;display:block;" width="{w}" height="{h}" viewBox="{viewBox}">{content}</svg>',OrgChart.templates.rony.defs='<filter id="{randId}" x="0" y="0" width="200%" height="200%"><feOffset result="offOut" in="SourceAlpha" dx="5" dy="5"></feOffset><feGaussianBlur result="blurOut" in="offOut" stdDeviation="5"></feGaussianBlur><feBlend in="SourceGraphic" in2="blurOut" mode="normal"></feBlend></filter>',OrgChart.templates.rony.size=[180,250],OrgChart.templates.rony.ripple={color:"#F57C00",radius:5,rect:null},OrgChart.templates.rony.img_0='<clipPath id="{randId}"><circle cx="90" cy="160" r="60"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="30" y="100"  width="120" height="120"></image>',OrgChart.templates.rony.node='<rect filter="url(#{randId})" x="0" y="0" height="250" width="180" fill="#ffffff" stroke-width="0" rx="7" ry="7"></rect>',OrgChart.templates.rony.field_0="<text "+OrgChart.attr.width+'="165" style="font-size: 18px;" fill="#039BE5" x="90" y="40" text-anchor="middle">{val}</text>',OrgChart.templates.rony.field_1="<text "+OrgChart.attr.width+'="165" style="font-size: 14px;" fill="#F57C00" x="90" y="60" text-anchor="middle">{val}</text>',OrgChart.templates.rony.field_2="<text "+OrgChart.attr.width+'="165" style="font-size: 14px;" fill="#FFCA28" x="90" y="80" text-anchor="middle">{val}</text>',OrgChart.templates.rony.link='<path stroke="#039BE5" stroke-width="1px" fill="none" d="M{xa},{ya} {xb},{yb} {xc},{yc} L{xd},{yd}"/>',OrgChart.templates.rony.plus='<circle cx="15" cy="15" r="15" fill="#ffffff" stroke="#039BE5" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#039BE5"></line><line x1="15" y1="4" x2="15" y2="26" stroke-width="1" stroke="#039BE5"></line>',OrgChart.templates.rony.minus='<circle cx="15" cy="15" r="15" fill="#ffffff" stroke="#039BE5" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#039BE5"></line>',OrgChart.templates.rony.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,155,235)" '+OrgChart.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#F57C00"></circle><circle cx="7" cy="0" r="2" fill="#F57C00"></circle><circle cx="14" cy="0" r="2" fill="#F57C00"></circle></g>',OrgChart.templates.mery=Object.assign({},OrgChart.templates.ana),OrgChart.templates.mery.ripple={color:"#e6e6e6",radius:50,rect:null},OrgChart.templates.mery.node='<rect x="0" y="0" height="120" width="250" fill="#ffffff" stroke-width="1" stroke="#686868" rx="50" ry="50"></rect><rect x="0" y="45" height="30" width="250" fill="#039BE5" stroke-width="1"></rect>',OrgChart.templates.mery.link='<path stroke="#aeaeae" stroke-width="1px" fill="none" d="M{xa},{ya} C{xb},{yb} {xc},{yc} {xd},{yd}" />',OrgChart.templates.mery.img_0='<clipPath id="{randId}"><circle cx="125" cy="60" r="24"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="95" y="33"  width="60" height="60"></image>',OrgChart.templates.mery.field_0="<text "+OrgChart.attr.width+'="220" style="font-size: 18px;" fill="#039BE5" x="125" y="30" text-anchor="middle">{val}</text>',OrgChart.templates.mery.field_1="<text "+OrgChart.attr.width+'="220" style="font-size: 14px;" fill="#039BE5" x="125" y="100" text-anchor="middle">{val}</text>',OrgChart.templates.mery.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,60)" '+OrgChart.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="7" cy="0" r="2" fill="#ffffff"></circle><circle cx="14" cy="0" r="2" fill="#ffffff"></circle></g>',OrgChart.templates.polina=Object.assign({},OrgChart.templates.ana),OrgChart.templates.polina.size=[300,80],OrgChart.templates.polina.ripple={color:"#e6e6e6",radius:40,rect:null},OrgChart.templates.polina.node='<rect x="0" y="0" height="80" width="300" fill="#039BE5" stroke-width="1" stroke="#686868" rx="40" ry="40"></rect>',OrgChart.templates.polina.img_0='<clipPath id="{randId}"><circle  cx="40" cy="40" r="35"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="0" y="0"  width="80" height="80"></image>',OrgChart.templates.polina.field_0="<text "+OrgChart.attr.width+'="210" style="font-size: 18px;" fill="#ffffff" x="80" y="30" text-anchor="start">{val}</text>',OrgChart.templates.polina.field_1="<text "+OrgChart.attr.width+'="210" style="font-size: 14px;" fill="#ffffff" x="80" y="55" text-anchor="start">{val}</text>',OrgChart.templates.polina.link='<path stroke="#686868" stroke-width="1px" fill="none" d="M{xa},{ya} C{xb},{yb} {xc},{yc} {xd},{yd}" />',OrgChart.templates.polina.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,285,33)" '+OrgChart.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="0" cy="7" r="2" fill="#ffffff"></circle><circle cx="0" cy="14" r="2" fill="#ffffff"></circle></g>',OrgChart.templates.mila=Object.assign({},OrgChart.templates.ana),OrgChart.templates.mila.node='<rect x="0" y="0" height="120" width="250" fill="#039BE5" stroke-width="1" stroke="#aeaeae"></rect><rect x="-5" y="70" height="30" width="260" fill="#ffffff" stroke-width="1" stroke="#039BE5"></rect><line x1="-5" x2="0" y1="100" y2="105" stroke-width="1" stroke="#039BE5"/><line x1="255" x2="250" y1="100" y2="105" stroke-width="1" stroke="#039BE5"/>',OrgChart.templates.mila.img_0='<image preserveAspectRatio="xMidYMid slice" xlink:href="{val}" x="20" y="5"  width="64" height="64"></image>',OrgChart.templates.mila.field_0="<text "+OrgChart.attr.width+'="240" style="font-size: 18px;" fill="#039BE5" x="125" y="92" text-anchor="middle">{val}</text>',OrgChart.templates.mila.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,110)" '+OrgChart.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="7" cy="0" r="2" fill="#ffffff"></circle><circle cx="14" cy="0" r="2" fill="#ffffff"></circle></g>',OrgChart.templates.diva=Object.assign({},OrgChart.templates.ana),OrgChart.templates.diva.size=[200,170],OrgChart.templates.diva.node='<rect x="0" y="80" height="90" width="200" fill="#039BE5"></rect><circle cx="100" cy="50" fill="#ffffff" r="50" stroke="#039BE5" stroke-width="2"></circle>',OrgChart.templates.diva.img_0='<clipPath id="{randId}"><circle cx="100" cy="50" r="45"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="50" y="0"  width="100" height="100"></image>',OrgChart.templates.diva.field_0="<text "+OrgChart.attr.width+'="185" style="font-size: 18px;" fill="#ffffff" x="100" y="125" text-anchor="middle">{val}</text>',OrgChart.templates.diva.field_1="<text "+OrgChart.attr.width+'="185" style="font-size: 14px;" fill="#ffffff" x="100" y="145" text-anchor="middle">{val}</text>',OrgChart.templates.diva.pointer='<g data-pointer="pointer" transform="matrix(0,0,0,0,100,100)"><radialGradient id="pointerGradient"><stop stop-color="#ffffff" offset="0" /><stop stop-color="#039BE5" offset="1" /></radialGradient><circle cx="16" cy="16" r="16" stroke-width="1" stroke="#acacac" fill="url(#pointerGradient)"></circle></g>',OrgChart.templates.diva.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,175,155)" '+OrgChart.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="7" cy="0" r="2" fill="#ffffff"></circle><circle cx="14" cy="0" r="2" fill="#ffffff"></circle></g>',OrgChart.templates.luba=Object.assign({},OrgChart.templates.ana),OrgChart.templates.luba.svg='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:block;background-color: #2E2E2E;" width="{w}" height="{h}" viewBox="{viewBox}">{content}</svg>',OrgChart.templates.luba.defs='<linearGradient id="{randId}" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#646464;stop-opacity:1" /><stop offset="100%" style="stop-color:#363636;stop-opacity:1" /></linearGradient>',OrgChart.templates.luba.node='<rect fill="url(#{randId})" x="0" y="0" height="120" width="250" stroke-width="1" stroke="#aeaeae" rx="7" ry="7"></rect>',OrgChart.templates.luba.img_0='<clipPath id="{randId}"><circle cx="50" cy="25" r="40"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="10" y="-15"  width="80" height="80"></image>',OrgChart.templates.luba.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,105)" '+OrgChart.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#aeaeae"></circle><circle cx="7" cy="0" r="2" fill="#aeaeae"></circle><circle cx="14" cy="0" r="2" fill="#aeaeae"></circle></g>',OrgChart.templates.luba.field_0="<text "+OrgChart.attr.width+'="235" style="font-size: 18px;" fill="#aeaeae" x="125" y="90" text-anchor="middle">{val}</text>',OrgChart.templates.luba.field_1="<text "+OrgChart.attr.width+'="140" style="font-size: 14px;" fill="#aeaeae" x="240" y="30" text-anchor="end">{val}</text>',OrgChart.templates.luba.plus='<rect x="0" y="0" width="36" height="36" rx="12" ry="12" fill="#2E2E2E" stroke="#aeaeae" stroke-width="1"></rect><line x1="4" y1="18" x2="32" y2="18" stroke-width="1" stroke="#aeaeae"></line><line x1="18" y1="4" x2="18" y2="32" stroke-width="1" stroke="#aeaeae"></line>',OrgChart.templates.luba.minus='<rect x="0" y="0" width="36" height="36" rx="12" ry="12" fill="#2E2E2E" stroke="#aeaeae" stroke-width="1"></rect><line x1="4" y1="18" x2="32" y2="18" stroke-width="1" stroke="#aeaeae"></line>',OrgChart.templates.luba.expandCollapseSize=36,OrgChart.templates.isla=Object.assign({},OrgChart.templates.ana),OrgChart.templates.isla.defs='<filter x="-50%" y="-50%" width="200%" height="200%" filterUnits="objectBoundingBox" id="isla-shadow"><feOffset dx="0" dy="4" in="SourceAlpha" result="shadowOffsetOuter1" /><feGaussianBlur stdDeviation="10" in="shadowOffsetOuter1" result="shadowBlurOuter1" /><feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.2 0" in="shadowBlurOuter1" type="matrix" result="shadowMatrixOuter1" /><feMerge><feMergeNode in="shadowMatrixOuter1" /><feMergeNode in="SourceGraphic" /></feMerge></filter>',OrgChart.templates.isla.size=[180,120],OrgChart.templates.isla.node='<rect filter="url(#isla-shadow)" x="0" y="20" rx="7" ry="7" height="100" width="180" fill="#FFF" stroke-width="1" stroke="#039BE5" ></rect><rect x="25" y="75" rx="10" ry="10" height="20" width="130" fill="#039BE5" stroke-width="3" stroke="#039BE5"></rect><rect fill="#ffffff" stroke="#039BE5" stroke-width="1" x="70" y="0" rx="13" ry="13" width="40" height="40"></rect><circle stroke="#FFCA28" stroke-width="3" fill="none" cx="90" cy="12" r="8"></circle><path d="M75,34 C75,17 105,17 105,34" stroke="#FFCA28" stroke-width="3" fill="none"></path>',OrgChart.templates.isla.field_0="<text "+OrgChart.attr.width+'="120" style="font-size: 12px;" fill="#fff" x="90" y="90" text-anchor="middle">{val}</text>',OrgChart.templates.isla.field_1="<text "+OrgChart.attr.width+'="160" style="font-size: 13px;" fill="#039BE5" x="90" y="64" text-anchor="middle">{val}</text>',OrgChart.templates.isla.img_0='<clipPath id="{randId}"><rect filter="url(#isla-shadow)" fill="#ffffff" stroke="#039BE5" stroke-width="1" x="70" y="0" rx="13" ry="13" width="40" height="40"></rect></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="70" y="0"  width="40" height="40"></image>',OrgChart.templates.isla.minus='<circle cx="15" cy="15" r="15" fill="#F57C00" stroke="#F57C00" stroke-width="1"></circle><line x1="8" y1="15" x2="22" y2="15" stroke-width="1" stroke="#ffffff"></line>',OrgChart.templates.isla.plus='<circle cx="15" cy="15" r="15" fill="#ffffff" stroke="#039BE5" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#039BE5"></line><line x1="15" y1="4" x2="15" y2="26" stroke-width="1" stroke="#039BE5"></line>',OrgChart.templates.isla.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,83,45)" '+OrgChart.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#F57C00"></circle><circle cx="7" cy="0" r="2" fill="#F57C00"></circle><circle cx="14" cy="0" r="2" fill="#F57C00"></circle></g>',OrgChart.templates.isla.ripple={radius:0,color:"#F57C00",rect:{x:0,y:20,width:180,height:100}},OrgChart.templates.deborah=Object.assign({},OrgChart.templates.polina),OrgChart.templates.deborah.size=[150,150],OrgChart.templates.deborah.node='<rect x="0" y="0" height="150" width="150" fill="#039BE5" stroke-width="1" stroke="#686868" rx="15" ry="15"></rect>',OrgChart.templates.deborah.img_0='<clipPath id="{randId}"><rect fill="#ffffff" stroke="#039BE5" stroke-width="1" x="5" y="5" rx="15" ry="15" width="140" height="140"></rect></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="5" y="5"  width="140" height="140"></image><rect x="3" y="5" height="30" width="144" fill="#039BE5" opacity="0.5" rx="3" ry="3"></rect><rect x="3" y="115" height="30" width="144" fill="#039BE5" opacity="0.5" rx="3" ry="3"></rect>',OrgChart.templates.deborah.field_0="<text "+OrgChart.attr.width+'="125" '+OrgChart.attr.text_overflow+'="ellipsis" style="font-size: 18px;" fill="#ffffff" x="15" y="25" text-anchor="start">{val}</text>',OrgChart.templates.deborah.field_1="<text "+OrgChart.attr.width+'="105" '+OrgChart.attr.text_overflow+'="ellipsis" style="font-size: 11px;" fill="#ffffff" x="15" y="135" text-anchor="start">{val}</text>',OrgChart.templates.deborah.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,125,130)" '+OrgChart.attr.control_node_menu_id+'="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="7" cy="0" r="2" fill="#ffffff"></circle><circle cx="14" cy="0" r="2" fill="#ffffff"></circle></g>',OrgChart.templates.subLevel=Object.assign({},OrgChart.templates.base),OrgChart.templates.subLevel.size=[0,0],OrgChart.templates.subLevel.node="",OrgChart.templates.subLevel.plus="",OrgChart.templates.subLevel.minus="",OrgChart.templates.subLevel.nodeMenuButton="",OrgChart.ui={_defsIds:{},defs:function(t){var e="";for(var r in OrgChart.templates){var i=OrgChart.templates[r];i.defs&&(OrgChart.ui._defsIds[r]=OrgChart.randomId(),e+=i.defs.replaceAll("{randId}",OrgChart.ui._defsIds[r]))}return"<defs>"+e+t+"</defs>"},lonely:function(t){return t.nodes&&t.nodes.length?"":OrgChart.IT_IS_LONELY_HERE.replace("{link}",OrgChart.RES.IT_IS_LONELY_HERE_LINK)},pointer:function(t,e,r){return e===OrgChart.action.exporting?"":OrgChart.t(t.template,!1,r).pointer},node:function(t,e,r,i,n,a,o,l,s,c){var h=OrgChart.t(t.templateName,t.min,s),d=h.node.replaceAll("{w}",t.w).replaceAll("{h}",t.h);h.defs&&(d=d.replaceAll("{randId}",OrgChart.ui._defsIds[t.templateName])),null==o&&(o=i.nodeBinding);var p={node:t,data:e};for(var u in o){var g,f=o[u];e&&(g=e[f]),"function"==typeof f&&(g=f(c,t,e)),p.value=g,p.element=h[u],p.name=f,!1!==OrgChart.events.publish("field",[c,p])&&null!=p.value&&null!=p.value&&null!=p.element&&(OrgChart._lblIsImg(i,u)||"string"!=typeof p.value||(p.value=OrgChart.wrapText(p.value,p.element)),d+=p.element.replace("{val}",function(){return p.value}).replaceAll("{ew}",t.w-(t.padding?t.padding[1]:0)).replaceAll("{cw}",t.w/2).replaceAll("{randId}",OrgChart.randomId()).replaceAll("{randId2}",OrgChart.randomId()))}var m=OrgChart._getPosition(r,t,n,a),v="node";Array.isArray(t.tags)&&t.tags.length&&(v+=" "+t.tags.join(" ")),t.layout&&(v+=" tree-layout");var b="";t.lcn&&(b='lcn="'+t.lcn+'"');var C=OrgChart.nodeOpenTag.replace("{lcn}",b).replace("{id}",t.id).replace("{class}",v).replace("{sl}",t.sl).replace("{level}",t.level).replace("{x}",m.x).replace("{y}",m.y),y=OrgChart._getOpacity(r,t);return(C=C.replace("{opacity}",y))+(d+=OrgChart.ui.nodeBtns(i,t,l,h,c))+OrgChart.grCloseTag},nodeBtns:function(t,e,r,i,n){var a="";return null==t.nodeMenu||e.isSplit||r===OrgChart.action.exporting||(a+=i.nodeMenuButton.replace("{id}",e.id).replace("{cw}",e.w/2).replace("{ew}",e.w-(e.padding?e.padding[1]:0))),null==t.nodeCircleMenu||e.isSplit||r===OrgChart.action.exporting||OrgChart.isNEU(i.nodeCircleMenuButton)||(a+='<g style="cursor:pointer;" transform="matrix(1,0,0,1,'+i.nodeCircleMenuButton.x+","+i.nodeCircleMenuButton.y+')" '+OrgChart.attr.control_node_circle_menu_id+'="'+e.id+'"><circle cx="0" cy="0" fill="'+i.nodeCircleMenuButton.color+'" r="'+i.nodeCircleMenuButton.radius+'" stroke-width="1" stroke="'+i.nodeCircleMenuButton.stroke+'"></circle><line x1="-'+i.nodeCircleMenuButton.radius/2+'" y1="-6" x2="'+i.nodeCircleMenuButton.radius/2+'" y2="-6" stroke-width="2" stroke="'+i.nodeCircleMenuButton.stroke+'"></line><line x1="-'+i.nodeCircleMenuButton.radius/2+'" y1="0" x2="'+i.nodeCircleMenuButton.radius/2+'" y2="0" stroke-width="2" stroke="'+i.nodeCircleMenuButton.stroke+'"></line><line x1="-'+i.nodeCircleMenuButton.radius/2+'" y1="6" x2="'+i.nodeCircleMenuButton.radius/2+'" y2="6" stroke-width="2" stroke="'+i.nodeCircleMenuButton.stroke+'"></line></g>'),a},expandCollapseBtn:function(t,e,r,i,n){var a="";if(i!==OrgChart.action.exporting&&!e.isSplit){var o=r[e.lcn?e.lcn:"base"],l=0,s=0,c=OrgChart.t(e.templateName,e.min,n);if(e.childrenIds.length>0){if(e.hasPartners){for(var h=!1,d=0;d<e.children.length;d++)e.children[d].parentPartner||e.children[d].isPartner||(h=!0);if(!h)return""}switch(o.orientation){case OrgChart.orientation.top:case OrgChart.orientation.top_left:l=e.x+e.w/2,s=e.y+e.h;break;case OrgChart.orientation.bottom:case OrgChart.orientation.bottom_left:l=e.x+e.w/2,s=e.y;break;case OrgChart.orientation.right:case OrgChart.orientation.right_top:l=e.x,s=e.y+e.h/2;break;case OrgChart.orientation.left:case OrgChart.orientation.left_top:l=e.x+e.w,s=e.y+e.h/2}if(l-=c.expandCollapseSize/2,s-=c.expandCollapseSize/2,t.getCollapsedIds(e).length?(a+=OrgChart.expcollOpenTag.replace("{id}",e.id).replace("{x}",l).replace("{y}",s),a+=c.plus,a+=OrgChart.grCloseTag):(a+=OrgChart.expcollOpenTag.replace("{id}",e.id).replace("{x}",l).replace("{y}",s),a+=c.minus,a+=OrgChart.grCloseTag),a.indexOf("{collapsed-children-count}")){var p=OrgChart.collapsedChildrenCount(t,e);a=a.replace("{collapsed-children-count}",p)}}t._nodeHasHiddenParent(e)&&(a+=OrgChart.upOpenTag.replace("{id}",e.id).replace("{x}",e.x).replace("{y}",e.y),a+=c.up,a+=OrgChart.grCloseTag)}var u={html:a,node:e};return OrgChart.events.publish("renderbuttons",[t,u]),u.html},link:function(t,e,r,i,n,a){var o=e._layoutConfigs[t.lcn?t.lcn:"base"],l=OrgChart.t(t.templateName,t.min,r),s=[],c=o.levelSeparation/2;t.layout!=OrgChart.mixed&&t.layout!=OrgChart.tree||(c=o.mixedHierarchyNodesSeparation/2);var h=0,d=OrgChart.getRootOf(t).id,p=i[d][t.sl],u=void 0;if(t.hasPartners){u={ids:[],indexes:{},ppnodes:{},lastLeft:null,firstRight:null,maxSidePartnersWithChildren:0,rightIds:[],leftIds:[],partnerChildrenSplitSeparation:e.config.partnerChildrenSplitSeparation};for(var g=0;g<t.children.length;g++)(f=t.children[g]).parentPartner?(u.ppnodes[f.id]=f.parentPartner,u.ids.push(f.id),1==f.parentPartner.isPartner?(-1==u.rightIds.indexOf(f.parentPartner.id)&&u.rightIds.push(f.parentPartner.id),u.indexes[f.id]=u.rightIds.indexOf(f.parentPartner.id),u.firstRight||(u.firstRight=f)):2==f.parentPartner.isPartner&&(-1==u.leftIds.indexOf(f.parentPartner.id)&&u.leftIds.push(f.parentPartner.id),u.indexes[f.id]=u.leftIds.indexOf(f.parentPartner.id),u.lastLeft=f)):f.isPartner||(u.lastLeft=f,u.firstRight||(u.firstRight=f));u.maxSidePartnersWithChildren=Math.max(u.leftIds.length,u.rightIds.length),h=0==u.maxSidePartnersWithChildren?e.config.minPartnerSeparation/2:e.config.minPartnerSeparation/2+u.partnerChildrenSplitSeparation*u.maxSidePartnersWithChildren+u.partnerChildrenSplitSeparation/2}for(g=0;g<t.children.length;g++){var f=t.children[g],m=i[d][f.sl],v={xa:0,ya:0,xb:0,yb:0,xc:0,yc:0,xd:0,yd:0,x:0,y:0,rotate:0},b=(l=OrgChart.t(f.templateName,f.min,r)).link;if(u&&-1!=u.ids.indexOf(f.id))switch(o.orientation){case OrgChart.orientation.top:case OrgChart.orientation.top_left:v=OrgChart.ui._linkPpTop(u,t,f,m,p,l);break;case OrgChart.orientation.bottom:case OrgChart.orientation.bottom_left:v=OrgChart.ui._linkPpBottom(u,t,f,m,p,l);break;case OrgChart.orientation.right:case OrgChart.orientation.right_top:v=OrgChart.ui._linkPpRight(u,t,f,m,p,l);break;case OrgChart.orientation.left:case OrgChart.orientation.left_top:v=OrgChart.ui._linkPpLeft(u,t,f,m,p,l)}else if((f.isAssistant||2==f.layout)&&f.rightNeighbor&&f.rightNeighbor.isSplit)switch(o.orientation){case OrgChart.orientation.top:case OrgChart.orientation.top_left:case OrgChart.orientation.bottom:case OrgChart.orientation.bottom_left:v=OrgChart.ui._linkRightToLeft(f.rightNeighbor,f,l,c);break;case OrgChart.orientation.right:case OrgChart.orientation.right_top:case OrgChart.orientation.left:case OrgChart.orientation.left_top:v=OrgChart.ui._linkBottomToTop(f.rightNeighbor,f,l,c)}else if((f.isAssistant||2==f.layout)&&f.leftNeighbor&&f.leftNeighbor.isSplit)switch(o.orientation){case OrgChart.orientation.top:case OrgChart.orientation.top_left:case OrgChart.orientation.bottom:case OrgChart.orientation.bottom_left:v=OrgChart.ui._linkLeftToRight(f.leftNeighbor,f,l,c);break;case OrgChart.orientation.right:case OrgChart.orientation.right_top:case OrgChart.orientation.left:case OrgChart.orientation.left_top:v=OrgChart.ui._linkTopToBottom(f.leftNeighbor,f,l,c)}else switch(o.orientation){case OrgChart.orientation.top:case OrgChart.orientation.top_left:if(1==f.isPartner)v=OrgChart.ui._linkLeftToRight(t,f,l,h);else if(2==f.isPartner)v=OrgChart.ui._linkRightToLeft(t,f,l,h);else{var C=1==f.layout?void 0:m.minY-(m.minY-p.maxY)/2;v=OrgChart.ui._linkTopToBottom(t,f,l,c,C)}break;case OrgChart.orientation.bottom:case OrgChart.orientation.bottom_left:v=1==f.isPartner?OrgChart.ui._linkLeftToRight(t,f,l,h):2==f.isPartner?OrgChart.ui._linkRightToLeft(t,f,l,h):OrgChart.ui._linkBottomToTop(t,f,l,c,C=1==f.layout?void 0:m.maxY-(m.maxY-p.minY)/2);break;case OrgChart.orientation.right:case OrgChart.orientation.right_top:v=1==f.isPartner?OrgChart.ui._linkTopToBottom(t,f,l,h):2==f.isPartner?OrgChart.ui._linkBottomToTop(t,f,l,h):OrgChart.ui._linkRightToLeft(t,f,l,c,C=1==f.layout?void 0:m.maxX-(m.maxX-p.minX)/2);break;case OrgChart.orientation.left:case OrgChart.orientation.left_top:v=1==f.isPartner?OrgChart.ui._linkTopToBottom(t,f,l,h):2==f.isPartner?OrgChart.ui._linkBottomToTop(t,f,l,h):OrgChart.ui._linkLeftToRight(t,f,l,c,C=1==f.layout?void 0:m.minX-(m.minX-p.maxX)/2)}if(-1!=b.indexOf("{rounded}"))if(v.xa==v.xb&&v.xa==v.xc&&v.xa==v.xd||v.ya==v.yb&&v.ya==v.yc&&v.ya==v.yd)b=b.replace("{rounded}","M"+v.xa+","+v.ya+" L"+v.xd+","+v.yd);else{var y=OrgChart.ui._roundedEdge(v.xa,v.ya,v.xb,v.yb,v.xc,v.yc),x=OrgChart.ui._roundedEdge(v.xb,v.yb,v.xc,v.yc,v.xd,v.yd);b=b.replace("{rounded}","M"+y.x1+","+y.y1+" "+y.x2+","+y.y2+" Q"+y.qx1+","+y.qy1+" "+y.qx2+","+y.qy2+" L"+x.x2+","+x.y2+" Q"+x.qx1+","+x.qy1+" "+x.qx2+","+x.qy2+" L"+x.x3+","+x.y3)}else b=-1!=b.indexOf("{edge}")?b.replace("{edge}","M"+v.xa+","+v.ya+" "+v.xb+","+v.yb+" "+v.xc+","+v.yc+" L"+v.xd+","+v.yd):-1!=b.indexOf("{curve}")?b.replace("{curve}","M"+v.xa+","+v.ya+" C"+v.xb+","+v.yb+" "+v.xc+","+v.yc+" "+v.xd+","+v.yd):b.replaceAll("{xa}",v.xa).replaceAll("{ya}",v.ya).replaceAll("{xb}",v.xb).replaceAll("{yb}",v.yb).replaceAll("{xc}",v.xc).replaceAll("{yc}",v.yc).replaceAll("{xd}",v.xd).replaceAll("{yd}",v.yd);s.push(OrgChart.linkOpenTag.replace("{id}",t.id).replace("{class}","link "+f.tags.join(" ")).replace("{child-id}",f.id));var O={node:t,cnode:f,p:v,html:b,action:a};OrgChart.events.publish("render-link",[e,O]),s.push(O.html);var w="";for(var _ in e.config.linkBinding){var k=e.config.linkBinding[_],S=e._get(f.id);S&&(O.value=S[k],O.element=l[_],O.name=k,!1!==OrgChart.events.publish("label",[e,O])&&(OrgChart.isNEU(O.value)||OrgChart.isNEU(O.element)||(w+=O.element.replace("{val}",O.value))))}""!=w&&(w=OrgChart.linkFieldsOpenTag.replace("{x}",v.x).replace("{y}",v.y).replace("{rotate}",0)+w+OrgChart.grCloseTag,s.push(w)),s.push(OrgChart.grCloseTag)}return s.join("")},svg:function(t,e,r,i,n,a){return OrgChart.t(i.template,!1,a).svg.replace("{w}",t).replace("{h}",e).replace("{viewBox}",r).replace("{randId}",OrgChart.ui._defsIds[i.template]).replace("{mode}",i.mode).replace("{template}",i.template).replace("{content}",function(){return n})},menuButton:function(t){return null==t.menu?"":OrgChart.t(t.template,!1).menuButton.replaceAll("{p}",t.padding)},_roundedEdge:function(t,e,r,i,n,a){var o=OrgChart.LINK_ROUNDED_CORNERS;Math.abs(t-n)<o&&(o=0),Math.abs(e-a)<o&&(o=0);var l,s,c,h=0;return t==r&&t==n||e==i&&e==a?(l=c=r,s=h=i):(t!=n&&r==n&&(l=c=r,s=i,e<a?h=i+o:e>a&&(h=i-o)),t<n&&r==n?r-=o:t>n&&r==n&&(r+=o),e!=a&&i==a&&(l=r,s=h=i,t<n?c=r+o:t>n&&(c=r-o)),e<a&&i==a?i-=o:e>a&&i==a&&(i+=o)),{x1:t,y1:e,x2:r,y2:i,x3:n,y3:a,qx1:l,qy1:s,qx2:c,qy2:h}},_linkTopToBottom:function(t,e,r,i,n){var a,o,l,s,c,h;return s=l=e.x+e.w/2+r.linkAdjuster.fromX,c=e.y+r.linkAdjuster.fromY,{xa:a=t.x+t.w/2+r.linkAdjuster.toX,ya:o=t.y+t.h+r.linkAdjuster.toY,xb:a,yb:h=t.rightNeighbor&&t.rightNeighbor.isAssistant&&"split"==e.templateName?t.rightNeighbor.y+t.rightNeighbor.h+i:"split"!=t.templateName||!e.isAssistant&&2!=e.layout?"split"==e.templateName?o+i:null!=n?n:c-i:c,xc:l,yc:h,xd:s,yd:c,x:l,y:h+16,rotate:0}},_linkBottomToTop:function(t,e,r,i,n){var a,o,l,s,c,h;return s=l=e.x+e.w/2+r.linkAdjuster.fromX,c=e.y+e.h+r.linkAdjuster.fromY,{xa:a=t.x+t.w/2+r.linkAdjuster.toX,ya:o=t.y+r.linkAdjuster.toY,xb:a,yb:h=t.rightNeighbor&&t.rightNeighbor.isAssistant&&"split"==e.templateName?t.rightNeighbor.y-i:"split"!=t.templateName||!e.isAssistant&&2!=e.layout?"split"==e.templateName?o-i:null!=n?n:c+i:c,xc:l,yc:h,xd:s,yd:c,x:l,y:h-14,rotate:0}},_linkRightToLeft:function(t,e,r,i,n){var a,o,l,s,c,h;return s=e.x+e.w+r.linkAdjuster.fromX,c=l=e.y+e.h/2+r.linkAdjuster.fromY,{xa:a=t.x+r.linkAdjuster.toX,ya:o=t.y+t.h/2+r.linkAdjuster.toY,xb:h=t.rightNeighbor&&t.rightNeighbor.isAssistant&&"split"==e.templateName?t.rightNeighbor.x-i:"split"!=t.templateName||!e.isAssistant&&2!=e.layout?"split"==e.templateName?a-i:null!=n?n:s+i:s,yb:o,xc:h,yc:l,xd:s,yd:c,x:h-16,y:l,rotate:90}},_linkLeftToRight:function(t,e,r,i,n){var a,o,l,s,c,h;return s=e.x+r.linkAdjuster.fromX,c=l=e.y+e.h/2+r.linkAdjuster.fromY,{xa:a=t.x+t.w+r.linkAdjuster.toX,ya:o=t.y+t.h/2+r.linkAdjuster.toY,xb:h=t.rightNeighbor&&t.rightNeighbor.isAssistant&&"split"==e.templateName?t.rightNeighbor.x+t.rightNeighbor.w+i:"split"!=t.templateName||!e.isAssistant&&2!=e.layout?"split"==e.templateName?a+i:null!=n?n:s-i:s,yb:o,xc:h,yc:l,xd:s,yd:c,x:h+14,y:l,rotate:270}},_linkPpTop:function(t,e,r,i,n,a){var o=t.ppnodes[r.id],l=o.y+o.h/2,s=i.minY-(i.minY-n.maxY)/2,c=OrgChart.ui.__linkPpBottomTop(t,e,r,s,(i.minY-n.maxY)/t.maxSidePartnersWithChildren/4,o);return OrgChart.ui._linkTopToBottom({x:c.x,y:l,w:0,h:0},r,a,0,s=c.mid)},_linkPpBottom:function(t,e,r,i,n,a){var o=t.ppnodes[r.id],l=o.y+o.h/2,s=i.maxY-(i.maxY-n.minY)/2,c=OrgChart.ui.__linkPpBottomTop(t,e,r,s,(i.maxY-n.minY)/t.maxSidePartnersWithChildren/4,o);return OrgChart.ui._linkBottomToTop({x:c.x,y:l,w:0,h:0},r,a,0,s=c.mid)},_linkPpLeft:function(t,e,r,i,n,a){var o=t.ppnodes[r.id],l=i.minX-(i.minX-n.maxX)/2,s=o.x+o.w/2,c=OrgChart.ui.__linkPpLeftRight(t,e,r,l,(i.minX-n.maxX)/t.maxSidePartnersWithChildren/4,o);return OrgChart.ui._linkLeftToRight({x:s,y:c.y,w:0,h:0},r,a,0,l=c.mid)},_linkPpRight:function(t,e,r,i,n,a){var o=t.ppnodes[r.id],l=i.maxX-(i.maxX-n.minX)/2,s=o.x+o.w/2,c=OrgChart.ui.__linkPpLeftRight(t,e,r,l,(i.maxX-n.minX)/t.maxSidePartnersWithChildren/4,o);return OrgChart.ui._linkRightToLeft({x:s,y:c.y,w:0,h:0},r,a,0,l=c.mid)},__linkPpBottomTop:function(t,e,r,i,n,a){var o=0;return 1==a.isPartner?(o=a.x-e.partnerSeparation/2+t.indexes[r.id]*t.partnerChildrenSplitSeparation-(t.rightIds.length-1)*t.partnerChildrenSplitSeparation/2,t.lastLeft&&o<t.lastLeft.x+t.lastLeft.w/2?i-=o<r.x+r.w/2?(t.indexes[r.id]+1)*n:(t.rightIds.length-t.indexes[r.id])*n:i+=o<r.x+r.w/2?(t.rightIds.length-t.indexes[r.id])*n:(t.indexes[r.id]+1)*n):2==a.isPartner&&(o=a.x+a.w+e.partnerSeparation/2+t.indexes[r.id]*t.partnerChildrenSplitSeparation-(t.leftIds.length-1)*t.partnerChildrenSplitSeparation/2,t.firstRight&&o>t.firstRight.x+t.firstRight.w/2?i-=o<r.x+r.w/2?(t.indexes[r.id]+1)*n:(t.leftIds.length-t.indexes[r.id])*n:i+=o<r.x+r.w/2?(t.leftIds.length-t.indexes[r.id])*n:(t.indexes[r.id]+1)*n),{x:o,mid:i}},__linkPpLeftRight:function(t,e,r,i,n,a){var o=0;return 1==a.isPartner?(o=a.y-e.partnerSeparation/2+t.indexes[r.id]*t.partnerChildrenSplitSeparation-(t.rightIds.length-1)*t.partnerChildrenSplitSeparation/2,t.lastLeft&&o<t.lastLeft.y+t.lastLeft.h/2?i-=o<r.y+r.h/2?(t.indexes[r.id]+1)*n:(t.rightIds.length-t.indexes[r.id])*n:i+=o<r.y+r.h/2?(t.rightIds.length-t.indexes[r.id])*n:(t.indexes[r.id]+1)*n):2==a.isPartner&&(o=a.y+a.h+e.partnerSeparation/2+t.indexes[r.id]*t.partnerChildrenSplitSeparation-(t.leftIds.length-1)*t.partnerChildrenSplitSeparation/2,t.firstRight&&o>t.firstRight.y+t.firstRight.h/2?i-=o<r.y+r.h/2?(t.indexes[r.id]+1)*n:(t.leftIds.length-t.indexes[r.id])*n:i+=o<r.y+r.h/2?(t.leftIds.length-t.indexes[r.id])*n:(t.indexes[r.id]+1)*n),{y:o,mid:i}}},void 0===OrgChart&&(OrgChart={}),OrgChart._validateConfig=function(t){return!!t||(console.error("config is not defined"),!1)},OrgChart._arrayContains=function(t,e){if(t&&Array.isArray(t))for(var r=t.length;r--;)if(t[r]===e)return!0;return!1},OrgChart._interceptions=function(t,e){if(!t)return[];if(!e)return[];var r=[];if(Array.isArray(t)&&Array.isArray(e))for(var i in t)for(var n in e)t[i]==e[n]&&r.push(t[i]);else if(Array.isArray(t)&&!Array.isArray(e))for(var i in t)for(var n in e)t[i]==n&&r.push(t[i]);else if(!Array.isArray(t)&&Array.isArray(e))for(var i in t)for(var n in e)i==e[n]&&r.push(e[n]);return r},OrgChart._getTags=function(t){return t.tags&&!Array.isArray(t.tags)?t.tags.split(","):t.tags&&Array.isArray(t.tags)?t.tags:[]},OrgChart._centerPointInPercent=function(t,e,r){var i=t.getBoundingClientRect();return[(e-i.left)/(i.width/100),(r-i.top)/(i.height/100)]},OrgChart._trim=function(t){return t.replace(/^\s+|\s+$/g,"")},OrgChart._getTransform=function(t){var e=t.getAttribute("transform");return e=e.replace("matrix","").replace("(","").replace(")",""),OrgChart._browser().msie&&(e=e.replace(/ /g,",")),e="["+(e=OrgChart._trim(e))+"]",JSON.parse(e)},OrgChart.getScale=function(t,e,r,i,n,a,o,l){var s=1;if(t||i!==OrgChart.match.boundary)if(t||i!==OrgChart.match.width)if(t||i!==OrgChart.match.height)if(t){var c,h;s=(c=e/t[2])>(h=r/t[3])?h:c}else s=i;else s=r/l;else s=e/o;else s=(c=e/o)>(h=r/l)?h:c;return s&&s>n&&(s=n),s&&s<a&&(s=a),s},OrgChart.isObject=function(t){return t&&"object"==typeof t&&!Array.isArray(t)&&null!==t},OrgChart.fileUploadDialog=function(t,e){var r=document.createElement("INPUT");r.setAttribute("type","file"),r.style.display="none",r.onchange=function(){e(this.files[0])},document.body.appendChild(r),r.click()},OrgChart.mergeDeep=function(t,e){if(OrgChart.isObject(t)&&OrgChart.isObject(e))for(var r in e)OrgChart.isObject(e[r])?(t[r]||Object.assign(t,{[r]:{}}),OrgChart.mergeDeep(t[r],e[r])):Object.assign(t,{[r]:e[r]});return t},OrgChart._lblIsImg=function(t,e){return!(!t.nodeBinding||"string"!=typeof e||-1==e.indexOf("img")||!t.nodeBinding[e])},OrgChart._getFistImgField=function(t){if(t.nodeBinding)for(var e in t.nodeBinding)if(-1!=e.indexOf("img"))return t.nodeBinding[e];return!1},OrgChart._fieldIsImg=function(t,e){if(t.nodeBinding)for(var r in t.nodeBinding)if(t.nodeBinding[r]==e)return OrgChart._lblIsImg(t,r);return!1},OrgChart._guid=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},OrgChart.htmlRipple=function(t){var e=document.createElement("style");e.type="text/css",e.innerHTML=" .boc-ripple-container {position: absolute; top: 0; right: 0; bottom: 0; left: 0; } .boc-ripple-container span {transform: scale(0);border-radius:100%;position:absolute;opacity:0.75;background-color:#fff;animation: boc-ripple 1000ms; }@-moz-keyframes boc-ripple {to {opacity: 0;transform: scale(2);}}@-webkit-keyframes boc-ripple {to {opacity: 0;transform: scale(2);}}@-o-keyframes boc-ripple {to {opacity: 0;transform: scale(2);}}@keyframes boc-ripple {to {opacity: 0;transform: scale(2);}}",document.head.appendChild(e);var r,i,n=document.createElement("div");n.className="boc-ripple-container",t.addEventListener("mousedown",function(e){var r,i,n,a;return i=document.createElement("span"),n=this.offsetWidth,r=this.getBoundingClientRect(),a="top:"+(e.pageY-r.top-n/2)+"px; left: "+(e.pageX-r.left-n/2)+"px; height: "+n+"px; width: "+n+"px;",t.rippleContainer.appendChild(i),i.setAttribute("style",a)}),t.addEventListener("mouseup",(r=function(){for(;this.rippleContainer.firstChild;)this.rippleContainer.removeChild(this.rippleContainer.firstChild)},i=void 0,function(){var t,e;return e=this,t=arguments,clearTimeout(i),i=setTimeout(function(){return r.apply(e,t)},2e3)})),t.rippleContainer=n,t.appendChild(n)},OrgChart._moveToBoundaryArea=function(t,e,r,i){var n=e.slice(0);e[0]<r.left&&e[0]<r.right&&(n[0]=r.left>r.right?r.right:r.left),e[0]>r.right&&e[0]>r.left&&(n[0]=r.left>r.right?r.left:r.right),e[1]<r.top&&e[1]<r.bottom&&(n[1]=r.top>r.bottom?r.bottom:r.top),e[1]>r.bottom&&e[1]>r.top&&(n[1]=r.top>r.bottom?r.top:r.bottom),e[0]!==n[0]||e[1]!==n[1]?OrgChart.anim(t,{viewBox:e},{viewBox:n},300,OrgChart.anim.outPow,function(){i&&i()}):i&&i()},OrgChart.randomId=function(){return"_"+("0000"+(Math.random()*Math.pow(36,4)|0).toString(36)).slice(-4)},OrgChart._getClientXY=function(t){return-1==t.type.indexOf("touch")?{x:t.clientX,y:t.clientY}:t.changedTouches.length?{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY}:void 0},OrgChart._getClientTouchesXY=function(t,e){return-1!=t.type.indexOf("touch")?t.touches.length<e+1?{x:null,y:null}:{x:t.touches[e].clientX,y:t.touches[e].clientY}:{x:t.clientX,y:t.clientY}},OrgChart._getOffset=function(t,e){t&&(e.x+=t.offsetLeft,e.y+=t.offsetTop,OrgChart._getOffset(t.offsetParent,e))},OrgChart._getTopLeft=function(t){var e={x:0,y:0};return OrgChart._getOffset(t,e),e},OrgChart._getOffsetXY=function(t,e){if(-1==e.type.indexOf("touch"))return{x:e.offsetX,y:e.offsetY};if(e.touches.length){var r=OrgChart._getTopLeft(t);return{x:e.touches[0].pageX-r.x,y:e.touches[0].pageY-r.y}}return e.changedTouches.length?(r=OrgChart._getTopLeft(t),{x:e.changedTouches[0].pageX-r.x,y:e.changedTouches[0].pageY-r.y}):void 0},OrgChart._pinchMiddlePointInPercent=function(t,e,r,i){var n=OrgChart._getTopLeft(t),a=i.touches[1].pageX-n.x,o=i.touches[1].pageY-n.y;return[((i.touches[0].pageX-n.x-a)/2+a)/(e/100),((i.touches[0].pageY-n.y-o)/2+o)/(r/100)]},OrgChart._browser=function(){var t=!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,e="undefined"!=typeof InstallTrigger,r=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||"undefined"!=typeof safari&&safari.pushNotification).toString(),i=!!document.documentMode,n=!i&&!!window.StyleMedia,a=!(!window.chrome||!window.chrome.webstore&&!window.chrome.runtime);return{opera:t,firefox:e,safari:r,msie:i,edge:n,chrome:a,blink:(a||t)&&!!window.CSS}},OrgChart._menuPosition=function(t,e,r){var i=t.getBoundingClientRect(),n=r.getBoundingClientRect(),a=e.getBoundingClientRect(),o=i.left-n.left,l=i.top-n.top;return i.top+a.height>n.top+n.height&&(l-=a.height),i.left-a.width<n.left&&(o+=a.width),{x:o,y:l}},OrgChart._getTemplate=function(t,e,r){if(Array.isArray(t))for(var i=0;i<t.length;i++){var n=e[t[i]];if(n&&n.template)return n.template}return r},OrgChart._getMin=function(t,e){if(t.tags&&t.tags.length&&e.tags)for(var r=0;r<t.tags.length;r++){var i=e.tags[t.tags[r]];if(i&&!0===i.min)return!0}return e.min},OrgChart._getSubLevels=function(t,e){if(t&&t.length)for(var r=0;r<t.length;r++){var i=e[t[r]];if(i&&i.subLevels)return i.subLevels}return 0},OrgChart._isHTML=function(t){var e=document.createElement("div");e.innerHTML=t;for(var r=e.childNodes,i=r.length;i--;)if(1==r[i].nodeType)return!0;return!1},OrgChart._getTestDiv=function(){var t=document.getElementById("orgchart_js_test_div");return t||((t=document.createElement("div")).id="orgchart_js_test_div",t.style.position="fixed",t.style.top="-10000px",t.style.left="-10000px",document.body.appendChild(t)),t},OrgChart._getLabelSize=function(t){var e=OrgChart._getTestDiv();return e.innerHTML="<svg>"+t+"</svg>",e.querySelector("text").getBoundingClientRect()},OrgChart.wrapText=function(t,e){var r=e.toLowerCase();if(-1==r.indexOf("<text"))return t;if(-1==r.indexOf(OrgChart.attr.width))return t;if(-1!=r.indexOf("foreignobject"))return t;if(-1==e.indexOf(OrgChart.attr.width))return t;if(OrgChart._isHTML(t))return t;var i=OrgChart._getTestDiv();e=e.replaceAll("{cw}",0),i.innerHTML="<svg>"+e+"</svg>";var n,a,o=(new DOMParser).parseFromString(e,"text/xml").getElementsByTagName("text")[0],l=parseFloat(o.getAttribute("x")),s=parseFloat(o.getAttribute("y")),c=o.getAttribute("text-anchor"),h=o.getAttribute(OrgChart.attr.width),d=o.getAttribute(OrgChart.attr.text_overflow),p="http://www.w3.org/2000/svg",u=i.getElementsByTagName("svg")[0].getElementsByTagName("text")[0];d||(d="ellipsis");var g=d.split("-");if(g.length>1&&(n=parseInt(d.split("-")[1]),g.length>2&&"ellipsis"==g[2]&&(a=!0)),!h)return t;if(h=parseFloat(h),l||(l=0),s||(s=0),l||(c="start"),"ellipsis"==d){u.removeChild(u.firstChild),u.textContent=t;for(var f=u.getComputedTextLength(),m=2;f>h;)u.textContent=t.substring(0,t.length-m),u.textContent+="...",f=u.getComputedTextLength(),m++;return m>2?"<title>"+t+"</title>"+u.textContent:t}if(-1!=d.indexOf("multiline")){var v=t.split(" "),b=u.getBBox().height;u.textContent="";var C=document.createElementNS(p,"tspan"),y=document.createTextNode(v[0]);C.setAttributeNS(null,"x",l),C.setAttributeNS(null,"y",s),C.setAttributeNS(null,"text-anchor",c),C.appendChild(y),u.appendChild(C),m=1;for(var x=1,O=1;O<v.length;O++){var w=C.firstChild.data.length;if(C.firstChild.data+=" "+v[O],C.getComputedTextLength()>h){if(C.firstChild.data=C.firstChild.data.slice(0,w),x++,n&&x>n){if(a&&u.children.length==n){var _=u.children[n-1].textContent;u.children[n-1].textContent=_.substring(0,_.length-3)+"..."}break}(C=document.createElementNS(p,"tspan")).setAttributeNS(null,"x",l),C.setAttributeNS(null,"y",s+b*m),C.setAttributeNS(null,"text-anchor",c),y=document.createTextNode(v[O]),C.appendChild(y),u.appendChild(C),m++}}var k="";if(null!=u.innerHTML)k=u.innerHTML,u.innerHTML="";else{var S="";for(O=u.childNodes.length-1;O>=0;O--)S=XMLSerializer().serializeToString(u.childNodes[O])+S,u.removeChild(u.childNodes[O]);k=S}return k}},OrgChart._downloadFile=function(t,e,r,i){var n=new Blob([e],{type:t});if(1==i){var a=URL.createObjectURL(n);window.open(a,"_blank").focus()}else if(navigator.msSaveBlob)navigator.msSaveBlob(n,r);else{var o=document.createElement("a");void 0!==o.download&&(a=URL.createObjectURL(n),o.setAttribute("href",a),o.setAttribute("download",r),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o))}},OrgChart._getPosition=function(t,e,r,i){var n={x:e.x,y:e.y};if(null!=r&&(n.x=r),null!=i&&(n.y=r),t&&3==t.length){var a=t[0].indexOf(e.id);-1!=a&&null!=t[1][a].transform&&(null==r&&(n.x=t[1][a].transform[4]),null==i&&(n.y=t[1][a].transform[5]))}return n},OrgChart._getOpacity=function(t,e){var r=1;if(t&&3==t.length){var i=t[0].indexOf(e.id);-1!=i&&null!=t[1][i].opacity&&(r=t[1][i].opacity)}return r},OrgChart.t=function(t,e,r){var i=OrgChart.templates[t],n=null;if(null!=r&&i.scaleLessThen){var a=[];for(var o in i.scaleLessThen){var l=parseFloat(o);r<l&&a.push(l)}if(a.length>0){a.sort(function(t,e){return t-e});var s=i.scaleLessThen[a[0]];for(var c in s)null==n&&(n=Object.assign({},i)),n[c]=s[c]}}return e?null==n?i.min?i.min:i:n.min?n.min:n:null==n?i:n},OrgChart.setNodeSize=function(t){var e=OrgChart.t(t.templateName,t.min);t.w=e&&e.size?e.size[0]:0,t.h=e&&e.size?e.size[1]:0},OrgChart._imgs2base64=function(t,e,r,i){var n=t.getElementsByTagName(e),a=n.length;0==a&&i();for(var o=0;o<a;o++)!function(){var t=o,e=n[t];OrgChart._getDataUri(e.getAttribute(r),function(n){n.success&&e.setAttribute(r,n.result),t==a-1&&i()})}()},OrgChart._getDataUri=function(t,e){if(-1!=t.indexOf("base64"))e({success:!1});else{var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){200===r.status?i.readAsDataURL(r.response):404===r.status&&e({success:!1,result:r.status})};var i=new FileReader;i.onloadend=function(){e({success:!0,result:i.result})},r.send()}},OrgChart._csvToArray=function(t,e){e=e||",";for(var r=new RegExp("(\\"+e+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+e+"\\r\\n]*))","gi"),i=[[]],n=null;n=r.exec(t);){var a,o=n[1];o.length&&o!==e&&i.push([]),a=n[2]?n[2].replace(new RegExp('""',"g"),'"'):n[3],i[i.length-1].push(a)}return i},OrgChart._json2xml=function(t){for(var e=document.implementation.createDocument("","",null),r=e.createElement("nodes"),i=0;i<t.length;i++){var n=e.createElement("node"),a=t[i];for(var o in a){var l=a[o];"tags"==o&&(l=l.join()),n.setAttribute(o,l)}r.appendChild(n)}return e.appendChild(r),'<?xml version="1.0" encoding="utf-8" ?>'+(new XMLSerializer).serializeToString(e.documentElement)},OrgChart._xml2json=function(t){for(var e=(new DOMParser).parseFromString(t,"text/xml").getElementsByTagName("node"),r=[],i=0;i<e.length;i++){for(var n=e[i],a={},o=0;o<n.attributes.length;o++){var l=n.attributes[o],s=l.value;"tags"==l.name&&(s=s.split(",")),a[l.name]=s}r.push(a)}return r},OrgChart._json2csv=function(t){for(var e=[],r=function(t){for(var r="",i=0;i<e.length;i++){var n;(n="reportsTo"==e[i]?null:null==t[e[i]]?"":t[e[i]])instanceof Date&&(n=n.toLocaleString());var a=(n=null===n?"":n.toString()).replace(/"/g,'""');a.search(/("|,|\n)/g)>=0&&(a='"'+a+'"'),i>0&&(r+=","),r+=a}return r+"\n"},i="",n=0;n<t.length;n++)for(var a in t[n])OrgChart._arrayContains(e,a)||(e.push(a),i+=a+",");for(i=i.substring(0,i.length-1),i+="\n",n=0;n<t.length;n++)i+=r(t[n]);return i.substring(0,i.length-1)},OrgChart.accentFold=function(t){return(t=t.toString().toLowerCase()).replace(/([\xe0\xe1\xe2\xe3\xe4\xe5])|([\xe7])|([\xe8\xe9\xea\xeb])|([\xec\xed\xee\xef])|([\xf1])|([\xf2\xf3\xf4\xf5\xf6\xf8])|([\xdf])|([\xf9\xfa\xfb\xfc])|([\xff])|([\xe6])/g,function(t,e,r,i,n,a,o,l,s,c,h){return e?"a":r?"c":i?"e":n?"i":a?"n":o?"o":l?"s":s?"u":c?"y":h?"ae":void 0})},OrgChart.copy=function(t){if(null===t||"object"!=typeof t||"isActiveClone"in t)return t;if(t instanceof Date)var e=new t.constructor;else e=t.constructor();for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t.isActiveClone=null,e[r]=OrgChart.copy(t[r]),delete t.isActiveClone);return e},OrgChart._getScrollSensitivity=function(){var t=OrgChart._browser();return t.msie&&OrgChart.scroll.ie?OrgChart.scroll.ie:t.edge&&OrgChart.scroll.edge?OrgChart.scroll.edge:t.safari&&OrgChart.scroll.safari?OrgChart.scroll.safari:t.chrome&&OrgChart.scroll.chrome?OrgChart.scroll.chrome:t.firefox&&OrgChart.scroll.firefox?OrgChart.scroll.firefox:t.opera&&OrgChart.scroll.opera?OrgChart.scroll.opera:{smooth:OrgChart.scroll.smooth,speed:OrgChart.scroll.speed}},OrgChart.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},OrgChart.isTrial=function(){return void 0!==OrgChart.remote},OrgChart.childrenCount=function(t,e,r){null==r&&(r=0);for(var i=0;i<e.childrenIds.length;i++){var n=t.nodes[e.childrenIds[i]];n&&(r++,OrgChart.childrenCount(t,n,r))}return r},OrgChart.collapsedChildrenCount=function(t,e,r){null==r&&(r=0);for(var i=0;i<e.childrenIds.length;i++){var n=t.nodes[e.childrenIds[i]];n&&(!0===n.collapsed&&r++,OrgChart.collapsedChildrenCount(t,n,r))}return r},OrgChart._setMinMaxXY=function(t,e){(null==e.minX||null!=t.x&&t.x<e.minX)&&(e.minX=t.x),(null==e.minY||null!=t.y&&t.y<e.minY)&&(e.minY=t.y),(null==e.maxX||null!=t.x&&t.x+t.w>e.maxX)&&(e.maxX=t.x+t.w),(null==e.maxY||null!=t.y&&t.y+t.h>e.maxY)&&(e.maxY=t.y+t.h)},OrgChart.getStParentNodes=function(t,e){for(e||(e=[]);t.parent;)t=t.parent;return t.stParent&&(e.push(t.stParent),OrgChart.getStParentNodes(t.stParent,e)),e},OrgChart.getRootOf=function(t){for(;t&&t.parent;)t=t.parent;return t},OrgChart._getViewBox=function(t){var e=null;return t?(e=(e="["+(e=t.getAttribute("viewBox"))+"]").replace(/\ /g,","),e=JSON.parse(e)):null},OrgChart.isNEU=function(t){return null==t||""===t},OrgChart.gradientCircleForDefs=function(t,e,r,i){function n(t,e,r,i){var n=(i-90)*Math.PI/180;return{x:t+r*Math.cos(n),y:e+r*Math.sin(n)}}function a(t,e,r,i,a){var o=n(t,e,r,a),l=n(t,e,r,i);return["M",o.x,o.y,"A",r,r,0,a-i<=180?"0":"1",0,l.x,l.y].join(" ")}return`<linearGradient id="${t}_linearColors1" x1="0" y1="0" x2="1" y2="1">\n            <stop offset="0%" stop-color="${e[0]}"></stop>\n            <stop offset="100%" stop-color="${e[1]}"></stop>\n        </linearGradient>\n        <linearGradient id="${t}_linearColors2" x1="0.5" y1="0" x2="0.5" y2="1">\n            <stop offset="0%" stop-color="${e[1]}"></stop>\n            <stop offset="100%" stop-color="${e[2]}"></stop>\n        </linearGradient>\n        <linearGradient id="${t}_linearColors3" x1="1" y1="0" x2="0" y2="1">\n            <stop offset="0%" stop-color="${e[2]}"></stop>\n            <stop offset="100%" stop-color="${e[3]}"></stop>\n        </linearGradient>\n        <linearGradient id="${t}_linearColors4" x1="1" y1="1" x2="0" y2="0">\n            <stop offset="0%" stop-color="${e[3]}"></stop>\n            <stop offset="100%" stop-color="${e[4]}"></stop>\n        </linearGradient>\n        <linearGradient id="${t}_linearColors5" x1="0.5" y1="1" x2="0.5" y2="0">\n            <stop offset="0%" stop-color="${e[4]}"></stop>\n            <stop offset="100%" stop-color="${e[5]}"></stop>\n        </linearGradient>\n        <linearGradient id="${t}_linearColors6" x1="0" y1="1" x2="1" y2="0">\n            <stop offset="0%" stop-color="${e[5]}"></stop>\n            <stop offset="100%" stop-color="${e[0]}"></stop>\n        </linearGradient>        \n        <g id="${t}">\n            <path stroke-width="${i}" fill="none" stroke="url(#${t}_linearColors1)" d="${a(r,r,r,1,60)}"  />\n            <path stroke-width="${i}" fill="none" stroke="url(#${t}_linearColors2)" d="${a(r,r,r,60,120)}"/>\n            <path stroke-width="${i}" fill="none" stroke="url(#${t}_linearColors3)" d="${a(r,r,r,120,180)}" />\n            <path stroke-width="${i}" fill="none" stroke="url(#${t}_linearColors4)" d="${a(r,r,r,180,240)}" />\n            <path stroke-width="${i}" fill="none" stroke="url(#${t}_linearColors5)" d="${a(r,r,r,240,300)}" />\n            <path stroke-width="${i}" fill="none" stroke="url(#${t}_linearColors6)" d="${a(r,r,r,300,1)}"/>\n        </g>`},OrgChart.xScrollUI=function(t,e,r,i,n){this.element=t,this.requestParams=r,this.config=e,this.onSetViewBoxCallback=i,this.onDrawCallback=n,this.pos=0},OrgChart.xScrollUI.prototype.addListener=function(t){var e=this;if((this.config.mouseScrool==OrgChart.action.xScroll||this.config.mouseScrool==OrgChart.action.scroll)&&this.bar){var r=OrgChart._getScrollSensitivity();!function(t,r,i){var n=!1;function a(){n=!0;var t=(e.pos-e.bar.scrollLeft)/i;if(t>0)t++;else{if(0==t)return void(n=!1);t--}Math.ceil(e.bar.scrollLeft)==Math.ceil(e.pos)?n=!1:(e.bar.scrollLeft+=t,o(a))}t.addEventListener("wheel",function(t){var i=0;if(e.config.mouseScrool==OrgChart.action.xScroll)(i=t.deltaX||t.wheelDeltaX)||(i=t.deltaY||t.wheelDeltaY);else if(e.config.mouseScrool==OrgChart.action.scroll&&!(i=t.shiftKey?t.deltaY||t.wheelDeltaY:t.deltaX||t.wheelDeltaX))return;i=-i,i=Math.max(-1,Math.min(1,i)),e.pos+=-i*r;var o=parseFloat(e.innerBar.clientWidth)-parseFloat(e.bar.clientWidth);e.pos<0&&(e.pos=0),e.pos>o&&(e.pos=o),n||a()},{passive:!0});var o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,20)}}(t,r.speed,r.smooth)}},OrgChart.xScrollUI.prototype.create=function(t){if(this.config.showXScroll===OrgChart.scroll.visible||this.config.mouseScrool===OrgChart.action.scroll||this.config.mouseScrool===OrgChart.action.xScroll){var e=this;this.bar&&this.bar.parentNode.removeChild(this.bar),this.bar=document.createElement("div"),this.config.showXScroll!==OrgChart.scroll.visible&&(this.bar.style.visibility="hidden"),this.innerBar=document.createElement("div"),this.requestParams(),this.innerBar.innerHTML="&nbsp",Object.assign(this.bar.style,{position:"absolute",left:0,bottom:0,width:t+"px","overflow-x":"scroll",height:"20px"}),this.element.appendChild(this.bar),this.bar.appendChild(this.innerBar),this.bar.addEventListener("scroll",function(){if(this.ignore)this.ignore=!1;else{var t=e.requestParams(),r=(parseFloat(e.innerBar.clientWidth)-parseFloat(e.bar.clientWidth))/100;t.viewBox[0]=this.scrollLeft/r*((t.boundary.right-t.boundary.left)/100)+t.boundary.left,e.onSetViewBoxCallback(t.viewBox),clearTimeout(this._timeout),this._timeout=setTimeout(function(){e.onDrawCallback()},500)}})}},OrgChart.xScrollUI.prototype.setPosition=function(){if(this.bar){var t=this.requestParams(),e=Math.abs(t.boundary.maxX-t.boundary.minX)*t.scale;switch(this.config.orientation){case OrgChart.orientation.bottom:case OrgChart.orientation.bottom_left:innerHeight=Math.abs(t.boundary.minY*t.scale);break;case OrgChart.orientation.right:case OrgChart.orientation.right_top:e=Math.abs(t.boundary.minX*t.scale)}this.innerBar.style.width=e+"px";var r=(t.viewBox[0]-t.boundary.left)/((t.boundary.right-t.boundary.left)/100);r<0?r=0:r>100&&(r=100);var i=(parseFloat(this.innerBar.clientWidth)-parseFloat(this.bar.clientWidth))/100,n=r*i;this.bar.ignore=!0,this.bar.scrollLeft=n,this.pos=this.bar.scrollLeft,this.bar.style.visibility=i<=0?"hidden":""}},OrgChart.yScrollUI=function(t,e,r,i,n){this.element=t,this.requestParams=r,this.config=e,this.onSetViewBoxCallback=i,this.onDrawCallback=n,this.pos=0},OrgChart.yScrollUI.prototype.addListener=function(t){var e=this;if(this.config.mouseScrool==OrgChart.action.yScroll||this.config.mouseScrool==OrgChart.action.scroll){var r=OrgChart._getScrollSensitivity();!function(t,r,i){var n=!1;function a(){n=!0;var t=(e.pos-e.bar.scrollTop)/i;if(t>0)t++;else{if(0==t)return void(n=!1);t--}Math.ceil(e.bar.scrollTop)==Math.ceil(e.pos)?n=!1:(e.bar.scrollTop+=t,o(a))}t.addEventListener("wheel",function(t){var i=0;if(e.config.mouseScrool==OrgChart.action.yScroll)(i=t.deltaY||t.wheelDeltaY)||(i=t.deltaX||t.wheelDeltaX);else if(e.config.mouseScrool==OrgChart.action.scroll&&!(i=t.shiftKey?t.deltaX||t.wheelDeltaX:t.deltaY||t.wheelDeltaY))return;i=-i,i=Math.max(-1,Math.min(1,i)),e.pos+=-i*r;var o=parseFloat(e.innerBar.clientHeight)-parseFloat(e.bar.clientHeight);e.pos<0&&(e.pos=0),e.pos>o&&(e.pos=o),n||a()},{passive:!0});var o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,20)}}(t,r.speed,r.smooth)}},OrgChart.yScrollUI.prototype.create=function(t){if(this.config.showYScroll===OrgChart.scroll.visible||this.config.mouseScrool===OrgChart.action.scroll||this.config.mouseScrool===OrgChart.action.yScroll){var e=this;this.bar&&this.bar.parentNode.removeChild(this.bar),this.bar=document.createElement("div"),this.config.showYScroll!==OrgChart.scroll.visible&&(this.bar.style.visibility="hidden"),this.innerBar=document.createElement("div"),this.innerBar.innerHTML="&nbsp",Object.assign(this.bar.style,{position:"absolute",right:0,bottom:0,height:t+"px","overflow-y":"scroll",width:"20px"}),this.element.appendChild(this.bar),this.bar.appendChild(this.innerBar),this.bar.addEventListener("scroll",function(){if(this.ignore)this.ignore=!1;else{var t=e.requestParams(),r=(parseFloat(e.innerBar.clientHeight)-parseFloat(e.bar.clientHeight))/100;t.viewBox[1]=this.scrollTop/r*((t.boundary.bottom-t.boundary.top)/100)+t.boundary.top,e.onSetViewBoxCallback(t.viewBox),clearTimeout(this._timeout),this._timeout=setTimeout(function(){e.onDrawCallback()},500)}})}},OrgChart.yScrollUI.prototype.setPosition=function(){if(this.bar){var t=this.requestParams(),e=t.boundary.maxY*t.scale;switch(this.config.orientation){case OrgChart.orientation.bottom:case OrgChart.orientation.bottom_left:e=Math.abs(t.boundary.minY*t.scale);break;case OrgChart.orientation.right:case OrgChart.orientation.right_top:innerWidth=Math.abs(t.boundary.minX*t.scale)}this.innerBar.style.height=e+"px";var r=(t.viewBox[1]-t.boundary.top)/Math.abs((t.boundary.bottom-t.boundary.top)/100);r<0?r=0:r>100&&(r=100);var i=(parseFloat(this.innerBar.clientHeight)-parseFloat(this.bar.clientHeight))/100,n=r*i;this.bar.ignore=!0,this.bar.scrollTop=n,this.pos=this.bar.scrollTop,this.bar.style.visibility=i<=0?"hidden":""}},OrgChart.prototype.zoom=function(t,e,r,i){var n=this.getViewBox().slice(0),a=n,o=n[2],l=n[3];!0===t?(n[2]=n[2]/OrgChart.SCALE_FACTOR,n[3]=n[3]/OrgChart.SCALE_FACTOR):!1===t?(n[2]=n[2]*OrgChart.SCALE_FACTOR,n[3]=n[3]*OrgChart.SCALE_FACTOR):(n[2]=n[2]/t,n[3]=n[3]/t),e||(e=[50,50]),n[0]=a[0]-(n[2]-o)/(100/e[0]),n[1]=a[1]-(n[3]-l)/(100/e[1]);var s=this.getScale(n);if(n[2]=this.width()/s,n[3]=this.height()/s,!0===t&&s<this.config.scaleMax||!1===t&&s>this.config.scaleMin||0!=t&&1!=t&&s<this.config.scaleMax&&s>this.config.scaleMin){this._hideBeforeAnimation();var c=this;r?(clearTimeout(c._timeout),OrgChart.anim(this.getSvg(),{viewbox:this.getViewBox()},{viewbox:n},this.config.anim.duration,this.config.anim.func,function(){clearTimeout(c._timeout),c._timeout=setTimeout(function(){c._draw(!0,OrgChart.action.zoom,null,i)},500)})):(this.setViewBox(n),clearTimeout(c._timeout),c._timeout=setTimeout(function(){c._draw(!0,OrgChart.action.zoom,null,i)},500))}},OrgChart.loading={},OrgChart.loading.show=function(t){var e=document.createElement("div");e.id="boc-loading",e.innerHTML='<style>@-webkit-keyframes dot-keyframes {0% { opacity: .4; -webkit-transform: scale(1, 1);transform: scale(1, 1);}50% {opacity: 1;-webkit-transform: scale(1.2, 1.2);transform: scale(1.2, 1.2);}100% {opacity: .4;-webkit-transform: scale(1, 1);transform: scale(1, 1);}}@keyframes dot-keyframes {0% {opacity: .4;-webkit-transform: scale(1, 1);transform: scale(1, 1);}50% {opacity: 1;-webkit-transform: scale(1.2, 1.2);transform: scale(1.2, 1.2);}100% {opacity: .4;-webkit-transform: scale(1, 1);transform: scale(1, 1);}}.boc-loading-dots div {margin: 10px;}      .boc-dot-1 {background-color: #039BE5;}.boc-dot-2 {background-color: #F57C00;}.boc-dot-3 {background-color: #FFCA28;}      .boc-loading-dots {text-align: center;width: 100%; position: absolute; top: 0;}.boc-loading-dots--dot {-webkit-animation: dot-keyframes 1.5s infinite ease-in-out;animation: dot-keyframes 1.5s infinite ease-in-out;        border-radius: 10px;display: inline-block;height: 10px;width: 10px;}.boc-loading-dots--dot:nth-child(2) {-webkit-animation-delay: .5s;animation-delay: .5s;}.boc-loading-dots--dot:nth-child(3) {-webkit-animation-delay: 1s;animation-delay: 1s;}</style><div class="boc-loading-dots"><div class="boc-loading-dots--dot boc-dot-1"></div><div class="boc-loading-dots--dot boc-dot-2"></div><div class="boc-loading-dots--dot boc-dot-3"></div></div>',t.element.appendChild(e)},OrgChart.loading.hide=function(t){var e=t.element.querySelector("#boc-loading");e&&e.parentNode.removeChild(e)},OrgChart.pdfPrevUI={},OrgChart.loc||(OrgChart.loc={}),OrgChart.loc.ppdfCmdTitle="PDF Preview",OrgChart.loc.ppdfSave="Save",OrgChart.loc.ppdfCancel="Cancel",OrgChart.loc.ppdfFormat="Format",OrgChart.loc.ppdfFitToDrwaing="Fit",OrgChart.loc.ppdfA4="A4",OrgChart.loc.ppdfA3="A3",OrgChart.loc.ppdfA2="A2",OrgChart.loc.ppdfA1="A1",OrgChart.loc.ppdfLetter="Letter",OrgChart.loc.ppdfLegal="Legal",OrgChart.loc.ppdfLayout="Layout",OrgChart.loc.ppdfPortrait="Portrait",OrgChart.loc.ppdfLandscape="Landscape",OrgChart.loc.ppdfFittopagewidth="Fit to page width",OrgChart.loc.ppdfMargin="Margin",OrgChart.loc.ppdfHeader="Header",OrgChart.loc.ppdfFooter="Footer",OrgChart.loc.ppdfScale="Scale",OrgChart.pdfPrevUI.show=function(t,e){e=t._defaultExportOptions(e,"pdf");var r=document.createElement("div");r.classList.add(t.config.mode),r.id="boc-ppdf-btns",Object.assign(r.style,{position:"absolute",top:0,left:0,"background-color":"#fff","z-index":5,margin:"0 0 0 -265px","box-shadow":"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",width:"265px",height:"100%","font-family":"Roboto,Helvetica",color:"#757575","text-align":"right",padding:"10px"}),t.element.appendChild(r),r.innerHTML="<h1>"+OrgChart.loc.ppdfCmdTitle+'</h1><div><button type="button" id="boc-prev-save" style="font-size: 14px; width: 90px;">'+OrgChart.loc.ppdfSave+'</button>&nbsp;<button type="button" id="boc-prev-cancel" style="width: 90px;font-size: 14px;">'+OrgChart.loc.ppdfCancel+'</button></div><div style="margin-top:30px; height:10px;border-bottom:1px solid #eeeeee;"></div><div style="padding-top:30px;"><label for="boc-size">'+OrgChart.loc.ppdfFormat+': </label><select id="boc-ppdf-size" style="color: #757575; width: 150px; font-size: 14px;" id="boc-size"><option value="fit">'+OrgChart.loc.ppdfFitToDrwaing+'</option><option value="A4">'+OrgChart.loc.ppdfA4+'</option><option value="A3">'+OrgChart.loc.ppdfA3+'</option><option value="A2">'+OrgChart.loc.ppdfA2+'</option><option value="A1">'+OrgChart.loc.ppdfA1+'</option><option value="Letter">'+OrgChart.loc.ppdfLetter+'</option><option value="Legal">'+OrgChart.loc.ppdfLegal+'</option></select></div><div style="padding-top:10px;"><label for="boc-ppdf-layout">'+OrgChart.loc.ppdfLayout+': </label><select id="boc-ppdf-layout" style="color: #757575; width: 150px;font-size: 14px;" ><option value="false">'+OrgChart.loc.ppdfPortrait+'</option><option value="true">'+OrgChart.loc.ppdfLandscape+'</option></select></div><div style="padding-top:10px;"><label for="boc-scale">'+OrgChart.loc.ppdfScale+': </label><select id="boc-ppdf-scale" style="color: #757575; width: 150px;font-size: 14px;" id="boc-scale"><option value="fit">'+OrgChart.loc.ppdfFittopagewidth+'</option><option value="10">10%</option><option value="20">20%</option><option value="30">30%</option><option value="40">40%</option><option value="50">50%</option><option value="60">60%</option><option value="70">70%</option><option value="80">80%</option><option value="90">90%</option><option value="100">100%</option><option value="110">110%</option><option value="120">120%</option><option value="130">130%</option><option value="140">140%</option><option value="150">150%</option><option value="160">160%</option><option value="170">170%</option><option value="180">180%</option><option value="190">190%</option><option value="200">200%</option></select></div><div style="margin-top:10px;margin-bottom:10px; height:10px;border-bottom:1px solid #eeeeee;"></div><div style="padding-top:10px;"><label for="boc-ppdf-header">'+OrgChart.loc.ppdfHeader+': </label><input id="boc-ppdf-header" type="text" style="color: #757575; width: 100px;font-size: 14px;" ></div><div style="padding-top:10px;"><label for="boc-ppdf-footer">'+OrgChart.loc.ppdfFooter+': </label><input id="boc-ppdf-footer" type="text" style="color: #757575; width: 100px;font-size: 14px;" ></div><div style="padding-top:10px;"><label for="boc-ppdf-margin">'+OrgChart.loc.ppdfMargin+': </label><input id="boc-ppdf-margin" type="text" style="color: #757575; width: 100px;font-size: 14px;" ></div>';var i=document.createElement("div");i.id="boc-ppdf-wrapper",Object.assign(i.style,{"overflow-y":"scroll","z-index":11,position:"absolute",top:0,left:"285px","background-color":"#eee",width:t.width()-270+"px",height:"100%"}),t.element.appendChild(i),i.innerHTML='<div id="boc-ppdf-content" style="width: 100%;margin-top:10px;margin-bottom:10px;opacity:0;"></div>';var n,a,o,l=t.element.querySelector("#boc-ppdf-size"),s=t.element.querySelector("#boc-ppdf-layout"),c=t.element.querySelector("#boc-ppdf-scale"),h=t.element.querySelector("#boc-ppdf-margin"),d=t.element.querySelector("#boc-ppdf-header"),p=t.element.querySelector("#boc-ppdf-footer");l.value=e.format,s.value=e.landscape,c.value=e.scale,h.value=e.margin,d.value=e.header,p.value=e.footer,OrgChart.anim(t.element.querySelector("#boc-ppdf-btns"),{margin:[0,0,0,-250]},{margin:[0,0,0,0]},300,OrgChart.anim.outSin,function(){t.exportPDF(e,OrgChart.pdfPrevUI._handler)}),t.element.querySelector("#boc-prev-cancel").addEventListener("click",function(){OrgChart.pdfPrevUI.hide(t)}),t.element.querySelector("#boc-prev-save").addEventListener("click",function(){t.exportPDF(e),OrgChart.pdfPrevUI.hide(t)}),OrgChart.pdfPrevUI._showHide(l,s,c),l.addEventListener("change",function(){OrgChart.anim(t.element.querySelector("#boc-ppdf-content"),{opacity:1},{opacity:0},300,OrgChart.anim.inSin,function(){t.element.querySelector("#boc-ppdf-content").innerHTML="",e.format=l.value,t.exportPDF(e,OrgChart.pdfPrevUI._handler),OrgChart.pdfPrevUI._showHide(l,s,c)})}),s.addEventListener("change",function(){OrgChart.anim(t.element.querySelector("#boc-ppdf-content"),{opacity:1},{opacity:0},300,OrgChart.anim.inSin,function(){t.element.querySelector("#boc-ppdf-content").innerHTML="",e.landscape="true"==s.value,t.exportPDF(e,OrgChart.pdfPrevUI._handler),OrgChart.pdfPrevUI._showHide(l,s,c)})}),c.addEventListener("change",function(){OrgChart.anim(t.element.querySelector("#boc-ppdf-content"),{opacity:1},{opacity:0},300,OrgChart.anim.inSin,function(){t.element.querySelector("#boc-ppdf-content").innerHTML="",e.scale=c.value,t.exportPDF(e,OrgChart.pdfPrevUI._handler),OrgChart.pdfPrevUI._showHide(l,s,c)})}),h.addEventListener("keyup",function(){clearTimeout(n),n=setTimeout(function(){OrgChart.anim(t.element.querySelector("#boc-ppdf-content"),{opacity:1},{opacity:0},300,OrgChart.anim.inSin,function(){t.element.querySelector("#boc-ppdf-content").innerHTML="";var r=h.value.split(",");if(4==r.length){for(var i=0;i<r.length;i++)r[i]=parseInt(r[i]);e.margin=r,t.exportPDF(e,OrgChart.pdfPrevUI._handler)}})},1e3)}),d.addEventListener("keyup",function(){clearTimeout(a),a=setTimeout(function(){OrgChart.anim(t.element.querySelector("#boc-ppdf-content"),{opacity:1},{opacity:0},300,OrgChart.anim.inSin,function(){t.element.querySelector("#boc-ppdf-content").innerHTML="",e.header=d.value,t.exportPDF(e,OrgChart.pdfPrevUI._handler)})},1e3)}),p.addEventListener("keyup",function(){clearTimeout(o),o=setTimeout(function(){OrgChart.anim(t.element.querySelector("#boc-ppdf-content"),{opacity:1},{opacity:0},300,OrgChart.anim.inSin,function(){t.element.querySelector("#boc-ppdf-content").innerHTML="",e.footer=p.value,t.exportPDF(e,OrgChart.pdfPrevUI._handler)})},1e3)})},OrgChart.pdfPrevUI._showHide=function(t,e,r){"A4"==t.value||"A3"==t.value||"A2"==t.value||"A1"==t.value||"Letter"==t.value||"Legal"==t.value?(e.parentNode.style.display="block",r.parentNode.style.display="block"):(e.parentNode.style.display="none",r.parentNode.style.display="none")},OrgChart.pdfPrevUI._handler=function(t,e,r){var i=e.options,n=e.pages,a=i.margin[0],o=i.margin[2],l=document.createElement("div");l.classList.add(t.config.mode),l.innerHTML=r.outerHTML,OrgChart._browser().msie&&(l.innerHTML=(new XMLSerializer).serializeToString(r));for(var s=l.querySelector("svg"),c=t.element.querySelector("#boc-ppdf-content"),h=0;h<n.length;h++){var d=document.createElement("iframe");Object.assign(d.style,{display:"block",margin:"10px auto",border:"1px solid #eeeeee","box-shadow":"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"}),c.appendChild(d),d.style.backgroundColor=s&&s.style.backgroundColor?s.style.backgroundColor:"#fff";var p=d.contentWindow.document;p.open(),d.style.width=n[h].size.w+"px",d.style.height=n[h].size.h+"px",d.style.margin="10 auto",n[h].backgroundColor&&(d.style.backgroundColor=n[h].backgroundColor);var u=i.header;n[h].header&&(u=n[h].header),u&&(u=u.replace("{current-page}",h+1).replace("{total-pages}",n.length));var g=i.footer;n[h].footer&&(g=n[h].footer),g&&(g=g.replace("{current-page}",h+1).replace("{total-pages}",n.length)),n[h].html?p.write(OrgChart._exportHtml(n[h].html,e.styles,i,n[h].innerSize.w,n[h].innerSize.h,u,g,t.config.mode)):(s.setAttribute("viewBox",n[h].vb),p.write(OrgChart._exportHtml(l.innerHTML,e.styles,i,n[h].innerSize.w,n[h].innerSize.h,u,g,t.config.mode)));var f=p.getElementById("boc-header"),m=p.getElementById("boc-footer");f&&(f.style.top=a-f.offsetHeight-7+"px"),m&&(m.style.bottom=o-m.offsetHeight-7+"px"),p.close()}var v=t.element.querySelector("#boc-ppdf-content");OrgChart.anim(v,{opacity:0},{opacity:1},300,OrgChart.anim.outSin)},OrgChart.pdfPrevUI._getViewBox=function(t){var e=null;return t?(e=(e="["+(e=t.getAttribute("viewBox"))+"]").replace(/\ /g,","),e=JSON.parse(e)):null},OrgChart._exportHtml=function(t,e,r,i,n,a,o,l){for(var s="",c=0;c<r.margin.length;c++)s+=r.margin[c]+"px ";var h='<!DOCTYPE html><html style="margin:0;padding:0;"><head></head>'+e+'<body class="'+l+'" style="margin:0; padding:0;"><div style="margin: '+s+";overflow:hidden;width:"+i+"px;height:"+n+'px">';return a&&(h+='<div id="boc-header" style="width:'+i+"px;color:#757575;position:absolute;left:"+r.margin[3]+'px;top:0;">'+a+"</div>"),h+=t,o&&(h+='<div id="boc-footer" style="width:'+i+"px;color:#757575;position:absolute;left:"+r.margin[3]+'px;bottom:0;">'+o+"</div>"),(h+="</div>")+"</body></html>"},OrgChart.pdfPrevUI.hide=function(t){var e=t.element.querySelector("#boc-ppdf-wrapper");e&&OrgChart.anim(e,{opacity:1},{opacity:0},300,OrgChart.anim.inSin,function(){e.parentNode.removeChild(e);var r=t.element.querySelector("#boc-ppdf-btns");OrgChart.anim(r,{margin:[0,0,0,0]},{margin:[0,0,0,-280]},300,OrgChart.anim.inSin,function(){r.parentNode.removeChild(r)})})},void 0===OrgChart&&(OrgChart={}),OrgChart.events.on("renderdefs",function(t,e){for(var r=0;r<t.config.clinks.length;r++){var i=t.config.clinks[r].template;i||(i="orange"),e.defs+=OrgChart.clinkTemplates[i].defs}}),OrgChart.events.on("render",function(t,e){t._clink(t,e)}),OrgChart.prototype._clink=function(t,e){for(var r,i,n,a="",o=0;o<this.config.clinks.length;o++){var l=this.config.clinks[o],s=t.getNode(l.from),c=t.getNode(l.to);if(s&&-1!=e.res.visibleNodeIds.indexOf(s.id)&&c&&-1!=e.res.visibleNodeIds.indexOf(c.id)){var h=s.x,d=s.y,p=c.x,u=c.y,g={},f={},m=h+s.w/2,v=p+c.w/2,b=d+s.h/2,C=u+c.h/2,y=1;switch(this.config.orientation){case OrgChart.orientation.top:case OrgChart.orientation.top_left:m<=v?(y=1,g.x=m+s.w/10,f.x=v-c.w/10):(y=-1,g.x=m-s.w/10,f.x=v+c.w/10),d==u?(y=1,g.y=d,f.y=u):d>u?(g.y=d,f.y=u+c.h):(g.y=d+s.h,f.y=u);break;case OrgChart.orientation.bottom:case OrgChart.orientation.bottom_left:m<=v?(y=-1,g.x=m+s.w/10,f.x=v+c.w/10):(y=1,g.x=m-s.w/10,f.x=v+c.w/10),d==u?(y=-1,g.y=d+s.h,f.y=u+c.h):d>u?(g.y=d,f.y=u+c.h):(g.y=d+s.h,f.y=u);break;case OrgChart.orientation.left:case OrgChart.orientation.left_top:b<=C?(y=-1,g.y=b+s.h/5,f.y=C+c.h/5):(y=1,g.y=b-s.h/5,f.y=C+c.h/5),h==p?(y=-1,g.x=h,f.x=p):h>p?(g.x=h,f.x=p+c.w):(g.x=h+s.w,f.x=p);break;case OrgChart.orientation.right:case OrgChart.orientation.right_top:b<=C?(y=1,g.y=b+s.h/5,f.y=C+c.h/5):(y=-1,g.y=b-s.h/5,f.y=C+c.h/5),h==p?(y=1,g.x=h+s.w,f.x=p+c.w):h>p?(g.x=h,f.x=p+c.w):(g.x=h+s.w,f.x=p)}var x=S(g,f,y),O=l.template;O||(O="orange");var w=OrgChart.clinkTemplates[O],_={x:(((i=f).x-(r=g).x)/2+r.x-(n=x).x)/2+n.x,y:((i.y-r.y)/2+r.y-n.y)/2+n.y};l.label&&(a+=w.label.replace("{x}",_.x).replace("{y}",_.y).replace("{val}",l.label));var k="M"+g.x+","+g.y+"C"+g.x+","+g.y+" "+x.x+","+x.y+" "+f.x+","+f.y;a+=("<g "+OrgChart.attr.c_link_from+'="{from}" '+OrgChart.attr.c_link_to+'="{to}">').replace("{from}",s.id).replace("{to}",c.id)+w.link.replaceAll("{d}",k)+'<path stroke="transparent" stroke-width="15" fill="none" d="'+k+'" />',a+=OrgChart.grCloseTag}function S(t,e,r){null==r&&(r=1);var i=e.x-t.x,n=e.y-t.y,a=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))/3;return a=a/(Math.sqrt(i*i+n*n)*r)*OrgChart.CLINK_CURVE,{x:t.x+i/2-n*a,y:t.y+n/2+i*a}}}e.content+=a},OrgChart.prototype.addClink=function(t,e,r,i){return this.removeClink(t,e),this.config.clinks.push({from:t,to:e,label:r,template:i}),this},OrgChart.prototype.removeClink=function(t,e){for(var r=this.config.clinks.length-1;r>=0;r--){var i=this.config.clinks[r];i.from==t&&i.to==e&&this.config.clinks.splice(r,1)}return this},OrgChart.clinkTemplates={},OrgChart.clinkTemplates.orange={defs:'<marker id="arrowOrange" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#F57C00" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotOrange" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#F57C00" /></marker>',link:'<path marker-start="url(#dotOrange)" marker-end="url(#arrowOrange)" stroke="#F57C00" stroke-width="2" fill="none" d="{d}" />',label:'<text fill="#F57C00" text-anchor="middle" x="{x}" y="{y}">{val}</text>'},OrgChart.clinkTemplates.blue={defs:'<marker id="arrowBlue" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#039BE5" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotBlue" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#039BE5" /></marker>',link:'<path marker-start="url(#dotBlue)" marker-end="url(#arrowBlue)" stroke="#039BE5" stroke-width="2" fill="none" d="{d}" />',label:'<text fill="#039BE5"  text-anchor="middle" x="{x}" y="{y}">{val}</text>'},OrgChart.clinkTemplates.yellow={defs:'<marker id="arrowYellow" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#FFCA28" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotYellow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#FFCA28" /></marker>',link:'<path marker-start="url(#dotYellow)" marker-end="url(#arrowYellow)" stroke="#FFCA28" stroke-width="2" fill="none" d="{d}" />',label:'<text fill="#FFCA28"  text-anchor="middle" x="{x}" y="{y}">{val}</text>'},void 0===OrgChart&&(OrgChart={}),OrgChart.events.on("renderdefs",function(t,e){for(var r=0;r<t.config.slinks.length;r++){var i=t.config.slinks[r].template;i||(i="orange"),e.defs+=OrgChart.slinkTemplates[i].defs}}),OrgChart.events.on("render",function(t,e){t._slinks(t,e)}),OrgChart.prototype._slinks=function(t,e){var r="",i=this.getScale(),n=e.res.boundary;function a(e,a,o){var s=[],c=null,h="left",d=t._layoutConfigs[e.lcn?e.lcn:"base"];switch(d.orientation){case OrgChart.orientation.top:case OrgChart.orientation.top_left:case OrgChart.orientation.bottom:case OrgChart.orientation.bottom_left:a.x>e.x&&(h="right");break;case OrgChart.orientation.left:case OrgChart.orientation.left_top:case OrgChart.orientation.right:case OrgChart.orientation.right_top:h="top",a.y>e.y&&(h="bottom")}var p=OrgChart.t(e.templateName,e.min,i),u=d.levelSeparation;(e.parent&&e.parent.layout==OrgChart.mixed||e.parent&&e.parent.layout==OrgChart.tree)&&(u=d.mixedHierarchyNodesSeparation);var g={p:e.x+e.w/2+p.expandCollapseSize,q:e.y,r:e.x+e.w/2+p.expandCollapseSize,s:n.minY+u};if(e.level==a.level)switch(c=a,d.orientation){case OrgChart.orientation.top:case OrgChart.orientation.top_left:s.push([g.p,g.q]),s.push([g.p,g.q-u/3]),p=OrgChart.t(c.templateName,c.min,i),s.push([c.x+c.w/2+p.expandCollapseSize,s[s.length-1][1]]),s.push([s[s.length-1][0],c.y]);break;case OrgChart.orientation.bottom:case OrgChart.orientation.bottom_left:g.q=e.y+e.h,g.s=n.maxY-u,s.push([g.p,g.q]),s.push([g.r,e.y+e.h+u/3]),p=OrgChart.t(c.templateName,c.min,i),s.push([c.x+c.w/2+p.expandCollapseSize,s[s.length-1][1]]),s.push([s[s.length-1][0],c.y+c.h]);break;case OrgChart.orientation.left:case OrgChart.orientation.left_top:g.p=e.x,g.q=e.y+e.h/2+p.expandCollapseSize,g.r=n.minX-u,g.s=e.y+e.h/2+p.expandCollapseSize,s.push([g.p,g.q]),s.push([e.x-u/3,g.q]),p=OrgChart.t(c.templateName,c.min,i),s.push([s[s.length-1][0],c.y+c.h/2+p.expandCollapseSize]),s.push([c.x,s[s.length-1][1]]);break;case OrgChart.orientation.right:case OrgChart.orientation.right_top:g.p=e.x+e.w,g.q=e.y+e.h/2+p.expandCollapseSize,g.r=n.maxX+u,g.s=e.y+e.h/2+p.expandCollapseSize,s.push([g.p,g.q]),s.push([e.x+e.w+u/3,g.q]),p=OrgChart.t(c.templateName,c.min,i),s.push([s[s.length-1][0],c.y+c.h/2+p.expandCollapseSize]),s.push([c.x+c.w,s[s.length-1][1]])}else{switch(d.orientation){case OrgChart.orientation.top:case OrgChart.orientation.top_left:s.push([g.p,g.q]),s.push([g.r,e.y-u/3]);break;case OrgChart.orientation.bottom:case OrgChart.orientation.bottom_left:g.q=e.y+e.h,g.s=n.maxY-u,s.push([g.p,g.q]),s.push([g.r,e.y+e.h+u/3]);break;case OrgChart.orientation.left:case OrgChart.orientation.left_top:g.p=e.x,g.q=e.y+e.h/2+p.expandCollapseSize,g.r=n.minX-u,g.s=e.y+e.h/2+p.expandCollapseSize,s.push([g.p,g.q]),s.push([e.x-u/3,g.q]);break;case OrgChart.orientation.right:case OrgChart.orientation.right_top:g.p=e.x+e.w,g.q=e.y+e.h/2+p.expandCollapseSize,g.r=n.maxX+u,g.s=e.y+e.h/2+p.expandCollapseSize,s.push([g.p,g.q]),s.push([e.x+e.w+u/3,g.q])}for(var f=e;null==c;){var m=!1,v=f.parent,b=v.leftNeighbor,C=v.rightNeighbor;if(v.id==a.id?c=v:OrgChart._intersects(v,g,t.config)&&(g=OrgChart._addPoint(v,s,t.config,g,h),m=!0),v.id!=a.id){for(;b;){if(b.id==a.id){c=b;break}OrgChart._intersects(b,g,t.config)&&(g=OrgChart._addPoint(b,s,t.config,g,h),m=!0),b=b.leftNeighbor}for(;C;){if(C.id==a.id){c=C;break}OrgChart._intersects(C,g,t.config)&&(g=OrgChart._addPoint(C,s,t.config,g,h),m=!0),C=C.rightNeighbor}}if(!m){var y=s[s.length-1][0],x=0;if(v.parent)switch(u=d.levelSeparation,v.parent.layout!=OrgChart.mixed&&v.parent.layout!=OrgChart.tree||(u=d.mixedHierarchyNodesSeparation),d.orientation){case OrgChart.orientation.top:case OrgChart.orientation.top_left:x=v.parent.y+v.parent.h+u*(2/3);break;case OrgChart.orientation.bottom:case OrgChart.orientation.bottom_left:x=v.parent.y-u*(2/3);break;case OrgChart.orientation.left:case OrgChart.orientation.left_top:y=v.parent.x+v.parent.w+u*(2/3),x=s[s.length-1][1];break;case OrgChart.orientation.right:case OrgChart.orientation.right_top:y=v.parent.x-u*(2/3),x=s[s.length-1][1]}s.push([y,x])}f=v}switch(p=OrgChart.t(c.templateName,c.min,i),s.splice(s.length-1,1),d.orientation){case OrgChart.orientation.top:case OrgChart.orientation.top_left:s.push([c.x+c.w/2+p.expandCollapseSize,s[s.length-1][1]]),s.push([s[s.length-1][0],c.y+c.h]);break;case OrgChart.orientation.bottom:case OrgChart.orientation.bottom_left:s.push([c.x+c.w/2+p.expandCollapseSize,s[s.length-1][1]]),s.push([s[s.length-1][0],c.y]);break;case OrgChart.orientation.left:case OrgChart.orientation.left_top:s.push([s[s.length-1][0],c.y+c.h/2+p.expandCollapseSize]),s.push([c.x+c.w,s[s.length-1][1]]);break;case OrgChart.orientation.right:case OrgChart.orientation.right_top:s.push([s[s.length-1][0],c.y+c.h/2+p.expandCollapseSize]),s.push([c.x,s[s.length-1][1]])}}var O=l.template;O||(O="orange");var w,_,k=null;switch((p=OrgChart.slinkTemplates[O]).labelPosition){case"start":k={x:s[1][0],y:s[1][1]};break;case"middle":var S=Math.ceil(s.length/2);k={x:((w=s[S])[0]+(_=s[S-1])[0])/2,y:(w[1]+_[1])/2};break;case"end":k={x:s[s.length-2][0],y:s[s.length-2][1]}}o&&(s=s.reverse()),s[0]="M"+s[0].join(",");for(var A=1;A<s.length;A++)s[A]="L"+s[A].join(",");var N=s.join(" ");if(l.label){var E=p.label.replace("{x}",k.x).replace("{y}",k.y).replace("{val}",l.label),I=OrgChart._getLabelSize(E),L=-I.height/2;switch(d.orientation){case OrgChart.orientation.bottom:case OrgChart.orientation.bottom_left:L=I.height}r+=p.label.replace("{x}",k.x).replace("{y}",k.y+L).replace("{val}",l.label)}r+=("<g "+OrgChart.attr.s_link_from+'="{from}" '+OrgChart.attr.s_link_to+'="{to}">').replace("{from}",e.id).replace("{to}",a.id)+p.link.replaceAll("{d}",N)+'<path stroke="transparent" stroke-width="15" fill="none" d="'+N+'" />',r+=OrgChart.grCloseTag}for(var o=0;o<this.config.slinks.length;o++){var l=this.config.slinks[o],s=t.getNode(l.from),c=t.getNode(l.to);s&&c&&-1!=e.res.visibleNodeIds.indexOf(c.id)&&-1!=e.res.visibleNodeIds.indexOf(s.id)&&(s.level>=c.level?a(s,c,!1):a(c,s,!0))}e.content+=r},OrgChart.prototype.addSlink=function(t,e,r,i){return this.removeClink(t,e),this.config.slinks.push({from:t,to:e,label:r,template:i}),this},OrgChart.prototype.removeSlink=function(t,e){for(var r=this.config.slinks.length-1;r>=0;r--){var i=this.config.slinks[r];i.from==t&&i.to==e&&this.config.slinks.splice(r,1)}return this},OrgChart.slinkTemplates={},OrgChart.slinkTemplates.orange={defs:'<marker id="arrowSlinkOrange" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#F57C00" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotSlinkOrange" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#F57C00" /></marker>',link:'<path stroke-dasharray="4, 2" marker-start="url(#dotSlinkOrange)" marker-end="url(#arrowSlinkOrange)" stroke-linejoin="round" stroke="#F57C00" stroke-width="2" fill="none" d="{d}" />',label:'<text dominant-baseline="middle" fill="#F57C00" alignment-baseline="middle" text-anchor="middle" x="{x}" y="{y}">{val}</text>',labelPosition:"middle"},OrgChart.slinkTemplates.blue={defs:'<marker id="arrowSlinkBlue" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#039BE5" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotSlinkBlue" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#039BE5" /></marker>',link:'<path stroke-dasharray="4, 2" marker-start="url(#dotSlinkBlue)" marker-end="url(#arrowSlinkBlue)" stroke-linejoin="round" stroke="#039BE5" stroke-width="2" fill="none" d="{d}" />',label:'<text fill="#039BE5" text-anchor="middle" x="{x}" y="{y}">{val}</text>',labelPosition:"middle"},OrgChart.slinkTemplates.yellow={defs:'<marker id="arrowSlinkYellow" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#FFCA28" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotSlinkYellow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#FFCA28" /></marker>',link:'<path stroke-dasharray="4, 2" marker-start="url(#dotSlinkYellow)" marker-end="url(#arrowSlinkYellow)" stroke-linejoin="round" stroke="#FFCA28" stroke-width="2" fill="none" d="{d}" />',label:'<text  fill="#FFCA28" text-anchor="middle" x="{x}" y="{y}">{val}</text>',labelPosition:"middle"},OrgChart.events.on("redraw",function(t,e){if(t.config.miniMap){var r=OrgChart.miniMap._getCanvas(t),i=r.getContext("2d");r.width=r.width,r.height=r.height;var n=t.response.boundary.maxX-t.response.boundary.minX,a=t.response.boundary.maxY-t.response.boundary.minY,o=Math.min(r.width/n,r.height/a),l=(r.width-n*o)/2,s=(r.height-a*o)/2;i.clearRect(0,0,r.width,r.height),i.translate(-t.response.boundary.minX*o+l,-t.response.boundary.minY*o+s),i.scale(o,o);var c=0,h=[];!function t(e,r){if(Array.isArray(r))for(var n=0;n<r.length;n++)t(e,r[n]);else{for(i.fillStyle=OrgChart.miniMap.colors[3],i.beginPath(),i.lineWidth="0.5",i.fillRect(r.x,r.y,r.w,r.h),i.strokeRect(r.x,r.y,r.w,r.h),n=0;n<r.stChildrenIds.length;n++)c++,h.includes(r.id)||(1==c?i.fillStyle=OrgChart.miniMap.colors[0]:2==c?i.fillStyle=OrgChart.miniMap.colors[1]:3==c&&(i.fillStyle=OrgChart.miniMap.colors[2]),i.beginPath(),i.fillRect(r.x,r.y,r.w,r.h),i.strokeRect(r.x,r.y,r.w,r.h),h.push(r.id)),t(e,e.getNode(r.stChildrenIds[n])),c--;for(n=0;n<r.childrenIds.length;n++)t(e,e.getNode(r.childrenIds[n]))}}(t,t.roots);var d=t.getViewBox()[0],p=t.getViewBox()[1],u=t.getViewBox()[2],g=t.getViewBox()[3];i.lineWidth=.5/o,i.strokeStyle="#f57c00",i.strokeRect(d,p,u,g),i.globalAlpha=.4,i.fillStyle=OrgChart.miniMap.selectorBackgroundColor,i.fillRect(d,p,u,g)}}),OrgChart.miniMap={},OrgChart.miniMap._getCanvas=function(t){if(!(e=t.element.querySelector("["+OrgChart.attr.id+'="mini-map"]'))){var e;(e=document.createElement("canvas")).width=250,e.height=140,e.setAttribute(OrgChart.attr.id,"mini-map"),e.style.display="inline-block",e.style.backgroundColor=OrgChart.miniMap.backgroundColor;var r=document.createElement("div");r.classList.add("mini-map"),r.style.position="absolute",r.style.bottom="10px",r.style.left="10px",r.style.border="1px solid #aeaeae",r.style.padding="5px",r.style.margin=t.config.padding+"px",r.style.backgroundColor=OrgChart.miniMap.backgroundColor,r.appendChild(e),t.element.appendChild(r)}return e},OrgChart.miniMap.colors=["#E0E0E0","#BDBDBD","#9E9E9E","#757575"],OrgChart.miniMap.selectorBackgroundColor="white",OrgChart.miniMap.backgroundColor="white",OrgChart._search={},OrgChart._search.search=function(t,e,r,i,n,a){var o=[],l=e.toLowerCase().split(" ");l=l.filter(function(t,e,r){return r.indexOf(t)===e});for(var s={},c=0;c<t.length;c++)for(var h=t[c],d=0;d<r.length;d++){var p=r[d];if(!OrgChart.isNEU(h[p])&&null!=(e=OrgChart._search.searchAndComputeScore(l,h[p],p,a))){var u=h.id;if(s[u]){if(s[u]&&s[u]<e.__score){s[u]=e.__score;for(var g=o.length-1;g>=0;g--)o[g].id==u&&o.splice(g,1);OrgChart._search.addNodeToResult(o,i,h,e,p,n)}}else s[u]=e.__score,OrgChart._search.addNodeToResult(o,i,h,e,p,n)}}return o.sort(function(t,e){return t.__score<e.__score?1:t.__score>e.__score?-1:0}),o},OrgChart._search.addNodeToResult=function(t,e,r,i,n,a){var o={};o.id=r.id,OrgChart.isNEU(r[a])||(o[a]=r[a]);for(var l=0;l<e.length;l++){var s=e[l];OrgChart.isNEU(r[s])||OrgChart.isNEU(o[s])&&(o[s]=r[s])}null!=i&&(OrgChart.isNEU(o.__score)&&(o.__score=i.__score),OrgChart.isNEU(o.__searchField)&&(o.__searchField=n),OrgChart.isNEU(o.__searchMarks)&&(o.__searchMarks=i.__searchMarks)),t.push(o)},OrgChart._search.searchAndComputeScore=function(t,e,r,i){if(OrgChart.isNEU(e))return null;if(OrgChart.isNEU(t))return null;if(!t.length)return null;"string"!=typeof e&&(e=e.toString());var n=e.toLowerCase(),a=OrgChart._search.searchIndexesOf(n,t);if(!a.length)return null;var o=n.length/100,l=0,s=0,c=l>0?100:0;if(a.length){s=a[0].start;for(var h=0;h<a.length;h++)if(l+=a[h].length,a[h].start<s&&(s=a[h].start),h>=1&&a[h-1].start>a[h].start){c=0;break}}var d=0;0!=l&&(d=l/o);var p=l>0?100:0;0!=s&&(p=100-s/o);var u=0;i&&i[r]&&(u=i[r]),d>0&&(d=d/100*20),p>0&&(p=p/100*20),c>0&&(c=c/100*20),u>0&&(u=u/100*40);var g=parseInt(d+p+c+u);g>100&&(g=100),a.sort(function(t,e){return t.start<e.start?-1:t.start>e.start?1:0});var f=e;for(h=a.length-1;h>=0;h--)f=(f=f.insert(a[h].start+a[h].length,"</mark>")).insert(a[h].start,"<mark>");return{__searchMarks:f,__score:g}},OrgChart._search.searchIndexesOf=function(t,e){var r=[];if(!OrgChart.isNEU(t))for(var i=0;i<e.length;i++){var n=e[i];if(!OrgChart.isNEU(n))for(var a=0;(a=t.indexOf(n,a))>-1;)r.push({length:n.length,start:a}),a+=n.length}return r.sort(function(t,e){return t.length<e.length?1:t.length>e.length||t.start<e.start?-1:t.start>e.start?1:0}),r=r.filter(function(t){for(var e=!1,i=0;i<r.length;i++){var n=r[i].start,a=r[i].start+r[i].length-1,o=t.start,l=t.start+t.length-1;if(n==o&&a==l){e=!1;break}if(n>=o&&a<=l){e=!0;break}if(n<=o&&a>=l){e=!0;break}}return!e})},OrgChart.events.on("redraw",function(t,e){if(t.config.state){var r=[],i=[];!function t(e){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else{for(("string"!=typeof e.id||"string"==typeof e.id&&-1==e.id.indexOf("split")&&-1==e.id.indexOf("mirror"))&&(r.push(e.id),1==e.min&&i.push(e.id)),n=0;n<e.stChildren.length;n++)t(e.stChildren[n]);for(n=0;n<e.children.length;n++)t(e.children[n])}}(t.roots),OrgChart.state._put(t.width(),t.height(),t.response.viewBox,r,i,t.response.adjustify,t.config.state)}}),OrgChart.state={},OrgChart.state._buildStateNames=function(t){return{paramScale:t+"-scale",paramX:t+"-x",paramY:t+"-y",paramExp:t+"-exp",paramMin:t+"-min",paramAdjustify:t+"-adjustify"}},OrgChart.state._put=function(t,e,r,i,n,a,o){if(o){var l=OrgChart.state._buildStateNames(o.name),s={scale:Math.min(t/r[2],e/r[3]),x:r[0],y:r[1],exp:i,min:n,adjustify:a};if(o.writeToUrlParams){var c=new URLSearchParams(window.location.search);c.has(l.paramScale)?c.set(l.paramScale,s.scale):c.append(l.paramScale,s.scale),c.has(l.paramX)?c.set(l.paramX,s.x):c.append(l.paramX,s.x),c.has(l.paramY)?c.set(l.paramY,s.y):c.append(l.paramY,s.y),c.has(l.paramExp)?c.set(l.paramExp,s.exp.join("*")):c.append(l.paramExp,s.exp.join("*")),c.has(l.paramMin)?c.set(l.paramMin,s.min.join("*")):c.append(l.paramMin,s.min.join("*")),c.has(l.paramAdjustify)?c.set(l.paramAdjustify,s.adjustify.x+"*"+s.adjustify.y):c.append(l.paramAdjustify,s.adjustify.x+"*"+s.adjustify.y),window.history.replaceState(null,null,"?"+c)}o.writeToIndexedDB&&(s.id=o.name,OrgChart.idb.put(s,function(t){0==t&&console.error("Cannot write row - "+o.name)})),o.writeToLocalStorage&&OrgChart.localStorage.setItem(o.name,JSON.stringify(s))}},OrgChart.state._get=function(t,e,r,i){if(t){var n=OrgChart.state._buildStateNames(t.name);if(t.readFromUrlParams){var a=new URLSearchParams(window.location.search);if(a.has(n.paramScale)&&a.has(n.paramX)&&a.has(n.paramY)&&a.has(n.paramExp)&&a.has(n.paramMin)&&a.has(n.paramAdjustify)){var o={},l=parseFloat(a.get(n.paramScale)),s=parseFloat(a.get(n.paramX)),c=parseFloat(a.get(n.paramY));(d=[])[0]=s,d[1]=c,d[2]=e/l,d[3]=r/l,o.vb=d,o.scale=l,o.x=s,o.y=c,o.exp=a.get(n.paramExp).split("*"),o.min=a.get(n.paramMin).split("*");var h=a.get(n.paramAdjustify).split("*");return o.adjustify={x:parseFloat(h[0]),y:parseFloat(h[1])},void i(o)}if(!t.readFromIndexedDB&&!t.readFromLocalStorage)return void i(null)}if(t.readFromLocalStorage){var d;if(null!=(o=OrgChart.localStorage.getItem(t.name)))return o=JSON.parse(o),(d=[])[0]=o.x,d[1]=o.y,d[2]=e/o.scale,d[3]=r/o.scale,o.vb=d,void i(o);if(!t.readFromIndexedDB)return void i(null)}t.readFromIndexedDB&&OrgChart.idb.read(t.name,function(n,a){if(0==n)console.error("Cannot read from - "+t.name),i(null);else if(null==n)i(null);else{var o=[];o[0]=a.x,o[1]=a.y,o[2]=e/a.scale,o[3]=r/a.scale,a.vb=o,i(a)}})}else i(null)},OrgChart.state.clear=function(t){if(!t)return!1;var e=OrgChart.state._buildStateNames(t),r=new URLSearchParams(window.location.search);r.has(e.paramScale)&&r.delete(e.paramScale),r.has(e.paramX)&&r.delete(e.paramX),r.has(e.paramY)&&r.delete(e.paramY),r.has(e.paramExp)&&r.delete(e.paramExp),r.has(e.paramMin)&&r.delete(e.paramMin),r.has(e.paramAdjustify)&&r.delete(e.paramAdjustify),window.history.replaceState(null,null,"?"+r),OrgChart.idb.delete(t,function(e){0==e&&console.error("Cannot delete row - "+t)})},OrgChart._magnify={},OrgChart.prototype.magnify=function(t,e,r,i,n){i||(i=this.config.anim);var a=this.getNode(t),o=this.getNodeElement(t);if(a||o){var l=OrgChart._magnify[t];l&&(null!=l.timer&&clearInterval(l.timer),null!=l.timerBack&&clearInterval(l.timerBack),o.setAttribute("transform","matrix("+l.transformStart.toString()+")")),r&&(o=o.cloneNode(!0),this.getSvg().appendChild(o));var s=OrgChart._getTransform(o),c=JSON.parse(JSON.stringify(s));c[0]=e,c[3]=e;var h=a.h+a.h*(e-1);c[4]+=(a.w-(a.w+a.w*(e-1)))/2,c[5]+=(a.h-h)/2;var d=OrgChart.anim(o,{transform:s},{transform:c},i.duration,i.func);OrgChart._magnify[t]={timer:d,transformStart:s,nodeElement:o,front:r},n&&n(o)}},OrgChart.prototype.magnifyBack=function(t,e,r){e||(e=this.config.anim);var i=OrgChart._magnify[t];if(i){null!=i.timer&&clearInterval(i.timer),null!=i.timerBack&&clearInterval(i.timerBack);var n=OrgChart._getTransform(i.nodeElement);i.timerBack=OrgChart.anim(i.nodeElement,{transform:n},{transform:i.transformStart},e.duration,e.func,function(t){var e=t[0].getAttribute(OrgChart.attr.node_id);OrgChart._magnify[e]&&OrgChart._magnify[e].front&&(t[0].parentNode.removeChild(t[0]),OrgChart._magnify[e]=null),r&&r(t[0])})}},void 0===OrgChart&&(OrgChart={}),OrgChart.events.on("init",function(t,e){t.config.enableKeyNavigation&&(t._addEvent(window,"keydown",t._windowKeyDownHandler),OrgChart.isNEU(t._keyNavigationActiveNodeId)&&t.roots&&t.roots.length&&(t._keyNavigationActiveNodeId=t.roots[0].id,t.center(t._keyNavigationActiveNodeId)))}),OrgChart.prototype._windowKeyDownHandler=function(t,e){for(var r=e.target,i=null;r&&r!=this.element;){if(r.hasAttribute&&r.hasAttribute(OrgChart.attr.node_id)){i=r.getAttribute(OrgChart.attr.node_id);break}r=r.parentNode}if(r){var n=i?this.getNode(i):null,a={node:n,data:i?this.get(i):null,event:e};if(!1!==OrgChart.events.publish("key-down",[this,a])&&n)if("KeyF"==e.code)this.searchUI.find("");else if("ArrowRight"==e.code||n.isAssistant&&"ArrowDown"==e.code||n.isPartner&&"ArrowDown"==e.code){if(s=this.getNode(n.pid)){var o=s.childrenIds.indexOf(n.id);if(++o<s.childrenIds.length){var l=s.childrenIds[o];this._keyNavigationActiveNodeId=l,this.center(l)}}}else if("ArrowLeft"==e.code)(s=this.getNode(n.pid))&&(o=s.childrenIds.indexOf(n.id),--o>=0&&(this._keyNavigationActiveNodeId=l=s.childrenIds[o],this.center(l)));else if("ArrowUp"==e.code){var s;(s=this.getNode(n.pid))&&(l=s.id,(n.isAssistant||s.hasAssistants||n.isPartner||s.hasPartners)&&(o=s.childrenIds.indexOf(n.id),--o>=0&&(l=s.childrenIds[o])),this._keyNavigationActiveNodeId=l,this.center(l))}else if("ArrowDown"==e.code)n.childrenIds.length&&(this._keyNavigationActiveNodeId=n.childrenIds[0],this.center(n.childrenIds[0]));else if("Space"==e.code){var c=r.getAttribute(OrgChart.attr.node_id);return void this.toggleExpandCollapse(c,e)}}},OrgChart.events.on("redraw",function(t,e){t.config.enableKeyNavigation&&OrgChart._keyNavigation(t)}),OrgChart.events.on("click",function(t,e){t.config&&t.config.enableKeyNavigation&&(t._keyNavigationActiveNodeId=e.node.id,t.center(e.node.id))}),OrgChart._keyNavigation=function(t){var e=t.element.querySelector(":focus");if(e&&e.parentElement&&e.parentElement.hasAttribute(OrgChart.attr.node_id)){var r=e.parentElement;(n=(i=e).querySelector("title"))&&n.parentNode.removeChild(n),i.removeAttribute("tabindex")}if(!OrgChart.isNEU(t._keyNavigationActiveNodeId)&&(r=t.getNodeElement(t._keyNavigationActiveNodeId))&&r.children.length){var i;(i=r.children[0]).setAttribute("tabindex",2);var n,a={text:"",id:t._keyNavigationActiveNodeId};OrgChart.events.publish("screen-reader-text",[t,a]),OrgChart.isNEU(a.text)||((n=document.createElementNS("http://www.w3.org/2000/svg","title")).innerHTML=a.text,i.appendChild(n)),t.searchUI.hide(),i.focus()}},OrgChart.elements={},OrgChart.elements.textbox=function(t,e,r,i){var n=OrgChart.elements._vidrf(t,e,i);if(n.doNotRender)return{html:""};var a="";return e.btn&&(a=`<a href="#" boc-input-btn="" class="boc-link boc-link-boc-button">${e.btn}</a>`),{html:`<div class="boc-form-field" style="min-width: ${r};">\n                    <div class="boc-input" data-boc-input="" ${n.disabledAttribute} ${n.vlidators}>\n                        <label for="${n.id}">${n.label}</label>\n                        <input ${n.readOnlyAttribute} data-binding="${n.binding}" maxlength="256" id="${n.id}" name="${n.id}" type="text" value="${n.value}" autocomplete="off">\n                        ${a}\n                    </div>\n                </div>`,id:n.id,value:n.value}},OrgChart.elements.checkbox=function(t,e,r,i){var n=OrgChart.elements._vidrf(t,e,i);if(n.doNotRender)return{html:""};var a=n.value?"checked":"";return{html:`<div class="boc-form-field"  style="min-width: ${r};" >\n                        <label class="boc-checkbox" data-boc-input="" ${n.disabledAttribute}>\n                            <input ${a} ${i?'onclick="return false;"':""} data-binding="${n.binding}" type="checkbox"><span class="boc-checkbox-checkmark" type="checkbox"></span>${n.label}\n                        </label>\n                    </div>`,id:n.id,value:a}},OrgChart.elements.select=function(t,e,r,i){if(i)return OrgChart.elements.textbox(t,e,r,i);var n=OrgChart.elements._vidrf(t,e,i);return n.doNotRender?{html:""}:{html:`<div class="boc-form-field" style="min-width: ${r};">\n                    <div class="boc-input" data-boc-input="" ${n.disabledAttribute} ${n.vlidators}>\n                        <label for="${n.id}">${n.label}</label>\n                        <select data-binding="${n.binding}" ${n.readOnlyAttribute} id="${n.id}" name="${n.id}">\n                            ${function(){for(var t="",e=0;e<n.options.length;e++){var r=n.options[e];t+=`<option ${r.value==n.value?"selected":""} value="${r.value}">${r.text}</option>`}return t}()}                           \n                        </select>\n                    </div>\n                </div>`,id:n.id,value:n.value}},OrgChart.elements.date=function(t,e,r,i){var n=OrgChart.elements._vidrf(t,e,i);return n.doNotRender?{html:""}:{html:`<div class="boc-form-field" style="min-width: ${r};">\n                    <div class="boc-input" data-boc-input="" ${n.disabledAttribute} ${n.vlidators}>\n                        <label for="${n.id}" class="hasval">${n.label}</label>\n                        <input data-binding="${n.binding}" ${n.readOnlyAttribute} maxlength="256" id="${n.id}" name="${n.id}" type="date" value="${n.value}" autocomplete="off">\n                    </div>\n                </div>`,id:n.id,value:n.value}},OrgChart.elements._vidrf=function(t,e,r){var i={};if(e.binding||(e.binding=""),e.label||(e.label=""),i.options="select"!=e.type||Array.isArray(e.options)?e.options:[],i.value=t&&!OrgChart.isNEU(t[e.binding])?t[e.binding]:"",r&&i.options)for(var n=0;n<i.options.length;n++)if(i.options[n].value==i.value){i.value=i.options[n].text;break}if(i.id=OrgChart.elements.generateId(),i.disabledAttribute=r?"data-boc-input-disabled":"",i.readOnlyAttribute=r?"readonly":"",i.id=i.id,r&&OrgChart.isNEU(i.value)&&(i.doNotRender=!0),r&&"photo"==e.binding&&(i.id=null,i.doNotRender=!0),i.binding=e.binding,i.label=e.label,i.vlidators="",e.vlidators)for(var a in e.vlidators)i.vlidators+=`data-v-${a}="${e.vlidators[a]}" `;return i},OrgChart.elements.ids=[],OrgChart.elements.generateId=function(){for(;;){var t="_"+("0000"+(Math.random()*Math.pow(36,4)|0).toString(36)).slice(-4);if(!OrgChart.elements.ids.has(t))return OrgChart.elements.ids.push(t),t}},OrgChart.input={},OrgChart.input._timeout=null,OrgChart.input.initWithTimeout=function(){OrgChart.input._timeout&&(clearTimeout(OrgChart.input._timeout),OrgChart.input._timeout=null),OrgChart.input._timeout=setTimeout(OrgChart.input.init,200)},OrgChart.input.init=function(t){var e;e=t?t.querySelectorAll("[data-boc-input]"):document.querySelectorAll("[data-boc-input]");for(var r=0;r<e.length;r++){var i=e[r],n=null;i.type&&"hidden"==i.type.toLowerCase()&&(n=i),n||(n=i.querySelector("input")),n||(n=i.querySelector("select"));var a=i.querySelector("label");a&&(n.value||"select-one"==n.type&&n.selectedOptions&&n.selectedOptions.length&&""==n.selectedOptions[0].value&&n.selectedOptions[0].innerHTML)&&a.classList.add("hasval"),"checkbox"!=n.type.toLowerCase()&&n.addEventListener("focus",function(){this.classList.remove("boc-validation-error");var t=this.parentNode.querySelector("label");t.classList.add("focused");var e=t.querySelector(".boc-validation-error-message");e&&e.parentNode.removeChild(e)}),"checkbox"!=n.type.toLowerCase()&&n.addEventListener("blur",function(){var t=this.parentNode.querySelector("label");t.classList.remove("focused"),this.value||"date"==this.type?t.classList.add("hasval"):t.classList.remove("hasval")})}},OrgChart.input.validate=function(t){var e=null;t.type&&"hidden"==t.type.toLowerCase()&&(e=t),e||(e=t.querySelector("input")),e||(e=t.querySelector("select"));var r=t.querySelector("label");if(e.classList.remove("boc-validation-error"),r){var i=r.querySelector(".boc-validation-error-message");i&&i.parentNode.removeChild(i)}e.value&&(e.value=e.value.trim());var n=t.getAttribute("data-v-required"),a=t.getAttribute("data-v-password"),o=t.getAttribute("data-v-email"),l=t.getAttribute("data-v-emails");return n&&""==e.value?(r.innerHTML+='<span class="boc-validation-error-message">&nbsp;'+n+"</span>",e.classList.add("boc-validation-error"),!1):a&&!OrgChart.input.validatePassword(e.value)?(r.innerHTML+='<span class="boc-validation-error-message">&nbsp;'+a+"</span>",e.classList.add("boc-validation-error"),!1):o&&!OrgChart.input.isValidEmail(e.value)?(r.innerHTML+='<span class="boc-validation-error-message">&nbsp;'+o+"</span>",e.classList.add("boc-validation-error"),!1):!(l&&!OrgChart.input.isValidEmails(e.value)&&(r.innerHTML+='<span class="boc-validation-error-message">&nbsp;'+l+"</span>",e.classList.add("boc-validation-error"),1))},OrgChart.input.validateAndGetData=function(t){for(var e=t.querySelectorAll("[data-boc-input]"),r=!0,i=0;i<e.length;i++)OrgChart.input.validate(e[i])||(r=!1);if(!r)return!1;var n=t.querySelectorAll("[data-binding]"),a={};for(i=0;i<n.length;i++){var o=n[i];a[o.getAttribute("data-binding")]="checkbox"==o.type.toLowerCase()?o.checked:o.value}return a},OrgChart.input.validatePassword=function(t){return t&&(t=t.trim()),!(t.length<5||t.length>18||-1!=t.indexOf(" "))},OrgChart.input.isValidEmails=function(t){if(t)for(var e=t.split(","),r=0;r<e.length;r++){var i=e[r].trim();if(!OrgChart.input.isValidEmail(i))return!1}return!0},OrgChart.input.isValidEmail=function(t){return t&&(t=t.trim()),/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())},OrgChart.ui.css=function(){return'<style data-baoc-styles>.boc-button{background-color:#039be5;cursor:pointer;width:calc(100%);height:50px;color:#fff;padding-top:5px;padding-left:7px;padding-right:7px;text-align:center;text-transform:uppercase;border:1px solid #3fc0ff;display:inline-block;border-radius:5px}.boc-button.orange{background-color:#f57c00;border:1px solid #ffa03e}.boc-button.yellow{background-color:#ffca28;border:1px solid #ffdf7c}.boc-button.lower{text-transform:unset}.boc-button.transparent{background-color:transparent}.boc-button:hover{background-color:#35afea}.boc-button.orange:hover{background-color:#f79632}.boc-button.yellow:hover{background-color:#ffd452}.boc-button:active{transform:matrix(.98,0,0,.98,0,0)}.boc-button-icon{text-align:initial;cursor:pointer;margin-bottom:15px;color:#039be5}.boc-dark .boc-button-icon:hover{background-color:#2d2d2d}.boc-light .boc-button-icon:hover{background-color:#ececec}.boc-button-icon>img{height:24px;width:24px;vertical-align:middle;padding:7px}.boc-button:focus{outline:0}.boc-button-icon>img{filter:invert(46%) sepia(66%) saturate(2530%) hue-rotate(171deg) brightness(95%) contrast(98%)}.boc-light .boc-button.transparent{color:#039be5}.boc-light .boc-button.transparent:hover{color:#fff}.boc-button-loading{background-color:transparent;cursor:pointer;width:calc(100% - 2px);height:50px;color:#fff;text-align:center;text-transform:uppercase;border:1px solid #027cb7;display:inline-block;display:flex;justify-content:center;align-items:center;display:none}.boc-button-loading .boc-loading-dots div{margin:0 10px}.boc-link-boc-button{position:absolute;right:10px;top:-1px}[data-boc-input-disabled] .boc-link-boc-button{display:none}[dir=rtl] .boc-link-boc-button{left:10px;right:unset}.boc-img-button{width:48px;height:48px;cursor:pointer;border-radius:50%;background-color:#039be5;background-repeat:no-repeat;background-size:24px 24px;background-position:center center;margin:3px;display:inline-block}.boc-img-button:hover{background-color:#f57c00}.boc-checkbox{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}.boc-checkbox input{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.boc-checkbox-checkmark{position:absolute;top:0;left:0;height:25px;width:25px;border-radius:5px}.boc-dark [data-boc-input-disabled] .boc-checkbox-checkmark,.boc-dark [data-boc-input-disabled].boc-checkbox input:checked~.boc-checkbox-checkmark,.boc-light [data-boc-input-disabled] .boc-checkbox-checkmark,.boc-light [data-boc-input-disabled].boc-checkbox input:checked~.boc-checkbox-checkmark{background-color:#aeaeae!important}[data-boc-input-disabled].boc-checkbox{cursor:default}[dir=rtl] .boc-checkbox-checkmark{right:0}[dir=rtl] .boc-checkbox{padding-left:unset;padding-right:35px}.boc-dark .boc-checkbox-checkmark{background-color:#333;border:1px solid #5b5b5b}.boc-light .boc-checkbox-checkmark{background-color:#fff;border:1px solid #c7c7c7}.boc-dark .boc-checkbox:hover input~.boc-checkbox-checkmark{background-color:#3c3c3c}.boc-light .boc-checkbox:hover input~.boc-checkbox-checkmark{background-color:#f8f9f9}.boc-dark .boc-checkbox input:checked~.boc-checkbox-checkmark{background-color:#039be5}.boc-light .boc-checkbox input:checked~.boc-checkbox-checkmark{background-color:#039be5}.boc-checkbox-checkmark:after{content:"";position:absolute;display:none}.boc-checkbox input:checked~.boc-checkbox-checkmark:after{display:block}.boc-checkbox .boc-checkbox-checkmark:after{left:9px;top:5px;width:5px;height:10px;border:solid #fff;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.boc-form-perspective{transform-style:preserve-3d;perspective:500px;position:absolute;top:32px}.boc-form{box-shadow:rgba(0,0,0,.2) 0 6px 6px 0,rgba(0,0,0,.19) 0 13px 20px 0;padding:14px;transform-origin:top center;user-select:none;display:none;position:relative;max-height:calc(100vh - 100px);overflow-y:auto;border-bottom-left-radius:5px;border-bottom-right-radius:5px}.boc-form-bottom{border-bottom-left-radius:unset;border-bottom-right-radius:unset;border-top-left-radius:5px;border-top-right-radius:5px}.boc-form .separator{margin:0 10px}@media screen and (max-width:1000px){.boc-form-perspective{min-width:100%;max-height:calc(100% - 32px);left:unset!important;right:unset!important;transform:none!important}.boc-form .set{max-height:calc(100vh - 74px)}.boc-form-fieldset{max-width:unset!important}}.boc-light .boc-form .separator{border-bottom:1px solid #c7c7c7}.boc-dark .boc-form .separator{border-bottom:1px solid #5b5b5b}.boc-light .boc-form{background-color:#fff}.boc-dark .boc-form{background-color:#252526}.boc-item{padding:6px 12px 6px 12px;display:flex;flex-direction:row}.boc-light .boc-form .boc-item.selected,.boc-light .boc-form .boc-item:hover{background-color:#0074e8;color:#fff}.boc-dark .boc-form .boc-item.selected,.boc-dark .boc-form .boc-item:hover{background-color:#094771;color:#fff}.boc-item.selected img,.boc-item:hover img{filter:invert(100%)}.boc-item.selected img{visibility:visible!important}.boc-form-fieldset{display:flex;flex-wrap:wrap;margin:0!important}.boc-form-field{flex:1 0 21%;margin:3px;min-width:200px}.boc-form-field-100{flex:1 0 96%;margin:3px;min-width:200px}.boc-input{position:relative}.boc-input>input,.boc-input>select{height:50px;padding:18px 10px 2px 9px;width:100%;box-sizing:border-box;border-style:solid;border-width:1px}.boc-input select{height:50px;padding:20px 5px 4px 5px}[data-boc-input-disabled].boc-input>input,[data-boc-input-disabled].boc-input>select{border-color:transparent!important}.boc-light [data-boc-input-disabled]>input,.boc-light [data-boc-input-disabled]>select{background-color:#fff!important}.boc-dark [data-boc-input-disabled]>input,.boc-dark [data-boc-input-disabled]>select{background-color:#252526!important}[data-boc-input-disabled]>select{appearance:none;padding-left:8px}.boc-input>label{display:inline-block;position:absolute;padding-left:10px;padding-right:10px;color:#acacac;cursor:text;-webkit-transition:all .1s ease-out;-moz-transition:all .1s ease-out;-ms-transition:all .1s ease-out;-o-transition:all .1s ease-out;transition:all .1 ease-out;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:initial;text-align:initial;white-space:nowrap}.boc-input>label{top:12px;overflow:hidden;text-overflow:ellipsis;max-width:calc(100% - 14px)}.boc-input>label.focused,.boc-input>label.hasval{top:-1px}.boc-input>input,.boc-input>select{outline:0;border-radius:5px}.boc-dark .boc-input>label.focused,.boc-light .boc-input>label.focused{color:#039be5}.boc-dark .boc-input>input,.boc-dark .boc-input>select{color:#ccc;background-color:#333;border-color:#5b5b5b}.boc-light .boc-input>input,.boc-light .boc-input>select{color:#757575;background-color:#fff;border-color:#c7c7c7}.boc-light .boc-input>input:focus,.boc-light .boc-input>select:focus{border-color:#039be5;background-color:#f8f9f9}.boc-dark .boc-input>input:focus,.boc-dark .boc-input>select:focus{border-color:#039be5;background-color:#3c3c3c}.boc-dark .boc-input>input.boc-validation-error,.boc-dark .boc-input>select.boc-validation-error,.boc-light .boc-input>input.boc-validation-error,.boc-light .boc-input>select.boc-validation-error{border-color:#ca2a2a}.boc-dark .boc-validation-error-message,.boc-light .boc-validation-error-message{color:#ca2a2a}.boc-link{color:#039be5;cursor:pointer;text-decoration:underline}.boc-link:hover{color:#f57c00}.boc-dark ::-webkit-scrollbar,.boc-light ::-webkit-scrollbar{width:15px}.boc-dark ::-webkit-scrollbar-track{background:#1e1e1e;border-left:1px solid #333}.boc-dark ::-webkit-scrollbar-thumb{background:#424242}.boc-dark ::-webkit-scrollbar-thumb:hover{background:#4f4f4f}.boc-dark ::-webkit-scrollbar-thumb:active{background:#5e5e5e}.boc-light ::-webkit-scrollbar-track{background:#fff;border-left:1px solid #ddd}.boc-light ::-webkit-scrollbar-thumb{background:#c1c1c1}.boc-light ::-webkit-scrollbar-thumb:hover{background:#929292}.boc-light ::-webkit-scrollbar-thumb:active{background:#666}.boc-edit-form{position:fixed;top:0;right:0;height:100%;width:100%;box-shadow:rgba(0,0,0,.2) 0 6px 6px 0,rgba(0,0,0,.19) 0 13px 20px 0;display:flex;flex-direction:column;height:100%;width:400px}@media screen and (max-width:1000px){.boc-edit-form{width:100%}}.boc-dark .boc-edit-form{background-color:#252526}.boc-light .boc-edit-form{background-color:#fff}.boc-edit-form-header{height:200px;text-align:center;border-radius:10px}.export-service .boc-edit-form-header{border-radius:unset}.boc-edit-form-title{color:#fff;margin:0;padding:14px 17px 7px 17px}.boc-edit-form-avatar{border-radius:50%;width:150px;height:150px;position:absolute;top:75px;border:5px solid #fff;left:50%;transform:translateX(-50%);background-color:#cacaca;box-shadow:rgba(0,0,0,.2) 0 6px 6px 0,rgba(0,0,0,.19) 0 13px 20px 0}.boc-edit-form-close{position:absolute;right:14px;top:14px;width:34px;height:34px;cursor:pointer}.boc-edit-form-fields{flex-grow:1;overflow-y:auto;overflow-x:hidden}.boc-edit-form-fields-inner{margin:0 7px 20px 7px}.boc-chart-menu{opacity:0;display:inline-block;position:absolute;text-align:left;user-select:none;min-width:270px;box-shadow:rgba(0,0,0,.2) 0 4px 8px 0,rgba(0,0,0,.19) 0 6px 20px 0;font:13px/28px Helvetica,"Proxima Nova",Arial,sans-serif;border-radius:10px}.boc-chart-menu>div:hover img{filter:invert(100%)}.boc-chart-menu [data-item]{text-align:start;padding:7px 10px}.boc-dark .boc-chart-menu [data-item]{background-color:#252526;color:#acacac;border-bottom:1px solid #333}.boc-dark .boc-chart-menu [data-item]:hover{background-color:#094771!important;color:#fff!important}.boc-dark .boc-chart-menu [data-item]:hover svg{filter:brightness(0) invert(1)}.boc-light .boc-chart-menu [data-item]{background-color:#fff;color:#333;border-bottom:1px solid #c7c7c7}.boc-light .boc-chart-menu [data-item]:hover{background-color:#0074e8!important;color:#fff!important}.boc-light .boc-chart-menu [data-item]:hover svg{filter:brightness(0) invert(1)}.boc-chart-menu [data-item] svg{vertical-align:middle}.boc-chart-menu [data-item]:first-child{border-top-left-radius:7px;border-top-right-radius:7px}.boc-chart-menu [data-item]:last-child{border-bottom-width:0;border-bottom-style:none;border-bottom-left-radius:7px;border-bottom-right-radius:7px}.boc-search{position:absolute}@media screen and (max-width:1000px){.boc-search{width:calc(100% - 30px)}}.boc-search .boc-input{margin-bottom:0}.boc-search-input{color:#7a7a7a;width:100%;border:none;outline:0;padding-top:10px;padding-right:47px}.boc-search label{padding-right:47px}.boc-search-image-td{width:43px}.boc-search-text-td{padding-inline-end:7px;line-height:15px;text-align:start}.boc-search table{box-shadow:rgba(0,0,0,.2) 0 4px 8px 0,rgba(0,0,0,.19) 0 6px 20px 0;margin:0 3.5px 0 3.5px;width:calc(100% - 7px);border-radius:7px}.boc-search table tr:first-child td:first-child{border-top-left-radius:7px}.boc-search table tr:first-child td:last-child{border-top-right-radius:7px}[dir=rtl] .boc-search table tr:first-child td:first-child{border-top-left-radius:unset;border-top-right-radius:7px}[dir=rtl] .boc-search table tr:first-child td:last-child{border-top-right-radius:unset;border-top-left-radius:7px}.boc-search table tr:last-child td:first-child{border-bottom-left-radius:7px}.boc-search table tr:last-child td:last-child{border-bottom-right-radius:7px}[dir=rtl] .boc-search table tr:last-child td:first-child{border-bottom-left-radius:unset;border-bottom-right-radius:7px}[dir=rtl] .boc-search table tr:last-child td:last-child{border-bottom-right-radius:unset;border-bottom-left-radius:7px}.boc-dark .boc-search table{background-color:#252526;color:#acacac}.boc-search [data-search-item-id]{cursor:pointer}.boc-search-photo{margin:7px 7px 0 7px;width:32px;height:32px;background-size:cover;background-position:top center;border-radius:50%;display:inline-block;border:1px solid #8c8c8c}.boc-dark .boc-search [data-search-item-id] td{border-top:1px solid #333}.boc-dark .boc-search [data-search-item-id]:hover,.boc-dark .boc-search [data-selected=yes]{background-color:#094771;color:#fff}.boc-light .boc-search table{background-color:#fff;color:#333}.boc-light .boc-search [data-search-item-id] td{border-top:1px solid #c7c7c7}.boc-light .boc-search [data-search-item-id]:hover,.boc-light .boc-search [data-selected=yes]{background-color:#0074e8;color:#fff}.boc-search [data-search-item-id]:first-child td{border-top:unset}.boc-ripple-container{position:absolute;top:0;right:0;bottom:0;left:0}.boc-drag-over rect{opacity:.5}.boc-ripple-container span{transform:scale(0);border-radius:100%;position:absolute;opacity:.75;background-color:#fff;animation:boc-ripple 1s}@-moz-keyframes boc-ripple{to{opacity:0;transform:scale(2)}}@-webkit-keyframes boc-ripple{to{opacity:0;transform:scale(2)}}@-o-keyframes boc-ripple{to{opacity:0;transform:scale(2)}}@keyframes boc-ripple{to{opacity:0;transform:scale(2)}}.boc-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;-webkit-transition:.4s;transition:.4s}.boc-slider:before{position:absolute;content:"";height:16px;width:16px;left:4px;bottom:4px;background-color:#fff;-webkit-transition:.4s;transition:.4s}.boc-slider.round{border-radius:24px}.boc-slider.round:before{border-radius:50%}svg text:hover{cursor:default}svg.boc-cursor-grab,svg.boc-cursor-grab text:hover{cursor:grab}svg.boc-cursor-nodrop,svg.boc-cursor-nodrop text:hover{cursor:no-drop}svg.boc-cursor-copy,svg.boc-cursor-copy text:hover{cursor:copy}svg.boc-cursor-move,svg.boc-cursor-move text:hover{cursor:move}#boc-close-btn:focus,#boc-close-btn:hover{color:#000;text-decoration:none;cursor:pointer}#boc-id-select:focus{outline:.5px solid #aeaeae}#boc-sampleDialog #title:hover{cursor:default;background:gray}.boc-light{background-color:#fff;font:13px/28px Helvetica,"Proxima Nova",Arial,sans-serif}.boc-dark{background-color:#1e1e1e;font:13px/28px Helvetica,"Proxima Nova",Arial,sans-serif}.boc-light .boc-fill{fill:#fff}.boc-dark .boc-fill{fill:#1e1e1e}.boc-dark input,.boc-dark select,.boc-light input,.boc-light select{font:16px Helvetica,"Proxima Nova",Arial,sans-serif}.boc-dark h1,.boc-light h1{font-size:30px;line-height:1}.boc-edit-form{position:absolute;border-radius:10px}.export-service .boc-edit-form{border-radius:unset}.boc-dark .boc-edit-form{color:#acacac}.boc-light .boc-edit-form{color:#333}.boc-dark ::-webkit-calendar-picker-indicator{filter:invert(70%)}.boc-light ::-webkit-calendar-picker-indicator{filter:invert(50%)}.boc-edit-form-instruments{margin:42px 10px 0 10px;text-align:center;min-height:70px}.boc-img-button svg{position:relative;top:12px}.boc-light .boc-toolbar-container svg circle,.boc-light .boc-toolbar-container svg line,.boc-light .boc-toolbar-container svg path{stroke:#8c8c8c!important}.boc-dark .boc-toolbar-container svg circle,.boc-dark .boc-toolbar-container svg line,.boc-dark .boc-toolbar-container svg path{stroke:#8c8c8c!important}.boc-dark .boc-toolbar-container svg rect{fill:#252526!important}.boc-dark .boc-toolbar-container [data-tlbr=minus] svg{border-left:1px solid #5b5b5b!important;border-right:1px solid #5b5b5b!important;border-bottom:1px solid #5b5b5b!important}.boc-dark .boc-toolbar-container [data-tlbr=plus] svg{border-left:1px solid #5b5b5b!important;border-right:1px solid #5b5b5b!important;border-top:1px solid #5b5b5b!important}.boc-dark .boc-toolbar-container [data-tlbr]>svg{border:1px solid #5b5b5b!important;background-color:#252526!important}</style>'},void 0===OrgChart&&(OrgChart={}),OrgChart.local={},OrgChart.local._setPositions=function(t,e,r){for(var i={},n=0;n<t.length;n++)if((s=t[n]).stContainerNodes)for(var a=s.stContainerNodes.length-1;a>=0;a--){var o=s.stContainerNodes[a],l=OrgChart.local._walk(o.stChildren,e);o.w=l.maxX-l.minX+o.padding[3]+o.padding[1],o.h=l.maxY-l.minY+o.padding[0]+o.padding[2],o._m&&(o._m.w=o.w,o._m.h=o.h),i[o.id]=l}for(OrgChart.local._walk(t,e),n=0;n<t.length;n++){var s;if((s=t[n]).stContainerNodes)for(a=0;a<s.stContainerNodes.length;a++)for(var c=(o=s.stContainerNodes[a]).x,h=o.y,d=0;d<o.stChildren.length;d++)OrgChart.local._lastWalk(o.stChildren[d],c,h,i[o.id],o.padding)}r()},OrgChart.local._walk=function(t,e){for(var r={minX:null,minY:null,maxX:null,maxY:null},i=[],n=[],a=[],o=0;o<t.length;o++){var l=e[t[o].lcn?t[o].lcn:"base"];0==o-(s=parseInt(o/l.columns))*l.columns&&(a=[]),OrgChart.local._firstWalk(t[o],0,i,a,l)}for(o=0;o<t.length;o++){l=e[t[o].lcn?t[o].lcn:"base"];var s,c=0;switch((s=parseInt(o/l.columns))>0&&(c=n[s-1]+l.siblingSeparation),OrgChart.local._secondWalk(t[o],0,0,c,i,r,l),n[s]=r.maxY-r.minY,l.orientation){case OrgChart.orientation.right:case OrgChart.orientation.right_top:case OrgChart.orientation.left:case OrgChart.orientation.left_top:n[s]=r.maxX-r.minX}}return r},OrgChart.local._firstWalk=function(t,e,r,i,n){if(!t.isPartner){var a=null;if(t.x=0,t.y=0,t._prelim=0,t._modifier=0,t.leftNeighbor=null,t.rightNeighbor=null,OrgChart.local._setLevelMaxNodeHeight(t,e,r,n),OrgChart.local._setNeighbors(t,e,i),OrgChart.local._hasChildren(t)&&e!=OrgChart.MAX_DEPTH){for(var o=t.children.length,l=0;l<o;l++)OrgChart.local._firstWalk(t.children[l],e+1,r,i,n);var s=OrgChart.local._fChild(t),c=t.children[t.children.length-1],h=s._prelim+(c._prelim-s._prelim)/2+OrgChart.local._leftMidPoint(c,n);s.isAssistant&&c.isAssistant&&(h=s._prelim+(c._prelim-s._prelim)/2+OrgChart.local._leftMidPoint(s,n)),h-=OrgChart.local._mid(t,n),null!=(a=OrgChart.local._getLeftSibling(t))?(d=n.siblingSeparation,t.isAssistant&&t.isSplit?d=n.assistantSeparation:2==a.layout?d=n.mixedHierarchyNodesSeparation:a.parent&&4==a.parent.hasPartners&&n.orientation<=3&&(p=OrgChart.local._size(a.parent,n),u=OrgChart.local._rightMidPoint(a,n),(d=a.parent.partnerSeparation+p/2-u)<n.siblingSeparation&&(d=n.siblingSeparation)),t._prelim=a._prelim+OrgChart.local._nodeWithPartnersSize(a,n)+d,t._modifier=t._prelim-h,OrgChart.local._apportion(t,e,r,n)):t._prelim=n.orientation<=3?h:0}else if(null!=(a=OrgChart.local._getLeftSibling(t))){var d=n.siblingSeparation;if(t.isAssistant)d=n.assistantSeparation;else if(2==a.layout)d=n.mixedHierarchyNodesSeparation;else if(a.parent&&4==a.parent.hasPartners&&n.orientation<=3){var p=OrgChart.local._size(a.parent,n),u=OrgChart.local._rightMidPoint(a,n);(d=a.parent.partnerSeparation+p/2-u)<n.siblingSeparation&&(d=n.siblingSeparation)}t._prelim=a._prelim+OrgChart.local._nodeWithPartnersSize(a,n)+d}else t._prelim=0}},OrgChart.local._secondWalk=function(t,e,r,i,n,a,o){if(e<=OrgChart.MAX_DEPTH&&!t.isPartner){var l,s=t._prelim+r,c=i,h=0;switch(h=n[e],l=OrgChart.local._getNodeHeight(t,o),t.layout&&!t.isSplit?h=l:t.layout&&t.isSplit&&(t.leftNeighbor&&t.leftNeighbor.layout&&-1==t.leftNeighbor.id.toString().indexOf("mirror")?h=OrgChart.local._getNodeHeight(t.leftNeighbor,o):t.rightNeighbor&&t.rightNeighbor.layout&&-1==t.rightNeighbor.id.toString().indexOf("mirror")&&(h=OrgChart.local._getNodeHeight(t.rightNeighbor,o))),t.x=s,t.y=c,t.hasPartners&&OrgChart.local.nodeHasPartnersPosition(t,o,h),(t.isSplit||t.isAssistant||2==t.layout)&&(t.y=c+h/2-l/2),o.orientation){case OrgChart.orientation.right:case OrgChart.orientation.right_top:case OrgChart.orientation.left:case OrgChart.orientation.left_top:var d=t.x;t.x=t.y,t.y=d}switch(o.orientation){case OrgChart.orientation.bottom:case OrgChart.orientation.bottom_left:t.y=-t.y-l;break;case OrgChart.orientation.right:case OrgChart.orientation.right_top:t.x=-t.x-l}if(OrgChart._setMinMaxXY(t,a),0!=t.children){var p=o.levelSeparation;t.layout&&(p=o.mixedHierarchyNodesSeparation);var u=0;if(OrgChart.local._secondWalk(t.children[u],e+1,r+t._modifier,i+h+p,n,a,o),t.children[u].isPartner){for(;t.children.length-1>u&&t.children[u].isPartner;)u++;OrgChart.local._secondWalk(t.children[u],e+1,r+t._modifier,i+h+p,n,a,o)}}var g=OrgChart.local._getRightSibling(t);null!=g&&OrgChart.local._secondWalk(g,e,r,i,n,a,o)}else OrgChart.local.nodeIsPartnerPosition(t,o,n,e)},OrgChart.local._lastWalk=function(t,e,r,i,n){t.x+=e+n[3]-i.minX,t.y+=r+n[0]-i.minY;for(var a=t.children.length,o=0;o<a;o++)OrgChart.local._lastWalk(t.children[o],e,r,i,n)},OrgChart.local._apportion=function(t,e,r,i){if(!t.isPartner)for(var n=OrgChart.local._fChild(t),a=n.leftNeighbor,o=1,l=OrgChart.MAX_DEPTH-e;null!=n&&null!=a&&o<=l;){for(var s=0,c=0,h=n,d=a,p=0;p<o;p++)s+=(h=h.parent)._modifier,c+=(d=d.parent)._modifier;var u=i.subtreeSeparation;t.leftNeighbor&&2==t.leftNeighbor.layout&&(u=0);var g=a._prelim+c+OrgChart.local._nodeWithPartnersSize(a,i)+u-(n._prelim+s);if(g>0){for(var f=t,m=0;null!=f&&f!=d;f=OrgChart.local._getLeftSibling(f))m++;if(null!=f)for(var v=t,b=g/m;v!=d;v=OrgChart.local._getLeftSibling(v)){var C=!0;if(v.layout){var y=r[e],x={config:i,node:t,size:-i.mixedHierarchyNodesSeparation};if(-1!=x.node.id.toString().indexOf("mirror"))for(var O=x.node.id.toString().replace("_mirror",""),w=0;w<x.node.parent.children.length;w++)if(x.node.parent.children[w].id==O){x.node=x.node.parent.children[w];break}OrgChart.local._mixedTreeHeight(x),C=y<x.size}C&&(v._prelim+=g,v._modifier+=g,g-=b)}}o++,null!=(n=OrgChart.local._hasChildren(n)?OrgChart.local._fChild(n):OrgChart.local._getLeftmost(t,0,o))&&(a=n.leftNeighbor)}},OrgChart.local._mixedTreeHeight=function(t){t.size+=OrgChart.local._getNodeHeight(t.node,t.config)+t.config.mixedHierarchyNodesSeparation;for(var e=0;e<t.node.children.length;e++)t.node=t.node.children[e],OrgChart.local._mixedTreeHeight(t)},OrgChart.local._setLevelMaxNodeHeight=function(t,e,r,i){null==r[e]&&(r[e]=0);var n=OrgChart.local._getNodeHeight(t,i);r[e]<n&&(r[e]=n)},OrgChart.local._setNeighbors=function(t,e,r){r[e]&&r[e].id===t.id||(t.leftNeighbor=r[e],null!=t.leftNeighbor&&(t.leftNeighbor.rightNeighbor=t),t.isPartner||(r[e]=t))},OrgChart.local._nodeWithPartnersSize=function(t,e){switch(e.orientation){case OrgChart.orientation.top:case OrgChart.orientation.top_left:case OrgChart.orientation.bottom:case OrgChart.orientation.bottom_left:return OrgChart.local._getPartnerRightPanelWidth(t,e)+t.w+OrgChart.local._getPartnerLeftPanelWidth(t,e);case OrgChart.orientation.right:case OrgChart.orientation.right_top:case OrgChart.orientation.left:case OrgChart.orientation.left_top:return OrgChart.local._getPartnerRightPanelHeight(t,e)+t.h+OrgChart.local._getPartnerLeftPanelHeight(t,e)}return 0},OrgChart.local._size=function(t,e){switch(e.orientation){case OrgChart.orientation.top:case OrgChart.orientation.top_left:case OrgChart.orientation.bottom:case OrgChart.orientation.bottom_left:return t.w;case OrgChart.orientation.right:case OrgChart.orientation.right_top:case OrgChart.orientation.left:case OrgChart.orientation.left_top:return t.h}return 0},OrgChart.local._leftMidPoint=function(t,e){switch(e.orientation){case OrgChart.orientation.top:case OrgChart.orientation.top_left:case OrgChart.orientation.bottom:case OrgChart.orientation.bottom_left:return OrgChart.local._getPartnerLeftPanelWidth(t,e)+t.w/2;case OrgChart.orientation.right:case OrgChart.orientation.right_top:case OrgChart.orientation.left:case OrgChart.orientation.left_top:return OrgChart.local._getPartnerLeftPanelHeight(t,e)+t.h/2}return 0},OrgChart.local._rightMidPoint=function(t,e){switch(e.orientation){case OrgChart.orientation.top:case OrgChart.orientation.top_left:case OrgChart.orientation.bottom:case OrgChart.orientation.bottom_left:return OrgChart.local._getPartnerRightPanelWidth(t,e)+t.w/2;case OrgChart.orientation.right:case OrgChart.orientation.right_top:case OrgChart.orientation.left:case OrgChart.orientation.left_top:return OrgChart.local._getPartnerRightPanelHeight(t,e)+t.h/2}return 0},OrgChart.local._mid=function(t,e){switch(e.orientation){case OrgChart.orientation.top:case OrgChart.orientation.top_left:case OrgChart.orientation.bottom:case OrgChart.orientation.bottom_left:switch(t.hasPartners){case 2:return OrgChart.local._getPartnerLeftPanelWidth(t,e)-t.partnerSeparation/2;case 3:return OrgChart.local._getPartnerLeftPanelWidth(t,e)+t.w+t.partnerSeparation/2;case 4:if(e.orientation<=3){var r=OrgChart.local._rightMidPoint(OrgChart.local._fChild(t),e),i=OrgChart.local._leftMidPoint(t.children[t.children.length-1],e);return OrgChart.local._getPartnerLeftPanelWidth(t,e)+t.w/2+(i-r)/2}return OrgChart.local._getPartnerLeftPanelWidth(t,e)+t.w/2;default:return OrgChart.local._getPartnerLeftPanelWidth(t,e)+t.w/2}case OrgChart.orientation.right:case OrgChart.orientation.right_top:case OrgChart.orientation.left:case OrgChart.orientation.left_top:switch(t.hasPartners){case 2:return OrgChart.local._getPartnerLeftPanelHeight(t,e)-t.partnerSeparation/2;case 3:return OrgChart.local._getPartnerLeftPanelHeight(t,e)+t.h+t.partnerSeparation/2;case 4:return e.orientation<=3?(r=OrgChart.local._rightMidPoint(OrgChart.local._fChild(t),e),i=OrgChart.local._leftMidPoint(t.children[t.children.length-1],e),OrgChart.local._getPartnerLeftPanelHeight(t,e)+t.h/2+(i-r)/2):OrgChart.local._getPartnerLeftPanelHeight(t,e)+t.h/2;default:return OrgChart.local._getPartnerLeftPanelHeight(t,e)+t.h/2}}return 0},OrgChart.local._getNodeHeight=function(t,e){switch(e.orientation){case OrgChart.orientation.top:case OrgChart.orientation.top_left:case OrgChart.orientation.bottom:case OrgChart.orientation.bottom_left:return Math.max(OrgChart.local._getPartnerRightPanelHeight(t,e),t.h,OrgChart.local._getPartnerLeftPanelHeight(t,e));case OrgChart.orientation.right:case OrgChart.orientation.right_top:case OrgChart.orientation.left:case OrgChart.orientation.left_top:return Math.max(OrgChart.local._getPartnerRightPanelWidth(t,e),t.w,OrgChart.local._getPartnerLeftPanelWidth(t,e))}return 0},OrgChart.local._getLeftSibling=function(t){return null!=t.leftNeighbor&&t.leftNeighbor.parent==t.parent?t.leftNeighbor:null},OrgChart.local._getRightSibling=function(t){return null!=t.rightNeighbor&&t.rightNeighbor.parent==t.parent?t.rightNeighbor:null},OrgChart.local._getLeftmost=function(t,e,r){if(e>=r)return t;if(!OrgChart.local._hasChildren(t))return null;for(var i=t.children.length,n=0;n<i;n++){var a=t.children[n];if(!a.isPartner){var o=OrgChart.local._getLeftmost(a,e+1,r);if(null!=o)return o}}return null},OrgChart.local.nodeHasPartnersPosition=function(t,e,r){switch(e.orientation){case OrgChart.orientation.top:case OrgChart.orientation.top_left:case OrgChart.orientation.bottom:case OrgChart.orientation.bottom_left:var i=OrgChart.local._getPartnerLeftPanelWidth(t,e);t.x+=i,t.h<r&&(e.orientation==OrgChart.orientation.bottom||e.orientation==OrgChart.orientation.bottom_left?t.y-=(r-t.h)/2:t.y+=(r-t.h)/2);break;case OrgChart.orientation.right:case OrgChart.orientation.right_top:case OrgChart.orientation.left:case OrgChart.orientation.left_top:var n=OrgChart.local._getPartnerLeftPanelHeight(t,e);t.x+=n,t.w<r&&(e.orientation==OrgChart.orientation.right||e.orientation==OrgChart.orientation.right_top?t.y-=(r-t.w)/2:t.y+=(r-t.w)/2)}},OrgChart.local.nodeIsPartnerPosition=function(t,e,r,i){var n=0,a=0,o=0,l=0,s=0,c=0,h=0,d=0,p=!0,u=!0;switch(e.orientation){case OrgChart.orientation.top:case OrgChart.orientation.top_left:case OrgChart.orientation.bottom:case OrgChart.orientation.bottom_left:n=OrgChart.local._getPartnerLeftPanelHeight(t.parent,e),a=OrgChart.local._getPartnerRightPanelHeight(t.parent,e);for(var g=0;g<t.parent.children.length;g++)1==(f=t.parent.children[g]).isPartner?(p?(l=t.parent.y-(r[i-1]-t.parent.h)/2+(r[i-1]-a)/2,d=f.h,p=!1):(l+=d+e.partnerNodeSeparation,d=f.h),f.x=o=t.parent.x+t.parent.w+t.parent.partnerSeparation,f.y=l):2==f.isPartner&&(u?(c=t.parent.y-(r[i-1]-t.parent.h)/2+(r[i-1]-n)/2,h=f.h,u=!1):(c+=h+e.partnerNodeSeparation,h=f.h),f.x=s=t.parent.x-f.w-t.parent.partnerSeparation,f.y=c);break;case OrgChart.orientation.right:case OrgChart.orientation.right_top:case OrgChart.orientation.left:case OrgChart.orientation.left_top:for(n=OrgChart.local._getPartnerLeftPanelWidth(t.parent,e),a=OrgChart.local._getPartnerRightPanelWidth(t.parent,e),g=0;g<t.parent.children.length;g++){var f;(f=t.parent.children[g])&&(1==f.isPartner?(l=t.parent.y+t.parent.h+t.parent.partnerSeparation,p?(o=t.parent.x-(r[i-1]-t.parent.w)/2+(r[i-1]-a)/2,d=f.w,p=!1):(o+=d+e.partnerNodeSeparation,d=f.w),f.x=o,f.y=l):2==f.isPartner&&(c=t.parent.y-f.h-t.parent.partnerSeparation,u?(s=t.parent.x-(r[i-1]-t.parent.w)/2+(r[i-1]-n)/2,h=f.w,u=!1):(s+=h+e.partnerNodeSeparation,h=f.w),f.x=s,f.y=c))}}},OrgChart.local._getPartnerRightPanelWidth=function(t,e){if(!t.hasPartners)return 0;var r=0;switch(e.orientation){case OrgChart.orientation.top:case OrgChart.orientation.top_left:case OrgChart.orientation.bottom:case OrgChart.orientation.bottom_left:for(var i=0;i<t.children.length;i++)1==(n=t.children[i]).isPartner&&n.w>r&&(r=n.w);return r&&(r+=t.partnerSeparation),r;case OrgChart.orientation.right:case OrgChart.orientation.right_top:case OrgChart.orientation.left:case OrgChart.orientation.left_top:for(i=0;i<t.children.length;i++){var n;1==(n=t.children[i]).isPartner&&(r+=n.w+e.partnerNodeSeparation)}return r&&(r-=e.partnerNodeSeparation),r}},OrgChart.local._getPartnerLeftPanelWidth=function(t,e){if(!t.hasPartners)return 0;var r=0;switch(e.orientation){case OrgChart.orientation.top:case OrgChart.orientation.top_left:case OrgChart.orientation.bottom:case OrgChart.orientation.bottom_left:for(var i=0;i<t.children.length;i++)2==(n=t.children[i]).isPartner&&n.w>r&&(r=n.w);return r&&(r+=t.partnerSeparation),r;case OrgChart.orientation.right:case OrgChart.orientation.right_top:case OrgChart.orientation.left:case OrgChart.orientation.left_top:for(i=0;i<t.children.length;i++){var n;2==(n=t.children[i]).isPartner&&(r+=n.w+e.partnerNodeSeparation)}return r&&(r-=e.partnerNodeSeparation),r}},OrgChart.local._getPartnerRightPanelHeight=function(t,e){if(!t.hasPartners)return 0;var r=0;switch(e.orientation){case OrgChart.orientation.top:case OrgChart.orientation.top_left:case OrgChart.orientation.bottom:case OrgChart.orientation.bottom_left:for(var i=0;i<t.children.length;i++)1==(n=t.children[i]).isPartner&&(r+=n.h+e.partnerNodeSeparation);return r&&(r-=e.partnerNodeSeparation),r;case OrgChart.orientation.right:case OrgChart.orientation.right_top:case OrgChart.orientation.left:case OrgChart.orientation.left_top:for(i=0;i<t.children.length;i++){var n;1==(n=t.children[i]).isPartner&&n.h>r&&(r=n.h)}return r&&(r+=t.partnerSeparation),r}},OrgChart.local._getPartnerLeftPanelHeight=function(t,e){if(!t.hasPartners)return 0;var r=0;switch(e.orientation){case OrgChart.orientation.top:case OrgChart.orientation.top_left:case OrgChart.orientation.bottom:case OrgChart.orientation.bottom_left:for(var i=0;i<t.children.length;i++)2==(n=t.children[i]).isPartner&&(r+=n.h+e.partnerNodeSeparation);return r&&(r-=e.partnerNodeSeparation),r;case OrgChart.orientation.right:case OrgChart.orientation.right_top:case OrgChart.orientation.left:case OrgChart.orientation.left_top:for(i=0;i<t.children.length;i++){var n;2==(n=t.children[i]).isPartner&&n.h>r&&(r=n.h)}return r&&(r+=t.partnerSeparation),r}},OrgChart.local._fChild=function(t){for(var e=0;e<t.children.length&&t.children[e].isPartner;)e++;return t.children[e]},OrgChart.local._hasChildren=function(t){for(var e=0;e<t.children.length;e++)if(!t.children[e].isPartner)return!0;return!1},function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";var r=[],i=Object.getPrototypeOf,n=r.slice,a=r.flat?function(t){return r.flat.call(t)}:function(t){return r.concat.apply([],t)},o=r.push,l=r.indexOf,s={},c=s.toString,h=s.hasOwnProperty,d=h.toString,p=d.call(Object),u={},g=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item},f=function(t){return null!=t&&t===t.window},m=t.document,v={type:!0,src:!0,nonce:!0,noModule:!0};function b(t,e,r){var i,n,a=(r=r||m).createElement("script");if(a.text=t,e)for(i in v)(n=e[i]||e.getAttribute&&e.getAttribute(i))&&a.setAttribute(i,n);r.head.appendChild(a).parentNode.removeChild(a)}function C(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?s[c.call(t)]||"object":typeof t}var y="3.6.0",x=function(t,e){return new x.fn.init(t,e)};function O(t){var e=!!t&&"length"in t&&t.length,r=C(t);return!g(t)&&!f(t)&&("array"===r||0===e||"number"==typeof e&&e>0&&e-1 in t)}x.fn=x.prototype={jquery:y,constructor:x,length:0,toArray:function(){return n.call(this)},get:function(t){return null==t?n.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=x.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return x.each(this,t)},map:function(t){return this.pushStack(x.map(this,function(e,r){return t.call(e,r,e)}))},slice:function(){return this.pushStack(n.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(x.grep(this,function(t,e){return(e+1)%2}))},odd:function(){return this.pushStack(x.grep(this,function(t,e){return e%2}))},eq:function(t){var e=this.length,r=+t+(t<0?e:0);return this.pushStack(r>=0&&r<e?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:o,sort:r.sort,splice:r.splice},x.extend=x.fn.extend=function(){var t,e,r,i,n,a,o=arguments[0]||{},l=1,s=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[l]||{},l++),"object"==typeof o||g(o)||(o={}),l===s&&(o=this,l--);l<s;l++)if(null!=(t=arguments[l]))for(e in t)i=t[e],"__proto__"!==e&&o!==i&&(c&&i&&(x.isPlainObject(i)||(n=Array.isArray(i)))?(r=o[e],a=n&&!Array.isArray(r)?[]:n||x.isPlainObject(r)?r:{},n=!1,o[e]=x.extend(c,a,i)):void 0!==i&&(o[e]=i));return o},x.extend({expando:"jQuery"+(y+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,r;return!(!t||"[object Object]"!==c.call(t)||(e=i(t))&&("function"!=typeof(r=h.call(e,"constructor")&&e.constructor)||d.call(r)!==p))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,r){b(t,{nonce:e&&e.nonce},r)},each:function(t,e){var r,i=0;if(O(t))for(r=t.length;i<r&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},makeArray:function(t,e){var r=e||[];return null!=t&&(O(Object(t))?x.merge(r,"string"==typeof t?[t]:t):o.call(r,t)),r},inArray:function(t,e,r){return null==e?-1:l.call(e,t,r)},merge:function(t,e){for(var r=+e.length,i=0,n=t.length;i<r;i++)t[n++]=e[i];return t.length=n,t},grep:function(t,e,r){for(var i=[],n=0,a=t.length,o=!r;n<a;n++)!e(t[n],n)!==o&&i.push(t[n]);return i},map:function(t,e,r){var i,n,o=0,l=[];if(O(t))for(i=t.length;o<i;o++)null!=(n=e(t[o],o,r))&&l.push(n);else for(o in t)null!=(n=e(t[o],o,r))&&l.push(n);return a(l)},guid:1,support:u}),"function"==typeof Symbol&&(x.fn[Symbol.iterator]=r[Symbol.iterator]),x.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){s["[object "+e+"]"]=e.toLowerCase()});var w=function(t){var e,r,i,n,a,o,l,s,c,h,d,p,u,g,f,m,v,b,C,y="sizzle"+1*new Date,x=t.document,O=0,w=0,_=st(),k=st(),S=st(),A=st(),N=function(t,e){return t===e&&(d=!0),0},E={}.hasOwnProperty,I=[],L=I.pop,T=I.push,M=I.push,P=I.slice,j=function(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",H="[\\x20\\t\\r\\n\\f]",D="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",U="\\[[\\x20\\t\\r\\n\\f]*("+D+")(?:"+H+"*([*^$|!~]?=)"+H+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+D+"))|)"+H+"*\\]",F=":("+D+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",R=new RegExp(H+"+","g"),z=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),q=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),$=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),Y=new RegExp(H+"|>"),X=new RegExp(F),W=new RegExp("^"+D+"$"),V={ID:new RegExp("^#("+D+")"),CLASS:new RegExp("^\\.("+D+")"),TAG:new RegExp("^("+D+"|[*])"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+B+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},G=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),rt=function(t,e){var r="0x"+t.slice(1)-65536;return e||(r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320))},it=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(t,e){return e?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},at=function(){p()},ot=yt(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{M.apply(I=P.call(x.childNodes),x.childNodes)}catch(kt){M={apply:I.length?function(t,e){T.apply(t,P.call(e))}:function(t,e){for(var r=t.length,i=0;t[r++]=e[i++];);t.length=r-1}}}function lt(t,e,i,n){var a,l,c,h,d,g,v,b=e&&e.ownerDocument,x=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==x&&9!==x&&11!==x)return i;if(!n&&(p(e),e=e||u,f)){if(11!==x&&(d=Z.exec(t)))if(a=d[1]){if(9===x){if(!(c=e.getElementById(a)))return i;if(c.id===a)return i.push(c),i}else if(b&&(c=b.getElementById(a))&&C(e,c)&&c.id===a)return i.push(c),i}else{if(d[2])return M.apply(i,e.getElementsByTagName(t)),i;if((a=d[3])&&r.getElementsByClassName&&e.getElementsByClassName)return M.apply(i,e.getElementsByClassName(a)),i}if(r.qsa&&!A[t+" "]&&(!m||!m.test(t))&&(1!==x||"object"!==e.nodeName.toLowerCase())){if(v=t,b=e,1===x&&(Y.test(t)||$.test(t))){for((b=tt.test(t)&&vt(e.parentNode)||e)===e&&r.scope||((h=e.getAttribute("id"))?h=h.replace(it,nt):e.setAttribute("id",h=y)),l=(g=o(t)).length;l--;)g[l]=(h?"#"+h:":scope")+" "+Ct(g[l]);v=g.join(",")}try{return M.apply(i,b.querySelectorAll(v)),i}catch(O){A(t,!0)}finally{h===y&&e.removeAttribute("id")}}}return s(t.replace(z,"$1"),e,i,n)}function st(){var t=[];return function e(r,n){return t.push(r+" ")>i.cacheLength&&delete e[t.shift()],e[r+" "]=n}}function ct(t){return t[y]=!0,t}function ht(t){var e=u.createElement("fieldset");try{return!!t(e)}catch(kt){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function dt(t,e){for(var r=t.split("|"),n=r.length;n--;)i.attrHandle[r[n]]=e}function pt(t,e){var r=e&&t,i=r&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(r)for(;r=r.nextSibling;)if(r===e)return-1;return t?1:-1}function ut(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function gt(t){return function(e){var r=e.nodeName.toLowerCase();return("input"===r||"button"===r)&&e.type===t}}function ft(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ot(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function mt(t){return ct(function(e){return e=+e,ct(function(r,i){for(var n,a=t([],r.length,e),o=a.length;o--;)r[n=a[o]]&&(r[n]=!(i[n]=r[n]))})})}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in r=lt.support={},a=lt.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!G.test(t&&t.namespaceURI||e&&e.nodeName||"HTML")},p=lt.setDocument=function(t){var e,n,o=t?t.ownerDocument||t:x;return o!=u&&9===o.nodeType&&o.documentElement?(g=(u=o).documentElement,f=!a(u),x!=u&&(n=u.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",at,!1):n.attachEvent&&n.attachEvent("onunload",at)),r.scope=ht(function(t){return g.appendChild(t).appendChild(u.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length}),r.attributes=ht(function(t){return t.className="i",!t.getAttribute("className")}),r.getElementsByTagName=ht(function(t){return t.appendChild(u.createComment("")),!t.getElementsByTagName("*").length}),r.getElementsByClassName=Q.test(u.getElementsByClassName),r.getById=ht(function(t){return g.appendChild(t).id=y,!u.getElementsByName||!u.getElementsByName(y).length}),r.getById?(i.filter.ID=function(t){var e=t.replace(et,rt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&f){var r=e.getElementById(t);return r?[r]:[]}}):(i.filter.ID=function(t){var e=t.replace(et,rt);return function(t){var r=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return r&&r.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&f){var r,i,n,a=e.getElementById(t);if(a){if((r=a.getAttributeNode("id"))&&r.value===t)return[a];for(n=e.getElementsByName(t),i=0;a=n[i++];)if((r=a.getAttributeNode("id"))&&r.value===t)return[a]}return[]}}),i.find.TAG=r.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):r.qsa?e.querySelectorAll(t):void 0}:function(t,e){var r,i=[],n=0,a=e.getElementsByTagName(t);if("*"===t){for(;r=a[n++];)1===r.nodeType&&i.push(r);return i}return a},i.find.CLASS=r.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&f)return e.getElementsByClassName(t)},v=[],m=[],(r.qsa=Q.test(u.querySelectorAll))&&(ht(function(t){var e;g.appendChild(t).innerHTML="<a id='"+y+"'></a><select id='"+y+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+B+")"),t.querySelectorAll("[id~="+y+"-]").length||m.push("~="),(e=u.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||m.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+y+"+*").length||m.push(".#.+[+~]"),t.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")}),ht(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=u.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),g.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")})),(r.matchesSelector=Q.test(b=g.matches||g.webkitMatchesSelector||g.mozMatchesSelector||g.oMatchesSelector||g.msMatchesSelector))&&ht(function(t){r.disconnectedMatch=b.call(t,"*"),b.call(t,"[s!='']:x"),v.push("!=",F)}),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),e=Q.test(g.compareDocumentPosition),C=e||Q.test(g.contains)?function(t,e){var r=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(r.contains?r.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},N=e?function(t,e){if(t===e)return d=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!r.sortDetached&&e.compareDocumentPosition(t)===i?t==u||t.ownerDocument==x&&C(x,t)?-1:e==u||e.ownerDocument==x&&C(x,e)?1:h?j(h,t)-j(h,e):0:4&i?-1:1)}:function(t,e){if(t===e)return d=!0,0;var r,i=0,n=t.parentNode,a=e.parentNode,o=[t],l=[e];if(!n||!a)return t==u?-1:e==u?1:n?-1:a?1:h?j(h,t)-j(h,e):0;if(n===a)return pt(t,e);for(r=t;r=r.parentNode;)o.unshift(r);for(r=e;r=r.parentNode;)l.unshift(r);for(;o[i]===l[i];)i++;return i?pt(o[i],l[i]):o[i]==x?-1:l[i]==x?1:0},u):u},lt.matches=function(t,e){return lt(t,null,null,e)},lt.matchesSelector=function(t,e){if(p(t),r.matchesSelector&&f&&!A[e+" "]&&(!v||!v.test(e))&&(!m||!m.test(e)))try{var i=b.call(t,e);if(i||r.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(kt){A(e,!0)}return lt(e,u,null,[t]).length>0},lt.contains=function(t,e){return(t.ownerDocument||t)!=u&&p(t),C(t,e)},lt.attr=function(t,e){(t.ownerDocument||t)!=u&&p(t);var n=i.attrHandle[e.toLowerCase()],a=n&&E.call(i.attrHandle,e.toLowerCase())?n(t,e,!f):void 0;return void 0!==a?a:r.attributes||!f?t.getAttribute(e):(a=t.getAttributeNode(e))&&a.specified?a.value:null},lt.escape=function(t){return(t+"").replace(it,nt)},lt.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},lt.uniqueSort=function(t){var e,i=[],n=0,a=0;if(d=!r.detectDuplicates,h=!r.sortStable&&t.slice(0),t.sort(N),d){for(;e=t[a++];)e===t[a]&&(n=i.push(a));for(;n--;)t.splice(i[n],1)}return h=null,t},n=lt.getText=function(t){var e,r="",i=0,a=t.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)r+=n(t)}else if(3===a||4===a)return t.nodeValue}else for(;e=t[i++];)r+=n(e);return r},(i=lt.selectors={cacheLength:50,createPseudo:ct,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,rt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,rt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||lt.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&lt.error(t[0]),t},PSEUDO:function(t){var e,r=!t[6]&&t[2];return V.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":r&&X.test(r)&&(e=o(r,!0))&&(e=r.indexOf(")",r.length-e)-r.length)&&(t[0]=t[0].slice(0,e),t[2]=r.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,rt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=_[t+" "];return e||(e=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+t+"("+H+"|$)"))&&_(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,r){return function(i){var n=lt.attr(i,t);return null==n?"!="===e:!e||(n+="","="===e?n===r:"!="===e?n!==r:"^="===e?r&&0===n.indexOf(r):"*="===e?r&&n.indexOf(r)>-1:"$="===e?r&&n.slice(-r.length)===r:"~="===e?(" "+n.replace(R," ")+" ").indexOf(r)>-1:"|="===e&&(n===r||n.slice(0,r.length+1)===r+"-"))}},CHILD:function(t,e,r,i,n){var a="nth"!==t.slice(0,3),o="last"!==t.slice(-4),l="of-type"===e;return 1===i&&0===n?function(t){return!!t.parentNode}:function(e,r,s){var c,h,d,p,u,g,f=a!==o?"nextSibling":"previousSibling",m=e.parentNode,v=l&&e.nodeName.toLowerCase(),b=!s&&!l,C=!1;if(m){if(a){for(;f;){for(p=e;p=p[f];)if(l?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;g=f="only"===t&&!g&&"nextSibling"}return!0}if(g=[o?m.firstChild:m.lastChild],o&&b){for(C=(u=(c=(h=(d=(p=m)[y]||(p[y]={}))[p.uniqueID]||(d[p.uniqueID]={}))[t]||[])[0]===O&&c[1])&&c[2],p=u&&m.childNodes[u];p=++u&&p&&p[f]||(C=u=0)||g.pop();)if(1===p.nodeType&&++C&&p===e){h[t]=[O,u,C];break}}else if(b&&(C=u=(c=(h=(d=(p=e)[y]||(p[y]={}))[p.uniqueID]||(d[p.uniqueID]={}))[t]||[])[0]===O&&c[1]),!1===C)for(;(p=++u&&p&&p[f]||(C=u=0)||g.pop())&&((l?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++C||(b&&((h=(d=p[y]||(p[y]={}))[p.uniqueID]||(d[p.uniqueID]={}))[t]=[O,C]),p!==e)););return(C-=n)===i||C%i==0&&C/i>=0}}},PSEUDO:function(t,e){var r,n=i.pseudos[t]||i.setFilters[t.toLowerCase()]||lt.error("unsupported pseudo: "+t);return n[y]?n(e):n.length>1?(r=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?ct(function(t,r){for(var i,a=n(t,e),o=a.length;o--;)t[i=j(t,a[o])]=!(r[i]=a[o])}):function(t){return n(t,0,r)}):n}},pseudos:{not:ct(function(t){var e=[],r=[],i=l(t.replace(z,"$1"));return i[y]?ct(function(t,e,r,n){for(var a,o=i(t,null,n,[]),l=t.length;l--;)(a=o[l])&&(t[l]=!(e[l]=a))}):function(t,n,a){return e[0]=t,i(e,null,a,r),e[0]=null,!r.pop()}}),has:ct(function(t){return function(e){return lt(t,e).length>0}}),contains:ct(function(t){return t=t.replace(et,rt),function(e){return(e.textContent||n(e)).indexOf(t)>-1}}),lang:ct(function(t){return W.test(t||"")||lt.error("unsupported lang: "+t),t=t.replace(et,rt).toLowerCase(),function(e){var r;do{if(r=f?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(r=r.toLowerCase())===t||0===r.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var r=t.location&&t.location.hash;return r&&r.slice(1)===e.id},root:function(t){return t===g},focus:function(t){return t===u.activeElement&&(!u.hasFocus||u.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:ft(!1),disabled:ft(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return K.test(t.nodeName)},input:function(t){return J.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:mt(function(){return[0]}),last:mt(function(t,e){return[e-1]}),eq:mt(function(t,e,r){return[r<0?r+e:r]}),even:mt(function(t,e){for(var r=0;r<e;r+=2)t.push(r);return t}),odd:mt(function(t,e){for(var r=1;r<e;r+=2)t.push(r);return t}),lt:mt(function(t,e,r){for(var i=r<0?r+e:r>e?e:r;--i>=0;)t.push(i);return t}),gt:mt(function(t,e,r){for(var i=r<0?r+e:r;++i<e;)t.push(i);return t})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=ut(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=gt(e);function bt(){}function Ct(t){for(var e=0,r=t.length,i="";e<r;e++)i+=t[e].value;return i}function yt(t,e,r){var i=e.dir,n=e.next,a=n||i,o=r&&"parentNode"===a,l=w++;return e.first?function(e,r,n){for(;e=e[i];)if(1===e.nodeType||o)return t(e,r,n);return!1}:function(e,r,s){var c,h,d,p=[O,l];if(s){for(;e=e[i];)if((1===e.nodeType||o)&&t(e,r,s))return!0}else for(;e=e[i];)if(1===e.nodeType||o)if(h=(d=e[y]||(e[y]={}))[e.uniqueID]||(d[e.uniqueID]={}),n&&n===e.nodeName.toLowerCase())e=e[i]||e;else{if((c=h[a])&&c[0]===O&&c[1]===l)return p[2]=c[2];if(h[a]=p,p[2]=t(e,r,s))return!0}return!1}}function xt(t){return t.length>1?function(e,r,i){for(var n=t.length;n--;)if(!t[n](e,r,i))return!1;return!0}:t[0]}function Ot(t,e,r,i,n){for(var a,o=[],l=0,s=t.length,c=null!=e;l<s;l++)(a=t[l])&&(r&&!r(a,i,n)||(o.push(a),c&&e.push(l)));return o}function wt(t,e,r,i,n,a){return i&&!i[y]&&(i=wt(i)),n&&!n[y]&&(n=wt(n,a)),ct(function(a,o,l,s){var c,h,d,p=[],u=[],g=o.length,f=a||function(t,e,r){for(var i=0,n=e.length;i<n;i++)lt(t,e[i],r);return r}(e||"*",l.nodeType?[l]:l,[]),m=!t||!a&&e?f:Ot(f,p,t,l,s),v=r?n||(a?t:g||i)?[]:o:m;if(r&&r(m,v,l,s),i)for(c=Ot(v,u),i(c,[],l,s),h=c.length;h--;)(d=c[h])&&(v[u[h]]=!(m[u[h]]=d));if(a){if(n||t){if(n){for(c=[],h=v.length;h--;)(d=v[h])&&c.push(m[h]=d);n(null,v=[],c,s)}for(h=v.length;h--;)(d=v[h])&&(c=n?j(a,d):p[h])>-1&&(a[c]=!(o[c]=d))}}else v=Ot(v===o?v.splice(g,v.length):v),n?n(null,o,v,s):M.apply(o,v)})}function _t(t){for(var e,r,n,a=t.length,o=i.relative[t[0].type],l=o||i.relative[" "],s=o?1:0,h=yt(function(t){return t===e},l,!0),d=yt(function(t){return j(e,t)>-1},l,!0),p=[function(t,r,i){var n=!o&&(i||r!==c)||((e=r).nodeType?h(t,r,i):d(t,r,i));return e=null,n}];s<a;s++)if(r=i.relative[t[s].type])p=[yt(xt(p),r)];else{if((r=i.filter[t[s].type].apply(null,t[s].matches))[y]){for(n=++s;n<a&&!i.relative[t[n].type];n++);return wt(s>1&&xt(p),s>1&&Ct(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(z,"$1"),r,s<n&&_t(t.slice(s,n)),n<a&&_t(t=t.slice(n)),n<a&&Ct(t))}p.push(r)}return xt(p)}return bt.prototype=i.filters=i.pseudos,i.setFilters=new bt,o=lt.tokenize=function(t,e){var r,n,a,o,l,s,c,h=k[t+" "];if(h)return e?0:h.slice(0);for(l=t,s=[],c=i.preFilter;l;){for(o in r&&!(n=q.exec(l))||(n&&(l=l.slice(n[0].length)||l),s.push(a=[])),r=!1,(n=$.exec(l))&&(r=n.shift(),a.push({value:r,type:n[0].replace(z," ")}),l=l.slice(r.length)),i.filter)!(n=V[o].exec(l))||c[o]&&!(n=c[o](n))||(r=n.shift(),a.push({value:r,type:o,matches:n}),l=l.slice(r.length));if(!r)break}return e?l.length:l?lt.error(t):k(t,s).slice(0)},l=lt.compile=function(t,e){var r,n=[],a=[],l=S[t+" "];if(!l){for(e||(e=o(t)),r=e.length;r--;)(l=_t(e[r]))[y]?n.push(l):a.push(l);(l=S(t,function(t,e){var r=e.length>0,n=t.length>0,a=function(a,o,l,s,h){var d,g,m,v=0,b="0",C=a&&[],y=[],x=c,w=a||n&&i.find.TAG("*",h),_=O+=null==x?1:Math.random()||.1,k=w.length;for(h&&(c=o==u||o||h);b!==k&&null!=(d=w[b]);b++){if(n&&d){for(g=0,o||d.ownerDocument==u||(p(d),l=!f);m=t[g++];)if(m(d,o||u,l)){s.push(d);break}h&&(O=_)}r&&((d=!m&&d)&&v--,a&&C.push(d))}if(v+=b,r&&b!==v){for(g=0;m=e[g++];)m(C,y,o,l);if(a){if(v>0)for(;b--;)C[b]||y[b]||(y[b]=L.call(s));y=Ot(y)}M.apply(s,y),h&&!a&&y.length>0&&v+e.length>1&&lt.uniqueSort(s)}return h&&(O=_,c=x),C};return r?ct(a):a}(a,n))).selector=t}return l},s=lt.select=function(t,e,r,n){var a,s,c,h,d,p="function"==typeof t&&t,u=!n&&o(t=p.selector||t);if(r=r||[],1===u.length){if((s=u[0]=u[0].slice(0)).length>2&&"ID"===(c=s[0]).type&&9===e.nodeType&&f&&i.relative[s[1].type]){if(!(e=(i.find.ID(c.matches[0].replace(et,rt),e)||[])[0]))return r;p&&(e=e.parentNode),t=t.slice(s.shift().value.length)}for(a=V.needsContext.test(t)?0:s.length;a--&&!i.relative[h=(c=s[a]).type];)if((d=i.find[h])&&(n=d(c.matches[0].replace(et,rt),tt.test(s[0].type)&&vt(e.parentNode)||e))){if(s.splice(a,1),!(t=n.length&&Ct(s)))return M.apply(r,n),r;break}}return(p||l(t,u))(n,e,!f,r,!e||tt.test(t)&&vt(e.parentNode)||e),r},r.sortStable=y.split("").sort(N).join("")===y,r.detectDuplicates=!!d,p(),r.sortDetached=ht(function(t){return 1&t.compareDocumentPosition(u.createElement("fieldset"))}),ht(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||dt("type|href|height|width",function(t,e,r){if(!r)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),r.attributes&&ht(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||dt("value",function(t,e,r){if(!r&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ht(function(t){return null==t.getAttribute("disabled")})||dt(B,function(t,e,r){var i;if(!r)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),lt}(t);x.find=w,x.expr=w.selectors,x.expr[":"]=x.expr.pseudos,x.uniqueSort=x.unique=w.uniqueSort,x.text=w.getText,x.isXMLDoc=w.isXML,x.contains=w.contains,x.escapeSelector=w.escape;var _=function(t,e,r){for(var i=[],n=void 0!==r;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(n&&x(t).is(r))break;i.push(t)}return i},k=function(t,e){for(var r=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&r.push(t);return r},S=x.expr.match.needsContext;function A(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function E(t,e,r){return g(e)?x.grep(t,function(t,i){return!!e.call(t,i,t)!==r}):e.nodeType?x.grep(t,function(t){return t===e!==r}):"string"!=typeof e?x.grep(t,function(t){return l.call(e,t)>-1!==r}):x.filter(e,t,r)}x.filter=function(t,e,r){var i=e[0];return r&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?x.find.matchesSelector(i,t)?[i]:[]:x.find.matches(t,x.grep(e,function(t){return 1===t.nodeType}))},x.fn.extend({find:function(t){var e,r,i=this.length,n=this;if("string"!=typeof t)return this.pushStack(x(t).filter(function(){for(e=0;e<i;e++)if(x.contains(n[e],this))return!0}));for(r=this.pushStack([]),e=0;e<i;e++)x.find(t,n[e],r);return i>1?x.uniqueSort(r):r},filter:function(t){return this.pushStack(E(this,t||[],!1))},not:function(t){return this.pushStack(E(this,t||[],!0))},is:function(t){return!!E(this,"string"==typeof t&&S.test(t)?x(t):t||[],!1).length}});var I,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(x.fn.init=function(t,e,r){var i,n;if(!t)return this;if(r=r||I,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:L.exec(t))||!i[1]&&e)return!e||e.jquery?(e||r).find(t):this.constructor(e).find(t);if(i[1]){if(x.merge(this,x.parseHTML(i[1],(e=e instanceof x?e[0]:e)&&e.nodeType?e.ownerDocument||e:m,!0)),N.test(i[1])&&x.isPlainObject(e))for(i in e)g(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(n=m.getElementById(i[2]))&&(this[0]=n,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):g(t)?void 0!==r.ready?r.ready(t):t(x):x.makeArray(t,this)}).prototype=x.fn,I=x(m);var T=/^(?:parents|prev(?:Until|All))/,M={children:!0,contents:!0,next:!0,prev:!0};function P(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}x.fn.extend({has:function(t){var e=x(t,this),r=e.length;return this.filter(function(){for(var t=0;t<r;t++)if(x.contains(this,e[t]))return!0})},closest:function(t,e){var r,i=0,n=this.length,a=[],o="string"!=typeof t&&x(t);if(!S.test(t))for(;i<n;i++)for(r=this[i];r&&r!==e;r=r.parentNode)if(r.nodeType<11&&(o?o.index(r)>-1:1===r.nodeType&&x.find.matchesSelector(r,t))){a.push(r);break}return this.pushStack(a.length>1?x.uniqueSort(a):a)},index:function(t){return t?"string"==typeof t?l.call(x(t),this[0]):l.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(x.uniqueSort(x.merge(this.get(),x(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),x.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return _(t,"parentNode")},parentsUntil:function(t,e,r){return _(t,"parentNode",r)},next:function(t){return P(t,"nextSibling")},prev:function(t){return P(t,"previousSibling")},nextAll:function(t){return _(t,"nextSibling")},prevAll:function(t){return _(t,"previousSibling")},nextUntil:function(t,e,r){return _(t,"nextSibling",r)},prevUntil:function(t,e,r){return _(t,"previousSibling",r)},siblings:function(t){return k((t.parentNode||{}).firstChild,t)},children:function(t){return k(t.firstChild)},contents:function(t){return null!=t.contentDocument&&i(t.contentDocument)?t.contentDocument:(A(t,"template")&&(t=t.content||t),x.merge([],t.childNodes))}},function(t,e){x.fn[t]=function(r,i){var n=x.map(this,e,r);return"Until"!==t.slice(-5)&&(i=r),i&&"string"==typeof i&&(n=x.filter(i,n)),this.length>1&&(M[t]||x.uniqueSort(n),T.test(t)&&n.reverse()),this.pushStack(n)}});var j=/[^\x20\t\r\n\f]+/g;function B(t){return t}function H(t){throw t}function D(t,e,r,i){var n;try{t&&g(n=t.promise)?n.call(t).done(e).fail(r):t&&g(n=t.then)?n.call(t,e,r):e.apply(void 0,[t].slice(i))}catch(t){r.apply(void 0,[t])}}x.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return x.each(t.match(j)||[],function(t,r){e[r]=!0}),e}(t):x.extend({},t);var e,r,i,n,a=[],o=[],l=-1,s=function(){for(n=n||t.once,i=e=!0;o.length;l=-1)for(r=o.shift();++l<a.length;)!1===a[l].apply(r[0],r[1])&&t.stopOnFalse&&(l=a.length,r=!1);t.memory||(r=!1),e=!1,n&&(a=r?[]:"")},c={add:function(){return a&&(r&&!e&&(l=a.length-1,o.push(r)),function e(r){x.each(r,function(r,i){g(i)?t.unique&&c.has(i)||a.push(i):i&&i.length&&"string"!==C(i)&&e(i)})}(arguments),r&&!e&&s()),this},remove:function(){return x.each(arguments,function(t,e){for(var r;(r=x.inArray(e,a,r))>-1;)a.splice(r,1),r<=l&&l--}),this},has:function(t){return t?x.inArray(t,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return n=o=[],a=r="",this},disabled:function(){return!a},lock:function(){return n=o=[],r||e||(a=r=""),this},locked:function(){return!!n},fireWith:function(t,r){return n||(r=[t,(r=r||[]).slice?r.slice():r],o.push(r),e||s()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},x.extend({Deferred:function(e){var r=[["notify","progress",x.Callbacks("memory"),x.Callbacks("memory"),2],["resolve","done",x.Callbacks("once memory"),x.Callbacks("once memory"),0,"resolved"],["reject","fail",x.Callbacks("once memory"),x.Callbacks("once memory"),1,"rejected"]],i="pending",n={state:function(){return i},always:function(){return a.done(arguments).fail(arguments),this},catch:function(t){return n.then(null,t)},pipe:function(){var t=arguments;return x.Deferred(function(e){x.each(r,function(r,i){var n=g(t[i[4]])&&t[i[4]];a[i[1]](function(){var t=n&&n.apply(this,arguments);t&&g(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+"With"](this,n?[t]:arguments)})}),t=null}).promise()},then:function(e,i,n){var a=0;function o(e,r,i,n){return function(){var l=this,s=arguments,c=function(){var t,c;if(!(e<a)){if((t=i.apply(l,s))===r.promise())throw new TypeError("Thenable self-resolution");g(c=t&&("object"==typeof t||"function"==typeof t)&&t.then)?n?c.call(t,o(a,r,B,n),o(a,r,H,n)):(a++,c.call(t,o(a,r,B,n),o(a,r,H,n),o(a,r,B,r.notifyWith))):(i!==B&&(l=void 0,s=[t]),(n||r.resolveWith)(l,s))}},h=n?c:function(){try{c()}catch(t){x.Deferred.exceptionHook&&x.Deferred.exceptionHook(t,h.stackTrace),e+1>=a&&(i!==H&&(l=void 0,s=[t]),r.rejectWith(l,s))}};e?h():(x.Deferred.getStackHook&&(h.stackTrace=x.Deferred.getStackHook()),t.setTimeout(h))}}return x.Deferred(function(t){r[0][3].add(o(0,t,g(n)?n:B,t.notifyWith)),r[1][3].add(o(0,t,g(e)?e:B)),r[2][3].add(o(0,t,g(i)?i:H))}).promise()},promise:function(t){return null!=t?x.extend(t,n):n}},a={};return x.each(r,function(t,e){var o=e[2],l=e[5];n[e[1]]=o.add,l&&o.add(function(){i=l},r[3-t][2].disable,r[3-t][3].disable,r[0][2].lock,r[0][3].lock),o.add(e[3].fire),a[e[0]]=function(){return a[e[0]+"With"](this===a?void 0:this,arguments),this},a[e[0]+"With"]=o.fireWith}),n.promise(a),e&&e.call(a,a),a},when:function(t){var e=arguments.length,r=e,i=Array(r),a=n.call(arguments),o=x.Deferred(),l=function(t){return function(r){i[t]=this,a[t]=arguments.length>1?n.call(arguments):r,--e||o.resolveWith(i,a)}};if(e<=1&&(D(t,o.done(l(r)).resolve,o.reject,!e),"pending"===o.state()||g(a[r]&&a[r].then)))return o.then();for(;r--;)D(a[r],l(r),o.reject);return o.promise()}});var U=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;x.Deferred.exceptionHook=function(e,r){t.console&&t.console.warn&&e&&U.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,r)},x.readyException=function(e){t.setTimeout(function(){throw e})};var F=x.Deferred();function R(){m.removeEventListener("DOMContentLoaded",R),t.removeEventListener("load",R),x.ready()}x.fn.ready=function(t){return F.then(t).catch(function(t){x.readyException(t)}),this},x.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--x.readyWait:x.isReady)||(x.isReady=!0,!0!==t&&--x.readyWait>0||F.resolveWith(m,[x]))}}),x.ready.then=F.then,"complete"===m.readyState||"loading"!==m.readyState&&!m.documentElement.doScroll?t.setTimeout(x.ready):(m.addEventListener("DOMContentLoaded",R),t.addEventListener("load",R));var z=function(t,e,r,i,n,a,o){var l=0,s=t.length,c=null==r;if("object"===C(r))for(l in n=!0,r)z(t,e,l,r[l],!0,a,o);else if(void 0!==i&&(n=!0,g(i)||(o=!0),c&&(o?(e.call(t,i),e=null):(c=e,e=function(t,e,r){return c.call(x(t),r)})),e))for(;l<s;l++)e(t[l],r,o?i:i.call(t[l],l,e(t[l],r)));return n?t:c?e.call(t):s?e(t[0],r):a},q=/^-ms-/,$=/-([a-z])/g;function Y(t,e){return e.toUpperCase()}function X(t){return t.replace(q,"ms-").replace($,Y)}var W=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function V(){this.expando=x.expando+V.uid++}V.uid=1,V.prototype={cache:function(t){var e=t[this.expando];return e||(e={},W(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,r){var i,n=this.cache(t);if("string"==typeof e)n[X(e)]=r;else for(i in e)n[X(i)]=e[i];return n},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][X(e)]},access:function(t,e,r){return void 0===e||e&&"string"==typeof e&&void 0===r?this.get(t,e):(this.set(t,e,r),void 0!==r?r:e)},remove:function(t,e){var r,i=t[this.expando];if(void 0!==i){if(void 0!==e){r=(e=Array.isArray(e)?e.map(X):(e=X(e))in i?[e]:e.match(j)||[]).length;for(;r--;)delete i[e[r]]}(void 0===e||x.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!x.isEmptyObject(e)}};var G=new V,J=new V,K=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function Z(t,e,r){var i;if(void 0===r&&1===t.nodeType)if(i="data-"+e.replace(Q,"-$&").toLowerCase(),"string"==typeof(r=t.getAttribute(i))){try{r=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:K.test(t)?JSON.parse(t):t)}(r)}catch(n){}J.set(t,e,r)}else r=void 0;return r}x.extend({hasData:function(t){return J.hasData(t)||G.hasData(t)},data:function(t,e,r){return J.access(t,e,r)},removeData:function(t,e){J.remove(t,e)},_data:function(t,e,r){return G.access(t,e,r)},_removeData:function(t,e){G.remove(t,e)}}),x.fn.extend({data:function(t,e){var r,i,n,a=this[0],o=a&&a.attributes;if(void 0===t){if(this.length&&(n=J.get(a),1===a.nodeType&&!G.get(a,"hasDataAttrs"))){for(r=o.length;r--;)o[r]&&0===(i=o[r].name).indexOf("data-")&&(i=X(i.slice(5)),Z(a,i,n[i]));G.set(a,"hasDataAttrs",!0)}return n}return"object"==typeof t?this.each(function(){J.set(this,t)}):z(this,function(e){var r;if(a&&void 0===e)return void 0!==(r=J.get(a,t))||void 0!==(r=Z(a,t))?r:void 0;this.each(function(){J.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){J.remove(this,t)})}}),x.extend({queue:function(t,e,r){var i;if(t)return i=G.get(t,e=(e||"fx")+"queue"),r&&(!i||Array.isArray(r)?i=G.access(t,e,x.makeArray(r)):i.push(r)),i||[]},dequeue:function(t,e){var r=x.queue(t,e=e||"fx"),i=r.length,n=r.shift(),a=x._queueHooks(t,e);"inprogress"===n&&(n=r.shift(),i--),n&&("fx"===e&&r.unshift("inprogress"),delete a.stop,n.call(t,function(){x.dequeue(t,e)},a)),!i&&a&&a.empty.fire()},_queueHooks:function(t,e){var r=e+"queueHooks";return G.get(t,r)||G.access(t,r,{empty:x.Callbacks("once memory").add(function(){G.remove(t,[e+"queue",r])})})}}),x.fn.extend({queue:function(t,e){var r=2;return"string"!=typeof t&&(e=t,t="fx",r--),arguments.length<r?x.queue(this[0],t):void 0===e?this:this.each(function(){var r=x.queue(this,t,e);x._queueHooks(this,t),"fx"===t&&"inprogress"!==r[0]&&x.dequeue(this,t)})},dequeue:function(t){return this.each(function(){x.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var r,i=1,n=x.Deferred(),a=this,o=this.length,l=function(){--i||n.resolveWith(a,[a])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(r=G.get(a[o],t+"queueHooks"))&&r.empty&&(i++,r.empty.add(l));return l(),n.promise(e)}});var tt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,et=new RegExp("^(?:([+-])=|)("+tt+")([a-z%]*)$","i"),rt=["Top","Right","Bottom","Left"],it=m.documentElement,nt=function(t){return x.contains(t.ownerDocument,t)},at={composed:!0};it.getRootNode&&(nt=function(t){return x.contains(t.ownerDocument,t)||t.getRootNode(at)===t.ownerDocument});var ot=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&nt(t)&&"none"===x.css(t,"display")};function lt(t,e,r,i){var n,a,o=20,l=i?function(){return i.cur()}:function(){return x.css(t,e,"")},s=l(),c=r&&r[3]||(x.cssNumber[e]?"":"px"),h=t.nodeType&&(x.cssNumber[e]||"px"!==c&&+s)&&et.exec(x.css(t,e));if(h&&h[3]!==c){for(c=c||h[3],h=+(s/=2)||1;o--;)x.style(t,e,h+c),(1-a)*(1-(a=l()/s||.5))<=0&&(o=0),h/=a;x.style(t,e,(h*=2)+c),r=r||[]}return r&&(h=+h||+s||0,n=r[1]?h+(r[1]+1)*r[2]:+r[2],i&&(i.unit=c,i.start=h,i.end=n)),n}var st={};function ct(t){var e,r=t.ownerDocument,i=t.nodeName,n=st[i];return n||(e=r.body.appendChild(r.createElement(i)),n=x.css(e,"display"),e.parentNode.removeChild(e),"none"===n&&(n="block"),st[i]=n,n)}function ht(t,e){for(var r,i,n=[],a=0,o=t.length;a<o;a++)(i=t[a]).style&&(r=i.style.display,e?("none"===r&&(n[a]=G.get(i,"display")||null,n[a]||(i.style.display="")),""===i.style.display&&ot(i)&&(n[a]=ct(i))):"none"!==r&&(n[a]="none",G.set(i,"display",r)));for(a=0;a<o;a++)null!=n[a]&&(t[a].style.display=n[a]);return t}x.fn.extend({show:function(){return ht(this,!0)},hide:function(){return ht(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){ot(this)?x(this).show():x(this).hide()})}});var dt,pt,ut=/^(?:checkbox|radio)$/i,gt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ft=/^$|^module$|\/(?:java|ecma)script/i;dt=m.createDocumentFragment().appendChild(m.createElement("div")),(pt=m.createElement("input")).setAttribute("type","radio"),pt.setAttribute("checked","checked"),pt.setAttribute("name","t"),dt.appendChild(pt),u.checkClone=dt.cloneNode(!0).cloneNode(!0).lastChild.checked,dt.innerHTML="<textarea>x</textarea>",u.noCloneChecked=!!dt.cloneNode(!0).lastChild.defaultValue,dt.innerHTML="<option></option>",u.option=!!dt.lastChild;var mt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function vt(t,e){var r;return r=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&A(t,e)?x.merge([t],r):r}function bt(t,e){for(var r=0,i=t.length;r<i;r++)G.set(t[r],"globalEval",!e||G.get(e[r],"globalEval"))}mt.tbody=mt.tfoot=mt.colgroup=mt.caption=mt.thead,mt.th=mt.td,u.option||(mt.optgroup=mt.option=[1,"<select multiple='multiple'>","</select>"]);var Ct=/<|&#?\w+;/;function yt(t,e,r,i,n){for(var a,o,l,s,c,h,d=e.createDocumentFragment(),p=[],u=0,g=t.length;u<g;u++)if((a=t[u])||0===a)if("object"===C(a))x.merge(p,a.nodeType?[a]:a);else if(Ct.test(a)){for(o=o||d.appendChild(e.createElement("div")),l=(gt.exec(a)||["",""])[1].toLowerCase(),o.innerHTML=(s=mt[l]||mt._default)[1]+x.htmlPrefilter(a)+s[2],h=s[0];h--;)o=o.lastChild;x.merge(p,o.childNodes),(o=d.firstChild).textContent=""}else p.push(e.createTextNode(a));for(d.textContent="",u=0;a=p[u++];)if(i&&x.inArray(a,i)>-1)n&&n.push(a);else if(c=nt(a),o=vt(d.appendChild(a),"script"),c&&bt(o),r)for(h=0;a=o[h++];)ft.test(a.type||"")&&r.push(a);return d}var xt=/^([^.]*)(?:\.(.+)|)/;function Ot(){return!0}function wt(){return!1}function _t(t,e){return t===function(){try{return m.activeElement}catch(t){}}()==("focus"===e)}function kt(t,e,r,i,n,a){var o,l;if("object"==typeof e){for(l in"string"!=typeof r&&(i=i||r,r=void 0),e)kt(t,l,r,i,e[l],a);return t}if(null==i&&null==n?(n=r,i=r=void 0):null==n&&("string"==typeof r?(n=i,i=void 0):(n=i,i=r,r=void 0)),!1===n)n=wt;else if(!n)return t;return 1===a&&(o=n,(n=function(t){return x().off(t),o.apply(this,arguments)}).guid=o.guid||(o.guid=x.guid++)),t.each(function(){x.event.add(this,e,n,i,r)})}function St(t,e,r){r?(G.set(t,e,!1),x.event.add(t,e,{namespace:!1,handler:function(t){var i,a,o=G.get(this,e);if(1&t.isTrigger&&this[e]){if(o.length)(x.event.special[e]||{}).delegateType&&t.stopPropagation();else if(o=n.call(arguments),G.set(this,e,o),i=r(this,e),this[e](),o!==(a=G.get(this,e))||i?G.set(this,e,!1):a={},o!==a)return t.stopImmediatePropagation(),t.preventDefault(),a&&a.value}else o.length&&(G.set(this,e,{value:x.event.trigger(x.extend(o[0],x.Event.prototype),o.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===G.get(t,e)&&x.event.add(t,e,Ot)}x.event={global:{},add:function(t,e,r,i,n){var a,o,l,s,c,h,d,p,u,g,f,m=G.get(t);if(W(t))for(r.handler&&(r=(a=r).handler,n=a.selector),n&&x.find.matchesSelector(it,n),r.guid||(r.guid=x.guid++),(s=m.events)||(s=m.events=Object.create(null)),(o=m.handle)||(o=m.handle=function(e){return void 0!==x&&x.event.triggered!==e.type?x.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(j)||[""]).length;c--;)u=f=(l=xt.exec(e[c])||[])[1],g=(l[2]||"").split(".").sort(),u&&(d=x.event.special[u]||{},d=x.event.special[u=(n?d.delegateType:d.bindType)||u]||{},h=x.extend({type:u,origType:f,data:i,handler:r,guid:r.guid,selector:n,needsContext:n&&x.expr.match.needsContext.test(n),namespace:g.join(".")},a),(p=s[u])||((p=s[u]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,i,g,o)||t.addEventListener&&t.addEventListener(u,o)),d.add&&(d.add.call(t,h),h.handler.guid||(h.handler.guid=r.guid)),n?p.splice(p.delegateCount++,0,h):p.push(h),x.event.global[u]=!0)},remove:function(t,e,r,i,n){var a,o,l,s,c,h,d,p,u,g,f,m=G.hasData(t)&&G.get(t);if(m&&(s=m.events)){for(c=(e=(e||"").match(j)||[""]).length;c--;)if(u=f=(l=xt.exec(e[c])||[])[1],g=(l[2]||"").split(".").sort(),u){for(d=x.event.special[u]||{},p=s[u=(i?d.delegateType:d.bindType)||u]||[],l=l[2]&&new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=p.length;a--;)h=p[a],!n&&f!==h.origType||r&&r.guid!==h.guid||l&&!l.test(h.namespace)||i&&i!==h.selector&&("**"!==i||!h.selector)||(p.splice(a,1),h.selector&&p.delegateCount--,d.remove&&d.remove.call(t,h));o&&!p.length&&(d.teardown&&!1!==d.teardown.call(t,g,m.handle)||x.removeEvent(t,u,m.handle),delete s[u])}else for(u in s)x.event.remove(t,u+e[c],r,i,!0);x.isEmptyObject(s)&&G.remove(t,"handle events")}},dispatch:function(t){var e,r,i,n,a,o,l=new Array(arguments.length),s=x.event.fix(t),c=(G.get(this,"events")||Object.create(null))[s.type]||[],h=x.event.special[s.type]||{};for(l[0]=s,e=1;e<arguments.length;e++)l[e]=arguments[e];if(s.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,s)){for(o=x.event.handlers.call(this,s,c),e=0;(n=o[e++])&&!s.isPropagationStopped();)for(s.currentTarget=n.elem,r=0;(a=n.handlers[r++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==a.namespace&&!s.rnamespace.test(a.namespace)||(s.handleObj=a,s.data=a.data,void 0!==(i=((x.event.special[a.origType]||{}).handle||a.handler).apply(n.elem,l))&&!1===(s.result=i)&&(s.preventDefault(),s.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,s),s.result}},handlers:function(t,e){var r,i,n,a,o,l=[],s=e.delegateCount,c=t.target;if(s&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(a=[],o={},r=0;r<s;r++)void 0===o[n=(i=e[r]).selector+" "]&&(o[n]=i.needsContext?x(n,this).index(c)>-1:x.find(n,this,null,[c]).length),o[n]&&a.push(i);a.length&&l.push({elem:c,handlers:a})}return c=this,s<e.length&&l.push({elem:c,handlers:e.slice(s)}),l},addProp:function(t,e){Object.defineProperty(x.Event.prototype,t,{enumerable:!0,configurable:!0,get:g(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[x.expando]?t:new x.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return ut.test(e.type)&&e.click&&A(e,"input")&&St(e,"click",Ot),!1},trigger:function(t){var e=this||t;return ut.test(e.type)&&e.click&&A(e,"input")&&St(e,"click"),!0},_default:function(t){var e=t.target;return ut.test(e.type)&&e.click&&A(e,"input")&&G.get(e,"click")||A(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},x.removeEvent=function(t,e,r){t.removeEventListener&&t.removeEventListener(e,r)},x.Event=function(t,e){if(!(this instanceof x.Event))return new x.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Ot:wt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&x.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[x.expando]=!0},x.Event.prototype={constructor:x.Event,isDefaultPrevented:wt,isPropagationStopped:wt,isImmediatePropagationStopped:wt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Ot,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Ot,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Ot,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},x.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},x.event.addProp),x.each({focus:"focusin",blur:"focusout"},function(t,e){x.event.special[t]={setup:function(){return St(this,t,_t),!1},trigger:function(){return St(this,t),!0},_default:function(){return!0},delegateType:e}}),x.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){x.event.special[t]={delegateType:e,bindType:e,handle:function(t){var r,i=this,n=t.relatedTarget,a=t.handleObj;return n&&(n===i||x.contains(i,n))||(t.type=a.origType,r=a.handler.apply(this,arguments),t.type=e),r}}}),x.fn.extend({on:function(t,e,r,i){return kt(this,t,e,r,i)},one:function(t,e,r,i){return kt(this,t,e,r,i,1)},off:function(t,e,r){var i,n;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,x(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(n in t)this.off(n,e,t[n]);return this}return!1!==e&&"function"!=typeof e||(r=e,e=void 0),!1===r&&(r=wt),this.each(function(){x.event.remove(this,t,r,e)})}});var At=/<script|<style|<link/i,Nt=/checked\s*(?:[^=]|=\s*.checked.)/i,Et=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function It(t,e){return A(t,"table")&&A(11!==e.nodeType?e:e.firstChild,"tr")&&x(t).children("tbody")[0]||t}function Lt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Tt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Mt(t,e){var r,i,n,a,o,l;if(1===e.nodeType){if(G.hasData(t)&&(l=G.get(t).events))for(n in G.remove(e,"handle events"),l)for(r=0,i=l[n].length;r<i;r++)x.event.add(e,n,l[n][r]);J.hasData(t)&&(a=J.access(t),o=x.extend({},a),J.set(e,o))}}function Pt(t,e){var r=e.nodeName.toLowerCase();"input"===r&&ut.test(t.type)?e.checked=t.checked:"input"!==r&&"textarea"!==r||(e.defaultValue=t.defaultValue)}function jt(t,e,r,i){e=a(e);var n,o,l,s,c,h,d=0,p=t.length,f=p-1,m=e[0],v=g(m);if(v||p>1&&"string"==typeof m&&!u.checkClone&&Nt.test(m))return t.each(function(n){var a=t.eq(n);v&&(e[0]=m.call(this,n,a.html())),jt(a,e,r,i)});if(p&&(o=(n=yt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===n.childNodes.length&&(n=o),o||i)){for(s=(l=x.map(vt(n,"script"),Lt)).length;d<p;d++)c=n,d!==f&&(c=x.clone(c,!0,!0),s&&x.merge(l,vt(c,"script"))),r.call(t[d],c,d);if(s)for(h=l[l.length-1].ownerDocument,x.map(l,Tt),d=0;d<s;d++)ft.test((c=l[d]).type||"")&&!G.access(c,"globalEval")&&x.contains(h,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?x._evalUrl&&!c.noModule&&x._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},h):b(c.textContent.replace(Et,""),c,h))}return t}function Bt(t,e,r){for(var i,n=e?x.filter(e,t):t,a=0;null!=(i=n[a]);a++)r||1!==i.nodeType||x.cleanData(vt(i)),i.parentNode&&(r&&nt(i)&&bt(vt(i,"script")),i.parentNode.removeChild(i));return t}x.extend({htmlPrefilter:function(t){return t},clone:function(t,e,r){var i,n,a,o,l=t.cloneNode(!0),s=nt(t);if(!(u.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||x.isXMLDoc(t)))for(o=vt(l),i=0,n=(a=vt(t)).length;i<n;i++)Pt(a[i],o[i]);if(e)if(r)for(a=a||vt(t),o=o||vt(l),i=0,n=a.length;i<n;i++)Mt(a[i],o[i]);else Mt(t,l);return(o=vt(l,"script")).length>0&&bt(o,!s&&vt(t,"script")),l},cleanData:function(t){for(var e,r,i,n=x.event.special,a=0;void 0!==(r=t[a]);a++)if(W(r)){if(e=r[G.expando]){if(e.events)for(i in e.events)n[i]?x.event.remove(r,i):x.removeEvent(r,i,e.handle);r[G.expando]=void 0}r[J.expando]&&(r[J.expando]=void 0)}}}),x.fn.extend({detach:function(t){return Bt(this,t,!0)},remove:function(t){return Bt(this,t)},text:function(t){return z(this,function(t){return void 0===t?x.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return jt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||It(this,t).appendChild(t)})},prepend:function(){return jt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=It(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return jt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return jt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(x.cleanData(vt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return x.clone(this,t,e)})},html:function(t){return z(this,function(t){var e=this[0]||{},r=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!At.test(t)&&!mt[(gt.exec(t)||["",""])[1].toLowerCase()]){t=x.htmlPrefilter(t);try{for(;r<i;r++)1===(e=this[r]||{}).nodeType&&(x.cleanData(vt(e,!1)),e.innerHTML=t);e=0}catch(n){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return jt(this,arguments,function(e){var r=this.parentNode;x.inArray(this,t)<0&&(x.cleanData(vt(this)),r&&r.replaceChild(e,this))},t)}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){x.fn[t]=function(t){for(var r,i=[],n=x(t),a=n.length-1,l=0;l<=a;l++)r=l===a?this:this.clone(!0),x(n[l])[e](r),o.apply(i,r.get());return this.pushStack(i)}});var Ht=new RegExp("^("+tt+")(?!px)[a-z%]+$","i"),Dt=function(e){var r=e.ownerDocument.defaultView;return r&&r.opener||(r=t),r.getComputedStyle(e)},Ut=function(t,e,r){var i,n,a={};for(n in e)a[n]=t.style[n],t.style[n]=e[n];for(n in i=r.call(t),e)t.style[n]=a[n];return i},Ft=new RegExp(rt.join("|"),"i");function Rt(t,e,r){var i,n,a,o,l=t.style;return(r=r||Dt(t))&&(""!==(o=r.getPropertyValue(e)||r[e])||nt(t)||(o=x.style(t,e)),!u.pixelBoxStyles()&&Ht.test(o)&&Ft.test(e)&&(i=l.width,n=l.minWidth,a=l.maxWidth,l.minWidth=l.maxWidth=l.width=o,o=r.width,l.width=i,l.minWidth=n,l.maxWidth=a)),void 0!==o?o+"":o}function zt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function e(){if(h){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",h.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",it.appendChild(c).appendChild(h);var e=t.getComputedStyle(h);i="1%"!==e.top,s=12===r(e.marginLeft),h.style.right="60%",o=36===r(e.right),n=36===r(e.width),h.style.position="absolute",a=12===r(h.offsetWidth/3),it.removeChild(c),h=null}}function r(t){return Math.round(parseFloat(t))}var i,n,a,o,l,s,c=m.createElement("div"),h=m.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",u.clearCloneStyle="content-box"===h.style.backgroundClip,x.extend(u,{boxSizingReliable:function(){return e(),n},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),a},reliableTrDimensions:function(){var e,r,i,n;return null==l&&(e=m.createElement("table"),r=m.createElement("tr"),i=m.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",r.style.cssText="border:1px solid",r.style.height="1px",i.style.height="9px",i.style.display="block",it.appendChild(e).appendChild(r).appendChild(i),n=t.getComputedStyle(r),l=parseInt(n.height,10)+parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10)===r.offsetHeight,it.removeChild(e)),l}}))}();var qt=["Webkit","Moz","ms"],$t=m.createElement("div").style,Yt={};function Xt(t){return x.cssProps[t]||Yt[t]||(t in $t?t:Yt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),r=qt.length;r--;)if((t=qt[r]+e)in $t)return t}(t)||t)}var Wt=/^(none|table(?!-c[ea]).+)/,Vt=/^--/,Gt={position:"absolute",visibility:"hidden",display:"block"},Jt={letterSpacing:"0",fontWeight:"400"};function Kt(t,e,r){var i=et.exec(e);return i?Math.max(0,i[2]-(r||0))+(i[3]||"px"):e}function Qt(t,e,r,i,n,a){var o="width"===e?1:0,l=0,s=0;if(r===(i?"border":"content"))return 0;for(;o<4;o+=2)"margin"===r&&(s+=x.css(t,r+rt[o],!0,n)),i?("content"===r&&(s-=x.css(t,"padding"+rt[o],!0,n)),"margin"!==r&&(s-=x.css(t,"border"+rt[o]+"Width",!0,n))):(s+=x.css(t,"padding"+rt[o],!0,n),"padding"!==r?s+=x.css(t,"border"+rt[o]+"Width",!0,n):l+=x.css(t,"border"+rt[o]+"Width",!0,n));return!i&&a>=0&&(s+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-a-s-l-.5))||0),s}function Zt(t,e,r){var i=Dt(t),n=(!u.boxSizingReliable()||r)&&"border-box"===x.css(t,"boxSizing",!1,i),a=n,o=Rt(t,e,i),l="offset"+e[0].toUpperCase()+e.slice(1);if(Ht.test(o)){if(!r)return o;o="auto"}return(!u.boxSizingReliable()&&n||!u.reliableTrDimensions()&&A(t,"tr")||"auto"===o||!parseFloat(o)&&"inline"===x.css(t,"display",!1,i))&&t.getClientRects().length&&(n="border-box"===x.css(t,"boxSizing",!1,i),(a=l in t)&&(o=t[l])),(o=parseFloat(o)||0)+Qt(t,e,r||(n?"border":"content"),a,i,o)+"px"}function te(t,e,r,i,n){return new te.prototype.init(t,e,r,i,n)}x.extend({cssHooks:{opacity:{get:function(t,e){if(e){var r=Rt(t,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,r,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var n,a,o,l=X(e),s=Vt.test(e),c=t.style;if(s||(e=Xt(l)),o=x.cssHooks[e]||x.cssHooks[l],void 0===r)return o&&"get"in o&&void 0!==(n=o.get(t,!1,i))?n:c[e];"string"==(a=typeof r)&&(n=et.exec(r))&&n[1]&&(r=lt(t,e,n),a="number"),null!=r&&r==r&&("number"!==a||s||(r+=n&&n[3]||(x.cssNumber[l]?"":"px")),u.clearCloneStyle||""!==r||0!==e.indexOf("background")||(c[e]="inherit"),o&&"set"in o&&void 0===(r=o.set(t,r,i))||(s?c.setProperty(e,r):c[e]=r))}},css:function(t,e,r,i){var n,a,o,l=X(e);return Vt.test(e)||(e=Xt(l)),(o=x.cssHooks[e]||x.cssHooks[l])&&"get"in o&&(n=o.get(t,!0,r)),void 0===n&&(n=Rt(t,e,i)),"normal"===n&&e in Jt&&(n=Jt[e]),""===r||r?(a=parseFloat(n),!0===r||isFinite(a)?a||0:n):n}}),x.each(["height","width"],function(t,e){x.cssHooks[e]={get:function(t,r,i){if(r)return!Wt.test(x.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?Zt(t,e,i):Ut(t,Gt,function(){return Zt(t,e,i)})},set:function(t,r,i){var n,a=Dt(t),o=!u.scrollboxSize()&&"absolute"===a.position,l=(o||i)&&"border-box"===x.css(t,"boxSizing",!1,a),s=i?Qt(t,e,i,l,a):0;return l&&o&&(s-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(a[e])-Qt(t,e,"border",!1,a)-.5)),s&&(n=et.exec(r))&&"px"!==(n[3]||"px")&&(t.style[e]=r,r=x.css(t,e)),Kt(0,r,s)}}}),x.cssHooks.marginLeft=zt(u.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Rt(t,"marginLeft"))||t.getBoundingClientRect().left-Ut(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),x.each({margin:"",padding:"",border:"Width"},function(t,e){x.cssHooks[t+e]={expand:function(r){for(var i=0,n={},a="string"==typeof r?r.split(" "):[r];i<4;i++)n[t+rt[i]+e]=a[i]||a[i-2]||a[0];return n}},"margin"!==t&&(x.cssHooks[t+e].set=Kt)}),x.fn.extend({css:function(t,e){return z(this,function(t,e,r){var i,n,a={},o=0;if(Array.isArray(e)){for(i=Dt(t),n=e.length;o<n;o++)a[e[o]]=x.css(t,e[o],!1,i);return a}return void 0!==r?x.style(t,e,r):x.css(t,e)},t,e,arguments.length>1)}}),x.Tween=te,(te.prototype={constructor:te,init:function(t,e,r,i,n,a){this.elem=t,this.prop=r,this.easing=n||x.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=a||(x.cssNumber[r]?"":"px")},cur:function(){var t=te.propHooks[this.prop];return t&&t.get?t.get(this):te.propHooks._default.get(this)},run:function(t){var e,r=te.propHooks[this.prop];return this.pos=e=this.options.duration?x.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):te.propHooks._default.set(this),this}}).init.prototype=te.prototype,(te.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=x.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){x.fx.step[t.prop]?x.fx.step[t.prop](t):1!==t.elem.nodeType||!x.cssHooks[t.prop]&&null==t.elem.style[Xt(t.prop)]?t.elem[t.prop]=t.now:x.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=te.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},x.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},x.fx=te.prototype.init,x.fx.step={};var ee,re,ie=/^(?:toggle|show|hide)$/,ne=/queueHooks$/;function ae(){re&&(!1===m.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(ae):t.setTimeout(ae,x.fx.interval),x.fx.tick())}function oe(){return t.setTimeout(function(){ee=void 0}),ee=Date.now()}function le(t,e){var r,i=0,n={height:t};for(e=e?1:0;i<4;i+=2-e)n["margin"+(r=rt[i])]=n["padding"+r]=t;return e&&(n.opacity=n.width=t),n}function se(t,e,r){for(var i,n=(ce.tweeners[e]||[]).concat(ce.tweeners["*"]),a=0,o=n.length;a<o;a++)if(i=n[a].call(r,e,t))return i}function ce(t,e,r){var i,n,a=0,o=ce.prefilters.length,l=x.Deferred().always(function(){delete s.elem}),s=function(){if(n)return!1;for(var e=ee||oe(),r=Math.max(0,c.startTime+c.duration-e),i=1-(r/c.duration||0),a=0,o=c.tweens.length;a<o;a++)c.tweens[a].run(i);return l.notifyWith(t,[c,i,r]),i<1&&o?r:(o||l.notifyWith(t,[c,1,0]),l.resolveWith(t,[c]),!1)},c=l.promise({elem:t,props:x.extend({},e),opts:x.extend(!0,{specialEasing:{},easing:x.easing._default},r),originalProperties:e,originalOptions:r,startTime:ee||oe(),duration:r.duration,tweens:[],createTween:function(e,r){var i=x.Tween(t,c.opts,e,r,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var r=0,i=e?c.tweens.length:0;if(n)return this;for(n=!0;r<i;r++)c.tweens[r].run(1);return e?(l.notifyWith(t,[c,1,0]),l.resolveWith(t,[c,e])):l.rejectWith(t,[c,e]),this}}),h=c.props;for(function(t,e){var r,i,n,a,o;for(r in t)if(n=e[i=X(r)],a=t[r],Array.isArray(a)&&(n=a[1],a=t[r]=a[0]),r!==i&&(t[i]=a,delete t[r]),(o=x.cssHooks[i])&&"expand"in o)for(r in a=o.expand(a),delete t[i],a)r in t||(t[r]=a[r],e[r]=n);else e[i]=n}(h,c.opts.specialEasing);a<o;a++)if(i=ce.prefilters[a].call(c,t,h,c.opts))return g(i.stop)&&(x._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return x.map(h,se,c),g(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),x.fx.timer(x.extend(s,{elem:t,anim:c,queue:c.opts.queue})),c}x.Animation=x.extend(ce,{tweeners:{"*":[function(t,e){var r=this.createTween(t,e);return lt(r.elem,t,et.exec(e),r),r}]},tweener:function(t,e){g(t)?(e=t,t=["*"]):t=t.match(j);for(var r,i=0,n=t.length;i<n;i++)(ce.tweeners[r=t[i]]=ce.tweeners[r]||[]).unshift(e)},prefilters:[function(t,e,r){var i,n,a,o,l,s,c,h,d="width"in e||"height"in e,p=this,u={},g=t.style,f=t.nodeType&&ot(t),m=G.get(t,"fxshow");for(i in r.queue||(null==(o=x._queueHooks(t,"fx")).unqueued&&(o.unqueued=0,l=o.empty.fire,o.empty.fire=function(){o.unqueued||l()}),o.unqueued++,p.always(function(){p.always(function(){o.unqueued--,x.queue(t,"fx").length||o.empty.fire()})})),e)if(ie.test(n=e[i])){if(delete e[i],a=a||"toggle"===n,n===(f?"hide":"show")){if("show"!==n||!m||void 0===m[i])continue;f=!0}u[i]=m&&m[i]||x.style(t,i)}if((s=!x.isEmptyObject(e))||!x.isEmptyObject(u))for(i in d&&1===t.nodeType&&(r.overflow=[g.overflow,g.overflowX,g.overflowY],null==(c=m&&m.display)&&(c=G.get(t,"display")),"none"===(h=x.css(t,"display"))&&(c?h=c:(ht([t],!0),c=t.style.display||c,h=x.css(t,"display"),ht([t]))),("inline"===h||"inline-block"===h&&null!=c)&&"none"===x.css(t,"float")&&(s||(p.done(function(){g.display=c}),null==c&&(c="none"===(h=g.display)?"":h)),g.display="inline-block")),r.overflow&&(g.overflow="hidden",p.always(function(){g.overflow=r.overflow[0],g.overflowX=r.overflow[1],g.overflowY=r.overflow[2]})),s=!1,u)s||(m?"hidden"in m&&(f=m.hidden):m=G.access(t,"fxshow",{display:c}),a&&(m.hidden=!f),f&&ht([t],!0),p.done(function(){for(i in f||ht([t]),G.remove(t,"fxshow"),u)x.style(t,i,u[i])})),s=se(f?m[i]:0,i,p),i in m||(m[i]=s.start,f&&(s.end=s.start,s.start=0))}],prefilter:function(t,e){e?ce.prefilters.unshift(t):ce.prefilters.push(t)}}),x.speed=function(t,e,r){var i=t&&"object"==typeof t?x.extend({},t):{complete:r||!r&&e||g(t)&&t,duration:t,easing:r&&e||e&&!g(e)&&e};return x.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration=i.duration in x.fx.speeds?x.fx.speeds[i.duration]:x.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){g(i.old)&&i.old.call(this),i.queue&&x.dequeue(this,i.queue)},i},x.fn.extend({fadeTo:function(t,e,r,i){return this.filter(ot).css("opacity",0).show().end().animate({opacity:e},t,r,i)},animate:function(t,e,r,i){var n=x.isEmptyObject(t),a=x.speed(e,r,i),o=function(){var e=ce(this,x.extend({},t),a);(n||G.get(this,"finish"))&&e.stop(!0)};return o.finish=o,n||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(t,e,r){var i=function(t){var e=t.stop;delete t.stop,e(r)};return"string"!=typeof t&&(r=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each(function(){var e=!0,n=null!=t&&t+"queueHooks",a=x.timers,o=G.get(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&ne.test(n)&&i(o[n]);for(n=a.length;n--;)a[n].elem!==this||null!=t&&a[n].queue!==t||(a[n].anim.stop(r),e=!1,a.splice(n,1));!e&&r||x.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,r=G.get(this),i=r[t+"queue"],n=r[t+"queueHooks"],a=x.timers,o=i?i.length:0;for(r.finish=!0,x.queue(this,t,[]),n&&n.stop&&n.stop.call(this,!0),e=a.length;e--;)a[e].elem===this&&a[e].queue===t&&(a[e].anim.stop(!0),a.splice(e,1));for(e=0;e<o;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete r.finish})}}),x.each(["toggle","show","hide"],function(t,e){var r=x.fn[e];x.fn[e]=function(t,i,n){return null==t||"boolean"==typeof t?r.apply(this,arguments):this.animate(le(e,!0),t,i,n)}}),x.each({slideDown:le("show"),slideUp:le("hide"),slideToggle:le("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){x.fn[t]=function(t,r,i){return this.animate(e,t,r,i)}}),x.timers=[],x.fx.tick=function(){var t,e=0,r=x.timers;for(ee=Date.now();e<r.length;e++)(t=r[e])()||r[e]!==t||r.splice(e--,1);r.length||x.fx.stop(),ee=void 0},x.fx.timer=function(t){x.timers.push(t),x.fx.start()},x.fx.interval=13,x.fx.start=function(){re||(re=!0,ae())},x.fx.stop=function(){re=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fn.delay=function(e,r){return e=x.fx&&x.fx.speeds[e]||e,this.queue(r=r||"fx",function(r,i){var n=t.setTimeout(r,e);i.stop=function(){t.clearTimeout(n)}})},function(){var t=m.createElement("input"),e=m.createElement("select").appendChild(m.createElement("option"));t.type="checkbox",u.checkOn=""!==t.value,u.optSelected=e.selected,(t=m.createElement("input")).value="t",t.type="radio",u.radioValue="t"===t.value}();var he,de=x.expr.attrHandle;x.fn.extend({attr:function(t,e){return z(this,x.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){x.removeAttr(this,t)})}}),x.extend({attr:function(t,e,r){var i,n,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===t.getAttribute?x.prop(t,e,r):(1===a&&x.isXMLDoc(t)||(n=x.attrHooks[e.toLowerCase()]||(x.expr.match.bool.test(e)?he:void 0)),void 0!==r?null===r?void x.removeAttr(t,e):n&&"set"in n&&void 0!==(i=n.set(t,r,e))?i:(t.setAttribute(e,r+""),r):n&&"get"in n&&null!==(i=n.get(t,e))?i:null==(i=x.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!u.radioValue&&"radio"===e&&A(t,"input")){var r=t.value;return t.setAttribute("type",e),r&&(t.value=r),e}}}},removeAttr:function(t,e){var r,i=0,n=e&&e.match(j);if(n&&1===t.nodeType)for(;r=n[i++];)t.removeAttribute(r)}}),he={set:function(t,e,r){return!1===e?x.removeAttr(t,r):t.setAttribute(r,r),r}},x.each(x.expr.match.bool.source.match(/\w+/g),function(t,e){var r=de[e]||x.find.attr;de[e]=function(t,e,i){var n,a,o=e.toLowerCase();return i||(a=de[o],de[o]=n,n=null!=r(t,e,i)?o:null,de[o]=a),n}});var pe=/^(?:input|select|textarea|button)$/i,ue=/^(?:a|area)$/i;function ge(t){return(t.match(j)||[]).join(" ")}function fe(t){return t.getAttribute&&t.getAttribute("class")||""}function me(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(j)||[]}x.fn.extend({prop:function(t,e){return z(this,x.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[x.propFix[t]||t]})}}),x.extend({prop:function(t,e,r){var i,n,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&x.isXMLDoc(t)||(n=x.propHooks[e=x.propFix[e]||e]),void 0!==r?n&&"set"in n&&void 0!==(i=n.set(t,r,e))?i:t[e]=r:n&&"get"in n&&null!==(i=n.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=x.find.attr(t,"tabindex");return e?parseInt(e,10):pe.test(t.nodeName)||ue.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),u.optSelected||(x.propHooks.selected={get:function(t){return null},set:function(t){}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.fn.extend({addClass:function(t){var e,r,i,n,a,o,l,s=0;if(g(t))return this.each(function(e){x(this).addClass(t.call(this,e,fe(this)))});if((e=me(t)).length)for(;r=this[s++];)if(n=fe(r),i=1===r.nodeType&&" "+ge(n)+" "){for(o=0;a=e[o++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");n!==(l=ge(i))&&r.setAttribute("class",l)}return this},removeClass:function(t){var e,r,i,n,a,o,l,s=0;if(g(t))return this.each(function(e){x(this).removeClass(t.call(this,e,fe(this)))});if(!arguments.length)return this.attr("class","");if((e=me(t)).length)for(;r=this[s++];)if(n=fe(r),i=1===r.nodeType&&" "+ge(n)+" "){for(o=0;a=e[o++];)for(;i.indexOf(" "+a+" ")>-1;)i=i.replace(" "+a+" "," ");n!==(l=ge(i))&&r.setAttribute("class",l)}return this},toggleClass:function(t,e){var r=typeof t,i="string"===r||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):g(t)?this.each(function(r){x(this).toggleClass(t.call(this,r,fe(this),e),e)}):this.each(function(){var e,n,a,o;if(i)for(n=0,a=x(this),o=me(t);e=o[n++];)a.hasClass(e)?a.removeClass(e):a.addClass(e);else void 0!==t&&"boolean"!==r||((e=fe(this))&&G.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":G.get(this,"__className__")||""))})},hasClass:function(t){var e,r,i=0;for(e=" "+t+" ";r=this[i++];)if(1===r.nodeType&&(" "+ge(fe(r))+" ").indexOf(e)>-1)return!0;return!1}});var ve=/\r/g;x.fn.extend({val:function(t){var e,r,i,n=this[0];return arguments.length?(i=g(t),this.each(function(r){var n;1===this.nodeType&&(null==(n=i?t.call(this,r,x(this).val()):t)?n="":"number"==typeof n?n+="":Array.isArray(n)&&(n=x.map(n,function(t){return null==t?"":t+""})),(e=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,n,"value")||(this.value=n))})):n?(e=x.valHooks[n.type]||x.valHooks[n.nodeName.toLowerCase()])&&"get"in e&&void 0!==(r=e.get(n,"value"))?r:"string"==typeof(r=n.value)?r.replace(ve,""):null==r?"":r:void 0}}),x.extend({valHooks:{option:{get:function(t){var e=x.find.attr(t,"value");return null!=e?e:ge(x.text(t))}},select:{get:function(t){var e,r,i,n=t.options,a=t.selectedIndex,o="select-one"===t.type,l=o?null:[],s=o?a+1:n.length;for(i=a<0?s:o?a:0;i<s;i++)if(((r=n[i]).selected||i===a)&&!r.disabled&&(!r.parentNode.disabled||!A(r.parentNode,"optgroup"))){if(e=x(r).val(),o)return e;l.push(e)}return l},set:function(t,e){for(var r,i,n=t.options,a=x.makeArray(e),o=n.length;o--;)((i=n[o]).selected=x.inArray(x.valHooks.option.get(i),a)>-1)&&(r=!0);return r||(t.selectedIndex=-1),a}}}}),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=x.inArray(x(t).val(),e)>-1}},u.checkOn||(x.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),u.focusin="onfocusin"in t;var be=/^(?:focusinfocus|focusoutblur)$/,Ce=function(t){t.stopPropagation()};x.extend(x.event,{trigger:function(e,r,i,n){var a,o,l,s,c,d,p,u,v=[i||m],b=h.call(e,"type")?e.type:e,C=h.call(e,"namespace")?e.namespace.split("."):[];if(o=u=l=i=i||m,3!==i.nodeType&&8!==i.nodeType&&!be.test(b+x.event.triggered)&&(b.indexOf(".")>-1&&(C=b.split("."),b=C.shift(),C.sort()),c=b.indexOf(":")<0&&"on"+b,(e=e[x.expando]?e:new x.Event(b,"object"==typeof e&&e)).isTrigger=n?2:3,e.namespace=C.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+C.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),r=null==r?[e]:x.makeArray(r,[e]),p=x.event.special[b]||{},n||!p.trigger||!1!==p.trigger.apply(i,r))){if(!n&&!p.noBubble&&!f(i)){for(be.test((s=p.delegateType||b)+b)||(o=o.parentNode);o;o=o.parentNode)v.push(o),l=o;l===(i.ownerDocument||m)&&v.push(l.defaultView||l.parentWindow||t)}for(a=0;(o=v[a++])&&!e.isPropagationStopped();)u=o,e.type=a>1?s:p.bindType||b,(d=(G.get(o,"events")||Object.create(null))[e.type]&&G.get(o,"handle"))&&d.apply(o,r),(d=c&&o[c])&&d.apply&&W(o)&&(e.result=d.apply(o,r),!1===e.result&&e.preventDefault());return e.type=b,n||e.isDefaultPrevented()||p._default&&!1!==p._default.apply(v.pop(),r)||!W(i)||c&&g(i[b])&&!f(i)&&((l=i[c])&&(i[c]=null),x.event.triggered=b,e.isPropagationStopped()&&u.addEventListener(b,Ce),i[b](),e.isPropagationStopped()&&u.removeEventListener(b,Ce),x.event.triggered=void 0,l&&(i[c]=l)),e.result}},simulate:function(t,e,r){var i=x.extend(new x.Event,r,{type:t,isSimulated:!0});x.event.trigger(i,null,e)}}),x.fn.extend({trigger:function(t,e){return this.each(function(){x.event.trigger(t,e,this)})},triggerHandler:function(t,e){var r=this[0];if(r)return x.event.trigger(t,e,r,!0)}}),u.focusin||x.each({focus:"focusin",blur:"focusout"},function(t,e){var r=function(t){x.event.simulate(e,t.target,x.event.fix(t))};x.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,n=G.access(i,e);n||i.addEventListener(t,r,!0),G.access(i,e,(n||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,n=G.access(i,e)-1;n?G.access(i,e,n):(i.removeEventListener(t,r,!0),G.remove(i,e))}}});var ye=t.location,xe={guid:Date.now()},Oe=/\?/;x.parseXML=function(e){var r,i;if(!e||"string"!=typeof e)return null;try{r=(new t.DOMParser).parseFromString(e,"text/xml")}catch(n){}return i=r&&r.getElementsByTagName("parsererror")[0],r&&!i||x.error("Invalid XML: "+(i?x.map(i.childNodes,function(t){return t.textContent}).join("\n"):e)),r};var we=/\[\]$/,_e=/\r?\n/g,ke=/^(?:submit|button|image|reset|file)$/i,Se=/^(?:input|select|textarea|keygen)/i;function Ae(t,e,r,i){var n;if(Array.isArray(e))x.each(e,function(e,n){r||we.test(t)?i(t,n):Ae(t+"["+("object"==typeof n&&null!=n?e:"")+"]",n,r,i)});else if(r||"object"!==C(e))i(t,e);else for(n in e)Ae(t+"["+n+"]",e[n],r,i)}x.param=function(t,e){var r,i=[],n=function(t,e){var r=g(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==r?"":r)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!x.isPlainObject(t))x.each(t,function(){n(this.name,this.value)});else for(r in t)Ae(r,t[r],e,n);return i.join("&")},x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=x.prop(this,"elements");return t?x.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!x(this).is(":disabled")&&Se.test(this.nodeName)&&!ke.test(t)&&(this.checked||!ut.test(t))}).map(function(t,e){var r=x(this).val();return null==r?null:Array.isArray(r)?x.map(r,function(t){return{name:e.name,value:t.replace(_e,"\r\n")}}):{name:e.name,value:r.replace(_e,"\r\n")}}).get()}});var Ne=/%20/g,Ee=/#.*$/,Ie=/([?&])_=[^&]*/,Le=/^(.*?):[ \t]*([^\r\n]*)$/gm,Te=/^(?:GET|HEAD)$/,Me=/^\/\//,Pe={},je={},Be="*/".concat("*"),He=m.createElement("a");function De(t){return function(e,r){"string"!=typeof e&&(r=e,e="*");var i,n=0,a=e.toLowerCase().match(j)||[];if(g(r))for(;i=a[n++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(r)):(t[i]=t[i]||[]).push(r)}}function Ue(t,e,r,i){var n={},a=t===je;function o(l){var s;return n[l]=!0,x.each(t[l]||[],function(t,l){var c=l(e,r,i);return"string"!=typeof c||a||n[c]?a?!(s=c):void 0:(e.dataTypes.unshift(c),o(c),!1)}),s}return o(e.dataTypes[0])||!n["*"]&&o("*")}function Fe(t,e){var r,i,n=x.ajaxSettings.flatOptions||{};for(r in e)void 0!==e[r]&&((n[r]?t:i||(i={}))[r]=e[r]);return i&&x.extend(!0,t,i),t}He.href=ye.href,x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ye.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ye.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Be,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Fe(Fe(t,x.ajaxSettings),e):Fe(x.ajaxSettings,t)},ajaxPrefilter:De(Pe),ajaxTransport:De(je),ajax:function(e,r){"object"==typeof e&&(r=e,e=void 0);var i,n,a,o,l,s,c,h,d,p,u=x.ajaxSetup({},r=r||{}),g=u.context||u,f=u.context&&(g.nodeType||g.jquery)?x(g):x.event,v=x.Deferred(),b=x.Callbacks("once memory"),C=u.statusCode||{},y={},O={},w="canceled",_={readyState:0,getResponseHeader:function(t){var e;if(c){if(!o)for(o={};e=Le.exec(a);)o[e[1].toLowerCase()+" "]=(o[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=o[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(t,e){return null==c&&(t=O[t.toLowerCase()]=O[t.toLowerCase()]||t,y[t]=e),this},overrideMimeType:function(t){return null==c&&(u.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)_.always(t[_.status]);else for(e in t)C[e]=[C[e],t[e]];return this},abort:function(t){var e=t||w;return i&&i.abort(e),k(0,e),this}};if(v.promise(_),u.url=((e||u.url||ye.href)+"").replace(Me,ye.protocol+"//"),u.type=r.method||r.type||u.method||u.type,u.dataTypes=(u.dataType||"*").toLowerCase().match(j)||[""],null==u.crossDomain){s=m.createElement("a");try{s.href=u.url,s.href=s.href,u.crossDomain=He.protocol+"//"+He.host!=s.protocol+"//"+s.host}catch(S){u.crossDomain=!0}}if(u.data&&u.processData&&"string"!=typeof u.data&&(u.data=x.param(u.data,u.traditional)),Ue(Pe,u,r,_),c)return _;for(d in(h=x.event&&u.global)&&0==x.active++&&x.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!Te.test(u.type),n=u.url.replace(Ee,""),u.hasContent?u.data&&u.processData&&0===(u.contentType||"").indexOf("application/x-www-form-urlencoded")&&(u.data=u.data.replace(Ne,"+")):(p=u.url.slice(n.length),u.data&&(u.processData||"string"==typeof u.data)&&(n+=(Oe.test(n)?"&":"?")+u.data,delete u.data),!1===u.cache&&(n=n.replace(Ie,"$1"),p=(Oe.test(n)?"&":"?")+"_="+xe.guid+++p),u.url=n+p),u.ifModified&&(x.lastModified[n]&&_.setRequestHeader("If-Modified-Since",x.lastModified[n]),x.etag[n]&&_.setRequestHeader("If-None-Match",x.etag[n])),(u.data&&u.hasContent&&!1!==u.contentType||r.contentType)&&_.setRequestHeader("Content-Type",u.contentType),_.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+Be+"; q=0.01":""):u.accepts["*"]),u.headers)_.setRequestHeader(d,u.headers[d]);if(u.beforeSend&&(!1===u.beforeSend.call(g,_,u)||c))return _.abort();if(w="abort",b.add(u.complete),_.done(u.success),_.fail(u.error),i=Ue(je,u,r,_)){if(_.readyState=1,h&&f.trigger("ajaxSend",[_,u]),c)return _;u.async&&u.timeout>0&&(l=t.setTimeout(function(){_.abort("timeout")},u.timeout));try{c=!1,i.send(y,k)}catch(S){if(c)throw S;k(-1,S)}}else k(-1,"No Transport");function k(e,r,o,s){var d,p,m,y,O,w=r;c||(c=!0,l&&t.clearTimeout(l),i=void 0,a=s||"",_.readyState=e>0?4:0,d=e>=200&&e<300||304===e,o&&(y=function(t,e,r){for(var i,n,a,o,l=t.contents,s=t.dataTypes;"*"===s[0];)s.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(n in l)if(l[n]&&l[n].test(i)){s.unshift(n);break}if(s[0]in r)a=s[0];else{for(n in r){if(!s[0]||t.converters[n+" "+s[0]]){a=n;break}o||(o=n)}a=a||o}if(a)return a!==s[0]&&s.unshift(a),r[a]}(u,_,o)),!d&&x.inArray("script",u.dataTypes)>-1&&x.inArray("json",u.dataTypes)<0&&(u.converters["text script"]=function(){}),y=function(t,e,r,i){var n,a,o,l,s,c={},h=t.dataTypes.slice();if(h[1])for(o in t.converters)c[o.toLowerCase()]=t.converters[o];for(a=h.shift();a;)if(t.responseFields[a]&&(r[t.responseFields[a]]=e),!s&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),s=a,a=h.shift())if("*"===a)a=s;else if("*"!==s&&s!==a){if(!(o=c[s+" "+a]||c["* "+a]))for(n in c)if((l=n.split(" "))[1]===a&&(o=c[s+" "+l[0]]||c["* "+l[0]])){!0===o?o=c[n]:!0!==c[n]&&(a=l[0],h.unshift(l[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(S){return{state:"parsererror",error:o?S:"No conversion from "+s+" to "+a}}}return{state:"success",data:e}}(u,y,_,d),d?(u.ifModified&&((O=_.getResponseHeader("Last-Modified"))&&(x.lastModified[n]=O),(O=_.getResponseHeader("etag"))&&(x.etag[n]=O)),204===e||"HEAD"===u.type?w="nocontent":304===e?w="notmodified":(w=y.state,p=y.data,d=!(m=y.error))):(m=w,!e&&w||(w="error",e<0&&(e=0))),_.status=e,_.statusText=(r||w)+"",d?v.resolveWith(g,[p,w,_]):v.rejectWith(g,[_,w,m]),_.statusCode(C),C=void 0,h&&f.trigger(d?"ajaxSuccess":"ajaxError",[_,u,d?p:m]),b.fireWith(g,[_,w]),h&&(f.trigger("ajaxComplete",[_,u]),--x.active||x.event.trigger("ajaxStop")))}return _},getJSON:function(t,e,r){return x.get(t,e,r,"json")},getScript:function(t,e){return x.get(t,void 0,e,"script")}}),x.each(["get","post"],function(t,e){x[e]=function(t,r,i,n){return g(r)&&(n=n||i,i=r,r=void 0),x.ajax(x.extend({url:t,type:e,dataType:n,data:r,success:i},x.isPlainObject(t)&&t))}}),x.ajaxPrefilter(function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")}),x._evalUrl=function(t,e,r){return x.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){x.globalEval(t,e,r)}})},x.fn.extend({wrapAll:function(t){var e;return this[0]&&(g(t)&&(t=t.call(this[0])),e=x(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return g(t)?this.each(function(e){x(this).wrapInner(t.call(this,e))}):this.each(function(){var e=x(this),r=e.contents();r.length?r.wrapAll(t):e.append(t)})},wrap:function(t){var e=g(t);return this.each(function(r){x(this).wrapAll(e?t.call(this,r):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){x(this).replaceWith(this.childNodes)}),this}}),x.expr.pseudos.hidden=function(t){return!x.expr.pseudos.visible(t)},x.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},x.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var Re={0:200,1223:204},ze=x.ajaxSettings.xhr();u.cors=!!ze&&"withCredentials"in ze,u.ajax=ze=!!ze,x.ajaxTransport(function(e){var r,i;if(u.cors||ze&&!e.crossDomain)return{send:function(n,a){var o,l=e.xhr();if(l.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)l[o]=e.xhrFields[o];for(o in e.mimeType&&l.overrideMimeType&&l.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)l.setRequestHeader(o,n[o]);r=function(t){return function(){r&&(r=i=l.onload=l.onerror=l.onabort=l.ontimeout=l.onreadystatechange=null,"abort"===t?l.abort():"error"===t?"number"!=typeof l.status?a(0,"error"):a(l.status,l.statusText):a(Re[l.status]||l.status,l.statusText,"text"!==(l.responseType||"text")||"string"!=typeof l.responseText?{binary:l.response}:{text:l.responseText},l.getAllResponseHeaders()))}},l.onload=r(),i=l.onerror=l.ontimeout=r("error"),void 0!==l.onabort?l.onabort=i:l.onreadystatechange=function(){4===l.readyState&&t.setTimeout(function(){r&&i()})},r=r("abort");try{l.send(e.hasContent&&e.data||null)}catch(s){if(r)throw s}},abort:function(){r&&r()}}}),x.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return x.globalEval(t),t}}}),x.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),x.ajaxTransport("script",function(t){var e,r;if(t.crossDomain||t.scriptAttrs)return{send:function(i,n){e=x("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",r=function(t){e.remove(),r=null,t&&n("error"===t.type?404:200,t.type)}),m.head.appendChild(e[0])},abort:function(){r&&r()}}});var qe,$e=[],Ye=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=$e.pop()||x.expando+"_"+xe.guid++;return this[t]=!0,t}}),x.ajaxPrefilter("json jsonp",function(e,r,i){var n,a,o,l=!1!==e.jsonp&&(Ye.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ye.test(e.data)&&"data");if(l||"jsonp"===e.dataTypes[0])return n=e.jsonpCallback=g(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,l?e[l]=e[l].replace(Ye,"$1"+n):!1!==e.jsonp&&(e.url+=(Oe.test(e.url)?"&":"?")+e.jsonp+"="+n),e.converters["script json"]=function(){return o||x.error(n+" was not called"),o[0]},e.dataTypes[0]="json",a=t[n],t[n]=function(){o=arguments},i.always(function(){void 0===a?x(t).removeProp(n):t[n]=a,e[n]&&(e.jsonpCallback=r.jsonpCallback,$e.push(n)),o&&g(a)&&a(o[0]),o=a=void 0}),"script"}),u.createHTMLDocument=((qe=m.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===qe.childNodes.length),x.parseHTML=function(t,e,r){return"string"!=typeof t?[]:("boolean"==typeof e&&(r=e,e=!1),e||(u.createHTMLDocument?((i=(e=m.implementation.createHTMLDocument("")).createElement("base")).href=m.location.href,e.head.appendChild(i)):e=m),a=!r&&[],(n=N.exec(t))?[e.createElement(n[1])]:(n=yt([t],e,a),a&&a.length&&x(a).remove(),x.merge([],n.childNodes)));var i,n,a},x.fn.load=function(t,e,r){var i,n,a,o=this,l=t.indexOf(" ");return l>-1&&(i=ge(t.slice(l)),t=t.slice(0,l)),g(e)?(r=e,e=void 0):e&&"object"==typeof e&&(n="POST"),o.length>0&&x.ajax({url:t,type:n||"GET",dataType:"html",data:e}).done(function(t){a=arguments,o.html(i?x("<div>").append(x.parseHTML(t)).find(i):t)}).always(r&&function(t,e){o.each(function(){r.apply(this,a||[t.responseText,e,t])})}),this},x.expr.pseudos.animated=function(t){return x.grep(x.timers,function(e){return t===e.elem}).length},x.offset={setOffset:function(t,e,r){var i,n,a,o,l,s,c=x.css(t,"position"),h=x(t),d={};"static"===c&&(t.style.position="relative"),l=h.offset(),a=x.css(t,"top"),s=x.css(t,"left"),("absolute"===c||"fixed"===c)&&(a+s).indexOf("auto")>-1?(o=(i=h.position()).top,n=i.left):(o=parseFloat(a)||0,n=parseFloat(s)||0),g(e)&&(e=e.call(t,r,x.extend({},l))),null!=e.top&&(d.top=e.top-l.top+o),null!=e.left&&(d.left=e.left-l.left+n),"using"in e?e.using.call(t,d):h.css(d)}},x.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){x.offset.setOffset(this,t,e)});var e,r,i=this[0];return i?i.getClientRects().length?{top:(e=i.getBoundingClientRect()).top+(r=i.ownerDocument.defaultView).pageYOffset,left:e.left+r.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,r,i=this[0],n={top:0,left:0};if("fixed"===x.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),r=i.ownerDocument,t=i.offsetParent||r.documentElement;t&&(t===r.body||t===r.documentElement)&&"static"===x.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((n=x(t).offset()).top+=x.css(t,"borderTopWidth",!0),n.left+=x.css(t,"borderLeftWidth",!0))}return{top:e.top-n.top-x.css(i,"marginTop",!0),left:e.left-n.left-x.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===x.css(t,"position");)t=t.offsetParent;return t||it})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var r="pageYOffset"===e;x.fn[t]=function(i){return z(this,function(t,i,n){var a;if(f(t)?a=t:9===t.nodeType&&(a=t.defaultView),void 0===n)return a?a[e]:t[i];a?a.scrollTo(r?a.pageXOffset:n,r?n:a.pageYOffset):t[i]=n},t,i,arguments.length)}}),x.each(["top","left"],function(t,e){x.cssHooks[e]=zt(u.pixelPosition,function(t,r){if(r)return r=Rt(t,e),Ht.test(r)?x(t).position()[e]+"px":r})}),x.each({Height:"height",Width:"width"},function(t,e){x.each({padding:"inner"+t,content:e,"":"outer"+t},function(r,i){x.fn[i]=function(n,a){var o=arguments.length&&(r||"boolean"!=typeof n),l=r||(!0===n||!0===a?"margin":"border");return z(this,function(e,r,n){var a;return f(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(a=e.documentElement,Math.max(e.body["scroll"+t],a["scroll"+t],e.body["offset"+t],a["offset"+t],a["client"+t])):void 0===n?x.css(e,r,l):x.style(e,r,n,l)},e,o?n:void 0,o)}})}),x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){x.fn[e]=function(t){return this.on(e,t)}}),x.fn.extend({bind:function(t,e,r){return this.on(t,null,e,r)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,r,i){return this.on(e,t,r,i)},undelegate:function(t,e,r){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",r)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),x.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){x.fn[e]=function(t,r){return arguments.length>0?this.on(e,null,t,r):this.trigger(e)}});var Xe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;x.proxy=function(t,e){var r,i,a;if("string"==typeof e&&(r=t[e],e=t,t=r),g(t))return i=n.call(arguments,2),(a=function(){return t.apply(e||this,i.concat(n.call(arguments)))}).guid=t.guid=t.guid||x.guid++,a},x.holdReady=function(t){t?x.readyWait++:x.ready(!0)},x.isArray=Array.isArray,x.parseJSON=JSON.parse,x.nodeName=A,x.isFunction=g,x.isWindow=f,x.camelCase=X,x.type=C,x.now=Date.now,x.isNumeric=function(t){var e=x.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},x.trim=function(t){return null==t?"":(t+"").replace(Xe,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return x});var We=t.jQuery,Ve=t.$;return x.noConflict=function(e){return t.$===x&&(t.$=Ve),e&&t.jQuery===x&&(t.jQuery=We),x},void 0===e&&(t.jQuery=t.$=x),x}),(jsl=void 0===jsl?{}:jsl).format=function(){function t(t,e){return new Array(e+1).join(t)}return{formatJson:function(e){var r,i=0,n="    ",a="",o=0,l=!1,s=null;for(i=0,r=e.length;i<r;i+=1)switch(s=e.charAt(i)){case"{":case"[":l?a+=s:(a+=s+"\n"+t(n,o+1),o+=1);break;case"}":case"]":a+=l?s:"\n"+t(n,o-=1)+s;break;case",":a+=l?s:",\n"+t(n,o);break;case":":a+=l?s:": ";break;case" ":case"\n":case"\t":l&&(a+=s);break;case'"':i>0&&"\\"!==e.charAt(i-1)&&(l=!l),a+=s;break;default:a+=s}return a}}}(),(jsl=void 0===jsl?{}:jsl).parser=function(){var t=!0,e={},r=function(){var t={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONObject:13,EOF:14,JSONArray:15,JSONValue:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[12,2],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[13,2],[13,3],[20,3],[19,1],[19,3],[15,2],[15,3],[25,1],[25,3]],performAction:function(t,e,r,i,n,a,o){var l=a.length-1;switch(n){case 1:this.$=t;break;case 2:this.$=Number(t);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:case 7:return this.$=a[l-1];case 8:case 9:case 10:case 11:case 12:case 13:this.$=a[l];break;case 14:this.$={};break;case 15:this.$=a[l-1];break;case 16:this.$=[a[l-2],a[l]];break;case 17:this.$={},this.$[a[l][0]]=a[l][1];break;case 18:this.$=a[l-2],a[l-2][a[l][0]]=a[l][1];break;case 19:this.$=[];break;case 20:this.$=a[l-1];break;case 21:this.$=[a[l]];break;case 22:this.$=a[l-2],a[l-2].push(a[l])}},table:[{12:1,13:2,15:3,17:[1,4],23:[1,5]},{1:[3]},{14:[1,6]},{14:[1,7]},{3:11,4:[1,12],18:[1,8],19:9,20:10},{3:18,4:[1,12],5:19,6:[1,25],7:16,8:[1,22],9:17,10:[1,23],11:[1,24],13:20,15:21,16:15,17:[1,4],23:[1,5],24:[1,13],25:14},{1:[2,6]},{1:[2,7]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{18:[1,26],22:[1,27]},{18:[2,17],22:[2,17]},{21:[1,28]},{18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{22:[1,30],24:[1,29]},{22:[2,21],24:[2,21]},{18:[2,8],22:[2,8],24:[2,8]},{18:[2,9],22:[2,9],24:[2,9]},{18:[2,10],22:[2,10],24:[2,10]},{18:[2,11],22:[2,11],24:[2,11]},{18:[2,12],22:[2,12],24:[2,12]},{18:[2,13],22:[2,13],24:[2,13]},{18:[2,3],22:[2,3],24:[2,3]},{18:[2,4],22:[2,4],24:[2,4]},{18:[2,5],22:[2,5],24:[2,5]},{18:[2,2],22:[2,2],24:[2,2]},{14:[2,15],18:[2,15],22:[2,15],24:[2,15]},{3:11,4:[1,12],20:31},{3:18,4:[1,12],5:19,6:[1,25],7:16,8:[1,22],9:17,10:[1,23],11:[1,24],13:20,15:21,16:32,17:[1,4],23:[1,5]},{14:[2,20],18:[2,20],22:[2,20],24:[2,20]},{3:18,4:[1,12],5:19,6:[1,25],7:16,8:[1,22],9:17,10:[1,23],11:[1,24],13:20,15:21,16:33,17:[1,4],23:[1,5]},{18:[2,18],22:[2,18]},{18:[2,16],22:[2,16]},{22:[2,22],24:[2,22]}],defaultActions:{6:[2,6],7:[2,7]},parseError:function(t,e){throw new Error(t)},parse:function(t){function e(){var t;return"number"!=typeof(t=i.lexer.lex()||1)&&(t=i.symbols_[t]||t),t}function r(t){n.length=n.length-2*t,a.length=a.length-t,o.length=o.length-t}var i=this,n=[0],a=[null],o=[],l=this.table,s="",c=0,h=0,d=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var p=this.lexer.yylloc;o.push(p),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var u,g,f,m,v,b,C,y,x={};;){if(this.defaultActions[f=n[n.length-1]]?m=this.defaultActions[f]:(null==u&&(u=e()),m=l[f]&&l[f][u]),void 0===m||!m.length||!m[0]){if(!d){for(b in y=[],l[f])this.terminals_[b]&&b>2&&y.push("'"+this.terminals_[b]+"'");var O="";O=this.lexer.showPosition?"Parse error on line "+(c+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+y.join(", "):"Parse error on line "+(c+1)+": Unexpected "+(1==u?"end of input":"'"+(this.terminals_[u]||u)+"'"),this.parseError(O,{text:this.lexer.match,token:this.terminals_[u]||u,line:this.lexer.yylineno,loc:p,expected:y})}if(3==d){if(1==u)throw new Error(O||"Parsing halted.");h=this.lexer.yyleng,s=this.lexer.yytext,c=this.lexer.yylineno,p=this.lexer.yylloc,u=e()}for(;!(2..toString()in l[f]);){if(0==f)throw new Error(O||"Parsing halted.");r(1),f=n[n.length-1]}g=u,u=2,m=l[f=n[n.length-1]]&&l[f][2],d=3}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+f+", token: "+u);switch(m[0]){case 1:n.push(u),a.push(this.lexer.yytext),o.push(this.lexer.yylloc),n.push(m[1]),u=null,g?(u=g,g=null):(h=this.lexer.yyleng,s=this.lexer.yytext,c=this.lexer.yylineno,p=this.lexer.yylloc,d>0&&d--);break;case 2:if(x.$=a[a.length-(C=this.productions_[m[1]][1])],x._$={first_line:o[o.length-(C||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(C||1)].first_column,last_column:o[o.length-1].last_column},void 0!==(v=this.performAction.call(x,s,h,c,this.yy,m[1],a,o)))return v;C&&(n=n.slice(0,-1*C*2),a=a.slice(0,-1*C),o=o.slice(0,-1*C)),n.push(this.productions_[m[1]][0]),a.push(x.$),o.push(x._$),n.push(l[n[n.length-2]][n[n.length-1]]);break;case 3:return!0}}return!0}},e={EOF:1,parseError:function(t,e){if(!this.yy.parseError)throw new Error(t);this.yy.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.match+=t,this.matched+=t,t.match(/\n/)&&this.yylineno++,this._input=this._input.slice(1),t},unput:function(t){return this._input=t+this._input,this},more:function(){return this._more=!0,this},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;var t,e;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),i=0;i<r.length;i++)if(t=this._input.match(this.rules[r[i]]))return(e=t[0].match(/\n.*/g))&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-1:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],this.performAction.call(this,this.yy,this,r[i],this.conditionStack[this.conditionStack.length-1])||void 0;if(""===this._input)return this.EOF;this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return void 0!==t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},performAction:function(t,e,r,i){switch(r){case 0:break;case 1:return 6;case 2:return e.yytext=e.yytext.substr(1,e.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^\s+/,/^-?([0-9]|[1-9][0-9]+)(\.[0-9]+)?([eE][-+]?[0-9]+)?\b/,/^"(\\["bfnrt/\\]|\\u[a-fA-F0-9]{4}|[^\0-\x09\x0a-\x1f"\\])*"/,/^\{/,/^\}/,/^\[/,/^\]/,/^,/,/^:/,/^true\b/,/^false\b/,/^null\b/,/^$/,/^./],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return t.lexer=e,t}();return void 0!==e&&(e.parser=r,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(r){if(!r[1])throw new Error("Usage: "+r[0]+" FILE");if("undefined"!=typeof process)var i=t("fs").readFileSync(t("path").join(process.cwd(),r[1]),"utf8");else i=t("file").path(t("file").cwd()).join(r[1]).read({charset:"utf-8"});return e.parser.parse(i)},!1===t.main&&e.main("undefined"!=typeof process?process.argv.slice(1):t("system").args)),e}();var jdd={LEFT:"left-container",RIGHT:"right-container",EQUALITY:"bg-green",TYPE:"bg-green",MISSING:"bg-red",diffs:[],requestCount:0,findDiffs:function(t,e,r,i){var n;if(t.currentPath.push("/"),r.currentPath.push("/"),e.length<i.length)for(n in i)i.hasOwnProperty(n)&&(e.hasOwnProperty(n)||jdd.diffs.push(jdd.generateDiff(t,jdd.generatePath(t),r,jdd.generatePath(r,"/"+n),"The right side of this object has more items than the left side",jdd.MISSING)));for(n in e)e.hasOwnProperty(n)&&(t.currentPath.push(n),i.hasOwnProperty(n)?(r.currentPath.push(n),jdd.diffVal(e[n],t,i[n],r),r.currentPath.pop()):jdd.diffs.push(jdd.generateDiff(t,jdd.generatePath(t),r,jdd.generatePath(r),"Missing property <code>"+n+"</code> from the object on the right side",jdd.MISSING)),t.currentPath.pop());for(n in t.currentPath.pop(),r.currentPath.pop(),i)i.hasOwnProperty(n)&&(e.hasOwnProperty(n)||jdd.diffs.push(jdd.generateDiff(t,jdd.generatePath(t),r,jdd.generatePath(r,n),"Missing property <code>"+n+"</code> from the object on the left side",jdd.MISSING)));return jdd.diffs},diffVal:function(t,e,r,i){"array"===getType(t)?jdd.diffArray(t,e,r,i):"object"===getType(t)?["array","string","number","boolean","null"].indexOf(getType(r))>-1?jdd.diffs.push(jdd.generateDiff(e,jdd.generatePath(e),i,jdd.generatePath(i),"Both types should be objects",jdd.TYPE)):jdd.findDiffs(e,t,i,r):"string"===getType(t)?"string"!==getType(r)?jdd.diffs.push(jdd.generateDiff(e,jdd.generatePath(e),i,jdd.generatePath(i),"Both types should be strings",jdd.TYPE)):t!==r&&jdd.diffs.push(jdd.generateDiff(e,jdd.generatePath(e),i,jdd.generatePath(i),"Both sides should be equal strings",jdd.EQUALITY)):"number"===getType(t)?"number"!==getType(r)?jdd.diffs.push(jdd.generateDiff(e,jdd.generatePath(e),i,jdd.generatePath(i),"Both types should be numbers",jdd.TYPE)):t!==r&&jdd.diffs.push(jdd.generateDiff(e,jdd.generatePath(e),i,jdd.generatePath(i),"Both sides should be equal numbers",jdd.EQUALITY)):"boolean"===getType(t)?jdd.diffBool(t,e,r,i):"null"===getType(t)&&"null"!==getType(r)&&jdd.diffs.push(jdd.generateDiff(e,jdd.generatePath(e),i,jdd.generatePath(i),"Both types should be nulls",jdd.TYPE))},diffArray:function(t,e,r,i){if("array"===getType(r)){if(t.length<r.length)for(var n=t.length;n<r.length;n++)jdd.diffs.push(jdd.generateDiff(e,jdd.generatePath(e),i,jdd.generatePath(i,"["+n+"]"),"Missing element <code>"+n+"</code> from the array on the left side",jdd.MISSING));t.forEach(function(n,a){r.length<=a?jdd.diffs.push(jdd.generateDiff(e,jdd.generatePath(e,"["+a+"]"),i,jdd.generatePath(i),"Missing element <code>"+a+"</code> from the array on the right side",jdd.MISSING)):(e.currentPath.push("/["+a+"]"),i.currentPath.push("/["+a+"]"),"array"===getType(r)&&jdd.diffVal(t[a],e,r[a],i),e.currentPath.pop(),i.currentPath.pop())})}else jdd.diffs.push(jdd.generateDiff(e,jdd.generatePath(e),i,jdd.generatePath(i),"Both types should be arrays",jdd.TYPE))},diffBool:function(t,e,r,i){"boolean"!==getType(r)?jdd.diffs.push(jdd.generateDiff(e,jdd.generatePath(e),i,jdd.generatePath(i),"Both types should be booleans",jdd.TYPE)):t!==r&&jdd.diffs.push(jdd.generateDiff(e,jdd.generatePath(e),i,jdd.generatePath(i),t?"The left side is <code>true</code> and the right side is <code>false</code>":"The left side is <code>false</code> and the right side is <code>true</code>",jdd.EQUALITY))},formatAndDecorate:function(t,e){"array"!==getType(e)?(jdd.startObject(t),t.currentPath.push("/"),jdd.getSortedProperties(e).forEach(function(r){t.out+=jdd.newLine(t)+jdd.getTabs(t.indent)+'"'+jdd.unescapeString(r)+'": ',t.currentPath.push(r),t.paths.push({path:jdd.generatePath(t),line:t.line}),jdd.formatVal(e[r],t),t.currentPath.pop()}),jdd.finishObject(t),t.currentPath.pop()):jdd.formatAndDecorateArray(t,e)},formatAndDecorateArray:function(t,e){jdd.startArray(t),e.forEach(function(e,r){t.out+=jdd.newLine(t)+jdd.getTabs(t.indent),t.paths.push({path:jdd.generatePath(t,"["+r+"]"),line:t.line}),t.currentPath.push("/["+r+"]"),jdd.formatVal(e,t),t.currentPath.pop()}),jdd.finishArray(t),t.currentPath.pop()},startArray:function(t){t.indent++,t.out+="[",0===t.paths.length&&t.paths.push({path:jdd.generatePath(t),line:t.line}),0===t.indent&&t.indent++},finishArray:function(t){0===t.indent&&t.indent--,jdd.removeTrailingComma(t),t.indent--,t.out+=jdd.newLine(t)+jdd.getTabs(t.indent)+"]",t.out+=0!==t.indent?",":jdd.newLine(t)},startObject:function(t){t.indent++,t.out+="{",0===t.paths.length&&t.paths.push({path:jdd.generatePath(t),line:t.line}),0===t.indent&&t.indent++},finishObject:function(t){0===t.indent&&t.indent--,jdd.removeTrailingComma(t),t.indent--,t.out+=jdd.newLine(t)+jdd.getTabs(t.indent)+"}",t.out+=0!==t.indent?",":jdd.newLine(t)},formatVal:function(t,e){"array"===getType(t)?(e.out+="[",e.indent++,t.forEach(function(t,r){e.out+=jdd.newLine(e)+jdd.getTabs(e.indent),e.paths.push({path:jdd.generatePath(e,"["+r+"]"),line:e.line}),e.currentPath.push("/["+r+"]"),jdd.formatVal(t,e),e.currentPath.pop()}),jdd.removeTrailingComma(e),e.indent--,e.out+=jdd.newLine(e)+jdd.getTabs(e.indent)+"],"):"object"===getType(t)?jdd.formatAndDecorate(e,t):"string"===getType(t)?e.out+='"'+jdd.unescapeString(t)+'",':"number"===getType(t)||"boolean"===getType(t)?e.out+=t+",":"null"===getType(t)&&(e.out+="null,")},unescapeString:function(t){return t?t.replace("\\","\\\\").replace(/\"/g,'\\"').replace(/\n/g,"\\n").replace("\b","\\b").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/\t/g,"\\t"):t},generatePath:function(t,e){var r="";return t.currentPath.forEach(function(t){r+=t}),e&&(r+="/"+e),0===r.length?"/":r},newLine:function(t){return t.line++,"\n"},getSortedProperties:function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e.sort(function(t,e){return t.localeCompare(e)})},generateDiff:function(t,e,r,i,n,a){"/"!==e&&"/"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),"/"!==i&&"/"===i.charAt(i.length-1)&&(i=i.substring(0,i.length-1));var o=t.paths.find(function(t){return t.path===e}),l=r.paths.find(function(t){return t.path===i});if(!o)throw"Unable to find line number for ("+n+"): "+e;if(!l)throw"Unable to find line number for ("+n+"): "+i;return{path1:o,path2:l,type:a,msg:n}},getTabs:function(t){for(var e="",r=0;r<t;r++)e+="    ";return e},removeTrailingComma:function(t){","===t.out.charAt(t.out.length-1)&&(t.out=t.out.substring(0,t.out.length-1))},createConfig:function(){return{out:"",indent:-1,currentPath:[],paths:[],line:1}},formatPRETags:function(){forEach($("pre"),function(t){var e=$('<pre class="code-block"></pre>'),r=$('<div class="gutter"></div>');e.append(r);var i=$("<div></div>");e.append(i),$(t).text().split("\n").forEach(function(t,e){var n=$('<div class="code-line line'+(e+1)+'"></div>');r.append($('<span class="line-number">'+(e+1)+".</span>"));var a=$('<span class="code"></span');a.text(t),n.append(a),i.append(n)}),e.addClass($(t).attr("class")),e.attr("id",$(t).attr("id")),$(t).replaceWith(e)})},formatTextAreas:function(){forEach($("textarea"),function(t){var e=$('<div class="code-block"></div>'),r=$('<div class="gutter"></div>');e.append(r),$(t).val().split("\n").forEach(function(t,e){r.append($('<span class="line-number">'+(e+1)+".</span>"))}),$(t).replaceWith(e),e.append(t)})},highlightDiff:function(t){jdd.handleDiffClick(jdd.diffs[t].path1.line,jdd.BOTH)},showDiffDetails:function(t){t.forEach(function(t){var e=$("<li></li>");e.html(t.msg),$("ul.toolbar").append(e),e.click(function(){jdd.scrollToDiff(t)})})},scrollToDiff:function(t){$("html, body").animate({scrollTop:$("pre.left-container div.line"+t.path1.line+" span.code").offset().top},0)},processDiffs:function(){var t=[],e=[];jdd.diffs.forEach(function(r){$("pre.left-container div.line"+r.path1.line+" span.code").addClass(r.type).addClass("diff"),-1===t.indexOf(r.path1.line)&&($("pre.left-container div.line"+r.path1.line+" span.code").click(function(){jdd.handleDiffClick(r.path1.line,jdd.LEFT)}),t.push(r.path1.line)),$("pre.right-container div.line"+r.path2.line+" span.code").addClass(r.type).addClass("diff"),-1===e.indexOf(r.path2.line)&&($("pre.right-container div.line"+r.path2.line+" span.code").click(function(){jdd.handleDiffClick(r.path2.line,jdd.RIGHT)}),e.push(r.path2.line))}),jdd.diffs=jdd.diffs.sort(function(t,e){return t.path1.line-e.path1.line})},validateInput:function(t,e){try{return jsl.parser.parse(t),e===jdd.LEFT?($("#errorLeft").text("").hide(),$("#textarealeft").removeClass("error")):($("#errorRight").text("").hide(),$("#textarearight").removeClass("error")),!0}catch(r){return e===jdd.LEFT?($("#errorLeft").text(r.message).show(),$("#textarealeft").addClass("error")):($("#errorRight").text(r.message).show(),$("#textarearight").addClass("error")),!1}},compare:function(t,e){if(0===jdd.requestCount){var r=jdd.validateInput(t,jdd.LEFT),i=jdd.validateInput(e,jdd.RIGHT);if(r&&i){$("div.init-container").hide(),$("div.diff-container").show(),jdd.diffs=[];var n=JSON.parse(t),a=JSON.parse(e),o=jdd.createConfig();jdd.formatAndDecorate(o,n),$("#out").text(o.out);var l=jdd.createConfig();jdd.formatAndDecorate(l,a),$("#out2").text(l.out),jdd.formatPRETags(),o.currentPath=[],l.currentPath=[],jdd.diffVal(n,o,a,l),jdd.processDiffs(),$("#compare").prop("disabled",!1)}else $("#compare").prop("disabled",!1)}},getParameterByName:function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))}};function compareJSON(t,e){jdd.compare(t,e)}Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null===this)throw new TypeError('"this" is null or not defined');var e=Object(this),r=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var i=arguments[1],n=0;n<r;){var a=e[n];if(t.call(i,a,n,e))return a;n++}},configurable:!0,writable:!0}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null===this)throw new TypeError('"this" is null or not defined');var e=Object(this),r=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var i=arguments[1],n=0;n<r;){var a=e[n];if(t.call(i,a,n,e))return n;n++}return-1},configurable:!0,writable:!0});